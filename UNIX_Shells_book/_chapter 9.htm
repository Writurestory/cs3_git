<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Chapter 9</title>
<link rel="stylesheet" type="text/css" href="docsafari.css">
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body><table width="100%" border="1" bgcolor="#EBEBFF"><tr><td width="5%" align="left" valign="middle"><a href="_chapter 8.htm"><img src="Larrow.gif" width="17" height="19" border="0"></a></td><td align="center" valign="middle"><a class="docLink" href="Front matter.htm">CONTENTS</a></td><td width="5%" align="right" valign="middle"><a href="_chapter 10.htm"><img src="Rarrow.gif" width="17" height="19" border="0"></a></td></tr></table>

<h2 class="docChapterTitle">Chapter 9. The C Shell</h2><ul><li>&nbsp;<a class="docLink" href="#ch09lev1sec1">9.1 The Interactive C Shell</a></li>
<li>&nbsp;<a class="docLink" href="#ch09lev1sec2">9.2 Programming with the C Shell</a></li>
<li>&nbsp;<a class="docLink" href="#ch09lev1sec3">C SHELL LAB EXERCISES</a></li>
</ul>

<p class="docText">
<img alt="graphics/ch09.gif" src="ch09.gif" border="0" width="500" height="805"></p>
<h3 class="docSection1Title" id="ch09lev1sec1">9.1 The Interactive C Shell</h3>
<p class="docText">Before the C shell displays a prompt, it is preceded by a 
number of processes. See <a class="docLink" href="#ch09fig01">Figure 9.1</a>.</p>
<center>
<h5 id="ch09fig01" class="docFigureTitle">Figure 9.1. System startup and the C shell.</h5>
<p class="docText">
<img alt="graphics/09fig01.gif" src="09fig01.gif" border="0" width="430" height="486"></p>
</center>
<h4 class="docSection2Title" id="ch09lev2sec1">9.1.1 Startup</h4>
<p class="docText">After the system boots, the first process to run is called
<span class="docEmphasis">init;</span> it is assigned process identification 
number (PID) 1. It gets instructions from a file called
<span class="docEmphasis">inittab</span> (System V) or spawns a
<span class="docEmphasis">getty</span> process (BSD). These processes are 
responsible for opening up the terminal ports, for providing a place where input 
comes from (<span class="docEmphasis">stdin),</span> where standard output (<span class="docEmphasis">stdout</span>) 
and error (<span class="docEmphasis">stderr</span>) go, and for putting a login 
prompt on your screen. The <span class="docEmphasis">/bin/login</span> program 
is then executed. The login program prompts for a password, encrypts and 
verifies your password, sets up an initial working environment, and then 
initiates the shell, <span class="docEmphasis">/bin/csh.</span> The C shell 
looks in the user's home directory for a file called <span class="docEmphasis">.cshrc,</span> 
an initialization file allowing you to customize the C shell environment you 
will be working in. After executing commands in the <span class="docEmphasis">.cshrc</span> 
file, commands in the <span class="docEmphasis">.login</span> file are executed. 
The .<span class="docEmphasis">cshrc</span> file will be executed every time a 
new C shell is started. The <span class="docEmphasis">.login</span> file is 
executed only once when the user logs on, and also contains commands and 
variables to initialize the user's environment. After executing commands from 
those files, the percent sign prompt appears on your screen and the C shell 
awaits commands.</p>
<h4 class="docSection2Title" id="ch09lev2sec2">9.1.2 The Environment</h4>
<p class="docText"><b>Initialization Files.</b> After the
<span class="docEmphasis">csh</span> program starts, it is programmed to execute 
two files in the user's home directory: the <span class="docEmphasis">.cshrc</span> 
file and the <span class="docEmphasis">.login</span> file. These files allow 
users to initialize their own environments.</p>
<p class="docText"><span class="docEmphStrong">The .<span class="docEmphasis">cshrc</span> 
File.</span> The .<span class="docEmphasis">cshrc</span> file contains C shell 
variable settings and is executed every time a <span class="docEmphasis">csh</span> 
subshell is started. Aliases and history are normally set here.</p>
<h5 id="ch09list01" class="docExampleTitle">Example 9.1 </h5>
<pre>(The .cshrc File)
1   if ( $?prompt ) then
2      set prompt = &quot;\! stardust &gt; &quot;
3      set history = 32
4      set savehist = 5
5      set noclobber
6      set filec fignore = ( .o )
7      set cdpath = ( /home/jody/ellie/bin /usr/local/bin /usr/bin )
8      set ignoreeof
9      alias m more
       alias status 'date;du -s'
       alias cd 'cd \!*;set prompt = &quot;\! &lt;$cwd&gt; &quot;'
    endif
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the prompt has been set (<span class="docEmphasis">$?prompt</span>), 
      the shell is running interactively; i.e., it is not running in a script.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The primary prompt is set to the number of the current 
      history event, the name <span class="docEmphasis">stardust,</span> and a &gt; 
      character. This will change the % prompt, the default.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">history</span> variable 
      is set to <span class="docEmphasis">32</span>. This controls the number of 
      history events that will appear on the screen. The last 32 commands you 
      entered will be displayed when you type <span class="docEmphasis">history</span> 
      (see &quot;<a class="docLink" href="_chapter 10.htm#ch10lev2sec6">Command 
      Line History</a>&quot;).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Normally, when you log out, the history list is 
      cleared. The <span class="docEmphasis">savehist</span> variable allows you 
      to save a specified number of commands from the end of the history list. 
      In this example, the last 5 commands will be saved in a file in your home 
      directory, the <span class="docEmphasis">.history</span> file, so that 
      when you log in again, the shell can check to see if that file exists and 
      put the history lines saved at the top of the new history list.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">noclobber</span> variable 
      is set to protect the user from inadvertently removing files when using 
      redirection. For example, <span class="docEmphasis">sort myfile &gt; myfile</span> 
      will destroy <span class="docEmphasis">myfile.</span> With
      <span class="docEmphasis">noclobber</span> set, the message
      <span class="docEmphasis">file exists</span> will appear on the screen.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">filec</span> variable is 
      used for filename completion so that you only need to type the first 
      number of significant characters in a filename, press the ESC key, and the 
      shell will complete the rest of the filename. By pressing ^D (Control-D) 
      when typing in the filename, the C shell will display a list of files that 
      match that string. The <span class="docEmphasis">fignore</span> variable 
      allows you to exclude files that you do not want affected by filename 
      completion. In this case, all the <span class="docEmphasis">.o</span> 
      filenames (object files) will not be affected by <span class="docEmphasis">
      filec,</span> even though <span class="docEmphasis">filec</span> is set 
      (see &quot;Filename Completion: The filec Variable&quot; on page 355).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">cdpath</span> variable is 
      assigned a list of path elements. When changing directories, if you 
      specify just the directory name, and that directory is not a subdirectory 
      directly below the current working directory, the shell will search the
      <span class="docEmphasis">cdpath</span> directory entries to see if it can 
      find the directory in any of those locations and then will change the 
      directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">ignoreeof</span> variable 
      prevents you from logging out with ^D. UNIX utilities that accept input 
      from the keyboard, such as the <span class="docEmphasis">mail</span> 
      program, are terminated by pressing ^D. Often, on a slow system, the user 
      will be tempted to press ^D more than once. The first time, the
      <span class="docEmphasis">mail</span> program would be terminated, the 
      second time, the user is logged out. By setting <span class="docEmphasis">
      ignoreeof,</span> you are required to type <span class="docEmphasis">
      logout</span> to log out.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">aliases</span> are set to 
      give a shorthand notation for a single command or group of commands. Now 
      when you type the alias, the command(s) assigned to it will be executed. 
      The alias for the <span class="docEmphasis">more</span> command is
      <span class="docEmphasis">m.</span> Every time you type
      <span class="docEmphasis">m,</span> the <span class="docEmphasis">more</span> 
      command is executed. The <span class="docEmphasis">status</span> alias 
      prints the date and a summary of the user's disk usage. The
      <span class="docEmphasis">cd</span> alias creates a new prompt every time 
      the user changes directory. The new prompt will contain the number of the 
      current history event (\<span class="docEmphasis">!*</span>) and the 
      current working directory, <span class="docEmphasis">$cwd</span> 
      surrounded by &lt; &gt;. (see &quot;<a class="docLink" href="#ch09lev2sec5">Aliases</a>&quot;).</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
.login</span> File.</span> The <span class="docEmphasis">.login</span> file is 
executed one time when you first log in. It normally contains environment 
variables and terminal settings. It is the file where window applications are 
usually started. Since environment variables are inherited by processes spawned 
from this shell and only need to be set once, and terminal settings do not have 
to be reset for every process, those settings belong in the
<span class="docEmphasis">login</span> file.</p>
<h5 id="ch09list02" class="docExampleTitle">Example 9.2 </h5>
<pre>(The .login File)
1   stty -istrip
2   stty erase ^H
3   <span class="docEmphasis">#</span>
    <span class="docEmphasis"># If possible start the windows system.</span>
    <span class="docEmphasis"># Give a user a chance to bail out</span>
    <span class="docEmphasis">#</span>
4   if ( 'tty' == &quot;/dev/console&quot; ) then
5       if ( $TERM == &quot;sun&quot; || $TERM == &quot;AT386&quot; ) then
6              if ( ${?OPENWINHOME} == 0 ) then
7                   setenv OPENWINHOME /usr/openwin
8              endif
           echo &quot;&quot;
9          echo -n &quot;Starting OpenWindows in 5 seconds\
               (type Control-C to interrupt)&quot;
10         sleep 5
           echo &quot;&quot;
11         $OPENWINHOME/bin/openwin
12         clear
13         logout
       endif
    endif
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">stty</span> command sets 
      options for the terminal. Input characters will not be stripped to seven 
      bits if <span class="docEmphasis">-istrip</span> is an option.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">stty</span> command sets 
      the Backspace key (Control-H) to erase characters.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Any line beginning with a <span class="docEmphasis">#</span> 
      is a comment. It is not an executable statement.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the current terminal window (<span class="docEmphasis">tty</span>) 
      is the console (<span class="docEmphasis">/dev/console</span>), the next 
      line is executed; otherwise, program control goes to the last
      <span class="docEmphasis">endif.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the value of the <span class="docEmphasis">TERM</span> 
      variable is equal to sun or <span class="docEmphasis">AT386,</span> then 
      the next line is executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the <span class="docEmphasis">OPENWINHOME</span> 
      environment variable has not been set (<span class="docEmphasis">$?</span> 
      is <span class="docEmphasis">0</span> if not set, and
      <span class="docEmphasis">1</span> if set), the next line is executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">OPENWINHOME</span> 
      environment variable is set to <span class="docEmphasis">/usr/openwin.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This <span class="docEmphasis">endif</span> ends the
      <span class="docEmphasis">if</span> on line 5.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The line is displayed on the screen, letting the user 
      know that <span class="docEmphasis">OpenWindows</span> is starting unless 
      Control-C is typed within the next <span class="docEmphasis">5</span> 
      seconds.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The program sleeps (stops execution) for
      <span class="docEmphasis">5</span> seconds.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">openwin</span> program is 
      started. A set of terminal windows (shell and command tool windows and a 
      console window) will appear on the screen.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After closing windows, the screen will be cleared.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user will be logged out.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Search Path.</b> The <span class="docEmphasis">path</span> 
variable is used by the shell to locate commands typed at the command line. The 
search is from left to right. The dot represents the current working directory. 
If the command is not found in any of the directories listed in the path, or in 
the present working directory, the shell sends the message
<span class="docEmphasis">Command not found</span> to standard error. It is 
recommended that the path be set in the <span class="docEmphasis">.login</span> 
file.<span id="ENB9-1"><a class="docLink" href="#EN9-1"><sup>[1]</sup></a></span> 
The search path is set differently in the C shell than it is in the Bourne and 
Korn shells. Each of the elements is separated by whitespace. </p>

<pre>set path = (/usr/bin /usr/ucb /bin /usr .)
echo $path
/usr/bin /usr/ucb /bin /usr .
</pre>
<p class="docText">The environment variable <span class="docEmphasis">PATH</span> 
will display as:</p>
<pre>echo $PATH
/usr/bin:/usr/ucb:/bin:.
</pre>
<p class="docText">The C shell internally updates the environment variable for
<span class="docEmphasis">PATH</span> to maintain compatibility with other 
programs (such as the Bourne or Korn shells) that may be started from this shell 
and will need to use the <span class="docEmphasis">path</span> variable.</p>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
rehash</span> Command.</span> The shell builds an internal hash table consisting 
of the contents of the directories listed in the search path. (If the dot is in 
the search path, the files in the dot directory, the current working directory, 
are not put in the hash table.) For efficiency, the shell uses the hash table to 
find commands that are typed at the command line, rather than searching the path 
each time. If a new command is added to one of the directories already listed in 
the search path, the internal hash table must be recomputed. This is done by 
typing</p>
<pre>% <span class="docEmphStrong">rehash</span>
</pre>
<p class="docText">(The % is the C shell prompt.) The hash table is also 
automatically recomputed when you change your path at the prompt or start 
another shell.</p>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
hashstat</span> Command.</span> The <span class="docEmphasis">hashstat</span> 
command displays performance statistics to show the effectiveness of its search 
for commands from the hash table. The statistics are in terms of &quot;hits&quot; and 
&quot;misses.&quot; If the shell finds most of its commands you use at the end of your 
path, it has to work harder than if they were at the front of the path, 
resulting in a higher number of misses than hits. In such cases, you can put the 
most heavily hit directory toward the front of the path to improve performance.</p>
<pre>% <span class="docEmphStrong">hashstat</span>
<span class="docEmphasis">2 hits, 13 misses, 13%</span>
</pre>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
source</span> Command.</span> The <span class="docEmphasis">source</span> 
command is a shell built-in command, that is, part of the shell's internal code. 
It is used to execute a command or set of commands from a file. Normally, when a 
command is executed, the shell forks a child process to execute the command, so 
that any changes made will not affect the original shell, called the parent 
shell. The <span class="docEmphasis">source</span> command causes the program to 
be executed in the current shell, so that any variables set within the file will 
become part of the environment of the current shell. The
<span class="docEmphasis">source</span> command is normally used to reexecute 
the <span class="docEmphasis">.cshrc</span> or <span class="docEmphasis">.login</span> 
if either has been modified. For example, if the <span class="docEmphasis">path</span> 
is changed after logging in, type</p>
<pre>% <span class="docEmphStrong">source .login</span> or <span class="docEmphStrong">.cshrc</span>
</pre>
<p class="docText"><b>The Shell Prompts.</b> The C shell has two prompts: the
<span class="docEmphasis">primary</span> prompt, a percent sign (%), and the
<span class="docEmphasis">secondary</span> prompt, a question mark (?). The 
primary prompt is the one displayed on the terminal after you have logged in; it 
waits for you to type commands. The primary prompt can be reset. If you are 
writing scripts at the prompt that require C shell programming constructs, for 
example, decision-making or looping, the secondary prompt will appear so that 
you can continue onto the next line. It will continue to appear after each 
newline, until the construct has been properly terminated. The secondary prompt 
cannot be reset.</p>
<p class="docText"><b>The Primary Prompt.</b> When running interactively, the 
prompt waits for you to type a command and press the Enter key. If you do not 
want to use the default prompt, reset it in the .<span class="docEmphasis">cshrc</span> 
file and it will be set for this and all other C subshells. If you only want it 
set for this login session, set it at the shell prompt.</p>
<h5 id="ch09list03" class="docExampleTitle">Example 9.3 </h5>
<pre>1   % <span class="docEmphStrong">set prompt = &quot;$LOGNAME &gt; &quot;</span>
2   <span class="docEmphStrong">ellie &gt;</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The primary prompt is assigned the user's login name, 
      followed by a &gt; symbol and a space.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The new prompt is displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Secondary Prompt.</b> The secondary prompt appears 
when you are writing on-line scripts at the prompt. Whenever shell programming 
constructs are entered, followed by a newline, the secondary prompt appears and 
continues to appear until the construct is properly terminated. Writing scripts 
correctly at the prompt takes practice. Once the command is entered and you 
press Enter, you cannot back up, and the C shell history mechanism does not save 
commands typed at the secondary prompt.</p>
<h5 id="ch09list04" class="docExampleTitle">Example 9.4 </h5>
<pre>1   % foreach pal (joe tom ann)
2   <span class="docEmphStrong">?</span> mail $pal &lt; memo
3   <span class="docEmphStrong">?</span> end
4   %
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This is an example of on-line scripting. Because the C 
      shell is expecting further input after the <span class="docEmphasis">
      foreach</span> loop is entered, the secondary prompt appears. The
      <span class="docEmphasis">foreach</span> loop processes each word in the 
      parenthesized list.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first time in the loop, <span class="docEmphasis">
      joe</span> is assigned to the variable <span class="docEmphasis">pal.</span> 
      The user <span class="docEmphasis">joe</span> is sent the contents of
      <span class="docEmphasis">memo</span> in the mail. Then next time through 
      the loop, <span class="docEmphasis">tom</span> is assigned to the variable
      <span class="docEmphasis">pal,</span> and so on.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">end</span> statement 
      marks the end of the loop. When all of the items in the parenthesized list 
      have been processed, the loop ends and the primary prompt is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The primary prompt is displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec3">9.1.3 The Command Line</h4>
<p class="docText">After logging in, the C shell displays its primary prompt, by 
default a percent sign. The shell is your command interpreter. When the shell is 
running interactively, it reads commands from the terminal and breaks the 
command line into words. A command line consists of one or more words (or 
tokens) separated by whitespace (blanks and/or tabs) and terminated with a 
newline, generated by pressing the Enter key. The first word is the command, and 
subsequent words are the command's options and/or arguments. The command may be 
a UNIX executable program such as <span class="docEmphasis">ls</span> or
<span class="docEmphasis">pwd,</span> an alias, a built-in command such as
<span class="docEmphasis">cd</span> or <span class="docEmphasis">jobs,</span> or 
a shell script. The command may contain special characters, called
<span class="docEmphasis">metacharacters,</span> that the shell must interpret 
while parsing the command line. If the last character in the command line is a 
backslash, followed by a newline, the line can be continued to the next line.<span id="ENB9-2"><a class="docLink" href="#EN9-2"><sup>[2]</sup></a></span></p>
<p class="docText"><b>The Exit Status.</b> After a command or program 
terminates, it returns an <span class="docEmphasis">exit status</span> to the 
parent process. The exit status is a number between 0 and 255. By convention, 
when a program exits, if the status returned is zero, the command was successful 
in its execution. When the exit status is nonzero, the command failed in some 
way. The C shell status variable is set to the value of the exit status of the 
last command that was executed. Success or failure of a program is determined by 
the programmer who wrote the program.</p>
<h5 id="ch09list05" class="docExampleTitle">Example 9.5 </h5>
<pre>1 % grep &quot;ellie&quot; /etc/passwd
    <span class="docEmphasis">ellie:GgMyBsSJavd16s:9496:40:Ellie Quigley:/home/jody/ellie</span>
2 % <span class="docEmphStrong">echo $status</span>
    <span class="docEmphasis">0</span>
3 % grep &quot;nicky&quot; /etc/passwd
4   % <span class="docEmphStrong">echo $status</span>
    <span class="docEmphasis">1</span>
5   % grep &quot;scott&quot; /etc/passsswd
    <span class="docEmphasis">grep: /etc/passsswd: No such file or directory</span>
6   % <span class="docEmphStrong">echo $status</span>
    <span class="docEmphasis">2</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> program 
      searches for the pattern <span class="docEmphasis">ellie</span> in the
      <span class="docEmphasis">/etc/passwd</span> file and is successful. The 
      line from <span class="docEmphasis">/etc/passwd</span> is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The status variable is set to the exit value of the
      <span class="docEmphasis">grep</span> command; <span class="docEmphasis">0</span> 
      indicates success.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> program 
      cannot find user <span class="docEmphasis">nicky</span> in the
      <span class="docEmphasis">/etc/passwd</span> file.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> program 
      cannot find the pattern, so it returns an exit status of
      <span class="docEmphasis">1.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> fails because 
      the file <span class="docEmphasis">/etc/passsswd</span> cannot be opened.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">Grep</span> cannot find the 
      file, so it returns an exit status of <span class="docEmphasis">2.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Command Grouping.</b> A command line can consist of 
multiple commands. Each command is separated by a semicolon and the command line 
is terminated with a newline.</p>
<h5 id="ch09list06" class="docExampleTitle">Example 9.6 </h5>
<pre>% <span class="docEmphStrong">ls; pwd; cal 2001</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The commands are executed from left to right until the 
    newline is reached.</td>
  </tr>
</table>

<p class="docText">Commands may also be grouped so that all of the output is 
either piped to another command or redirected to a file. The shell executes 
commands in a subshell.</p>
<h5 id="ch09list07" class="docExampleTitle">Example 9.7 </h5>
<pre>1  % <span class="docEmphStrong">( ls ; pwd; cal 2001 ) &gt; outputfile</span>
2  % <span class="docEmphStrong">pwd; ( cd / ; pwd ) ; pwd</span>
   <span class="docEmphasis">/home/jody/ellie</span>
   <span class="docEmphasis">/</span>
   <span class="docEmphasis">/home/jody/ellie</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of each of the commands is sent to the file 
      called <span class="docEmphasis">outputfile.</span> Without the 
      parentheses, the output of the first two commands would go to the screen, 
      and only the output of the <span class="docEmphasis">cal</span> command 
      would be redirected to the output file.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">pwd</span> command 
      displays the present working directory. The parentheses cause the commands 
      enclosed within them to be processed by a subshell. The
      <span class="docEmphasis">cd</span> command is built into the shell. While 
      in the subshell, the directory is changed to <span class="docEmphasis">
      root</span> and the present working directory is displayed. When out of 
      the subshell, the present working directory of the original shell is 
      displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Conditional Execution of Commands.</b> With conditional 
execution, two command strings are separated by two special metacharacters, 
double ampersand and double vertical (<span class="docEmphasis">&amp;&amp;</span> and
<span class="docEmphasis">||</span>). The command on the right of either of 
these metacharacters will or will not be executed based on the exit condition of 
the command on the left.</p>
<h5 id="ch09list08" class="docExampleTitle">Example 9.8 </h5>
<pre>% <span class="docEmphStrong">grep '^tom:' /etc/passwd &amp;&amp; mail tom &lt; letter</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">If the first command is successful (has a zero exit 
    status), the second command after the <span class="docEmphasis">&amp;&amp;</span> is 
    executed. If the <span class="docEmphasis">grep</span> command successfully 
    finds <span class="docEmphasis">tom</span> in the <span class="docEmphasis">
    passwd</span> file, the command on the right will be executed: The
    <span class="docEmphasis">mail</span> program will send
    <span class="docEmphasis">tom</span> the contents of the
    <span class="docEmphasis">letter</span> file.</td>
  </tr>
</table>

<h5 id="ch09list09" class="docExampleTitle">Example 9.9 </h5>
<pre>% <span class="docEmphStrong">grep '^tom:' /etc/passwd || echo &quot;tom is not a user here.&quot;</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">If the first command fails (has a nonzero exit status), 
    the second command after the <span class="docEmphasis">||</span> is 
    executed. If the <span class="docEmphasis">grep</span> command does not find
    <span class="docEmphasis">tom</span> in the <span class="docEmphasis">passwd</span> 
    file, the command on the right will be executed: The
    <span class="docEmphasis">echo</span> program will print
    <span class="docEmphasis">tom is not a user here.</span> to the screen.</td>
  </tr>
</table>

<p class="docText"><b>Commands in the Background.</b> Normally, when you execute 
a command, it runs in the foreground, and the prompt does not reappear until the 
command has completed execution. It is not always convenient to wait for the 
command to complete. By placing an ampersand at the end of the command line, the 
shell will return the shell prompt immediately so that you do not have to wait 
for the last command to complete before starting another one. The command 
running in the background is called a <span class="docEmphasis">background job</span> 
and its output will be sent to the screen as it processes. It can be confusing 
if two commands are sending output to the screen concurrently. To avoid 
confusion, you can send the output of the job running in the background to a 
file or pipe it to another device such as a printer. It is often handy to start 
a new shell window in the background, so you will have access to both the window 
from which you started and the new shell window.</p>
<h5 id="ch09list10" class="docExampleTitle">Example 9.10 </h5>
<pre>1   % <span class="docEmphStrong">man xview | lp&amp;</span>
2   <span class="docEmphasis">[1] 1557</span>
3   %
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output from the man pages for the
      <span class="docEmphasis">xview</span> program is piped to the printer. 
      The ampersand at the end of the command line puts the job in the 
      background.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">There are two numbers that appear on the screen: The 
      number in square brackets indicates that this is the first job to be 
      placed in the background, and the second number is the PID of this job.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The shell prompt appears immediately. While your 
      program is running in the background, the shell is prompting you for 
      another command in the foreground.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec4">9.1.4 Command Line History</h4>
<p class="docText">The history mechanism is built into the C shell. It keeps a 
numbered list of the commands (called <span class="docEmphasis">history events</span>) 
that you have typed at the command line. You can recall a command from the 
history list and reexecute it without retyping the command. The history 
substitution character, the exclamation point, is often called the
<span class="docEmphasis">bang</span> character. The history built-in command 
displays the history list.</p>
<h5 id="ch09list11" class="docExampleTitle">Example 9.11 </h5>
<pre>(The Command Line)
% <span class="docEmphStrong">history</span>
<span class="docEmphasis">1 cd</span>
<span class="docEmphasis">2 ls</span>
<span class="docEmphasis">3 more /etc/fstab</span>
<span class="docEmphasis">4 /etc/mount</span>
<span class="docEmphasis">5 sort index</span>
<span class="docEmphasis">6 vi index</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The history list displays the last commands that were 
    typed at the command line. Each event in the list is preceded with a number.</td>
  </tr>
</table>

<p class="docText"><b>Setting History.</b> The C shell <span class="docEmphasis">
history</span> variable is set to the number of events you want to save from the 
history list and display on the screen. Normally, this is set in the
<span class="docEmphasis">cshrc</span> file, the user's initialization file.</p>
<h5 id="ch09list12" class="docExampleTitle">Example 9.12 </h5>
<pre><span class="docEmphStrong">set history=50</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The last <span class="docEmphasis">50</span> commands 
    typed at the terminal are saved and may be displayed on the screen by typing 
    the <span class="docEmphasis">history</span> command.</td>
  </tr>
</table>

<p class="docText"><b>Saving History.</b> To save history events across logins, 
set the <span class="docEmphasis">savehist</span> variable. This variable is 
normally set in the <span class="docEmphasis">.cshrc</span> file, the user's 
initialization file.</p>
<h5 id="ch09list13" class="docExampleTitle">Example 9.13 </h5>
<pre><span class="docEmphStrong">set savehist=25</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The last <span class="docEmphasis">25</span> commands 
    from the history list are saved and will be at the top of the history list 
    the next time you log in.</td>
  </tr>
</table>

<p class="docText"><b>Displaying History.</b> The <span class="docEmphasis">
history</span> command displays the events in the history list. The history 
command also has options that control the number of events and the format of the 
events that will be displayed. The numbering of events does not necessarily 
start at one. If you have 100 commands on the history list, and you have set the 
history variable to 25, you will only see the last 25 commands saved.</p>
<h5 id="ch09list14" class="docExampleTitle">Example 9.14 </h5>
<pre>% <span class="docEmphStrong">history</span>
<span class="docEmphasis">1 ls</span>
<span class="docEmphasis">2 vi file1</span>
<span class="docEmphasis">3 df</span>
<span class="docEmphasis">4 ps –eaf</span>
<span class="docEmphasis">5 history</span>
<span class="docEmphasis">6 more /etc/passwd</span>
<span class="docEmphasis">7 cd</span>
<span class="docEmphasis">8 echo $USER</span>
<span class="docEmphasis">9 set</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The history list is displayed. Each command is numbered.</td>
  </tr>
</table>

<h5 id="ch09list15" class="docExampleTitle">Example 9.15 </h5>
<pre>% <span class="docEmphStrong">history –h</span>       <span class="docEmphasis"># Print without line numbers</span>
<span class="docEmphasis">ls</span>
<span class="docEmphasis">vi file1</span>
<span class="docEmphasis">df</span>
<span class="docEmphasis">ps –eaf</span>
<span class="docEmphasis">history</span>
<span class="docEmphasis">more /etc/passwd</span>
<span class="docEmphasis">cd</span>
<span class="docEmphasis">echo $USER</span>
<span class="docEmphasis">set</span>
<span class="docEmphasis">history –n</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The history list is displayed without line numbers.</td>
  </tr>
</table>

<h5 id="ch09list16" class="docExampleTitle">Example 9.16 </h5>
<pre>% <span class="docEmphStrong">history –r</span>       <span class="docEmphasis"># Print the history list in reverse</span>
<span class="docEmphasis">11 history –r</span>
<span class="docEmphasis">10 history –h</span>
 <span class="docEmphasis">9 set</span>
 <span class="docEmphasis">8 echo $USER</span>
 <span class="docEmphasis">7 cd</span>
 <span class="docEmphasis">6 more /etc/passwd</span>
 <span class="docEmphasis">5 history</span>
 <span class="docEmphasis">4 ps –eaf</span>
 <span class="docEmphasis">3 df</span>
 <span class="docEmphasis">2 vi file1</span>
 <span class="docEmphasis">1 ls</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The history list is displayed in reverse order.</td>
  </tr>
</table>

<h5 id="ch09list17" class="docExampleTitle">Example 9.17 </h5>
<pre>% <span class="docEmphStrong">history 5</span>        <span class="docEmphasis"># Prints the last 5 events on the history list</span>
<span class="docEmphasis">7   echo $USER</span>
<span class="docEmphasis">8   cd</span>
<span class="docEmphasis">9   set</span>
<span class="docEmphasis">10  history –n</span>
<span class="docEmphasis">11  history 5</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The last five commands on the history list are displayed.</td>
  </tr>
</table>

<p class="docText"><b>Reexecuting Commands.</b> To reexecute a command from the 
history list, the exclamation point (bang) is used. If you type two exclamation 
points (!!), the last command is reexecuted. If you type the exclamation point 
followed by a number, the number is associated with the command from the history 
list and the command is executed. If you type an exclamation point and a letter, 
the last command that started with that letter is executed. The caret (^) is 
also used as a shortcut method for editing the previous command.</p>
<h5 id="ch09list18" class="docExampleTitle">Example 9.18 </h5>
<pre>1   % <span class="docEmphStrong">date</span>
    <span class="docEmphasis">Mon Feb  8 12:27:35 PST 2001</span>

2   % <span class="docEmphStrong">!!</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">Mon Feb  8 12:28:25 PST 2001</span>

3   % <span class="docEmphStrong">!3</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">Mon Feb  8 12:29:26 PST 2001</span>

4   % <span class="docEmphStrong">!d</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">Mon Feb  8 12:30:09 PST 2001</span>

5   % <span class="docEmphStrong">dare</span>
    <span class="docEmphasis">dare: Command not found.</span>

6   % <span class="docEmphStrong">^r^t</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">Mon Feb  8 12:33:25 PST 2001</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The UNIX <span class="docEmphasis">date</span> command 
      is executed at the command line. The history list is updated. This is the 
      last command on the list.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">!!</span> (bang bang) 
      gets the last command from the history list; the command is reexecuted.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The third command on the history list is reexecuted.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The last command on the history list that started with 
      the letter <span class="docEmphasis">d</span> is reexecuted.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The command is mistyped.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The carets are used to substitute letters from the last 
      command on the history list. The first occurrence of an
      <span class="docEmphasis">r</span> is replaced with a
      <span class="docEmphasis">t.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list19" class="docExampleTitle">Example 9.19 </h5>
<pre>1   % <span class="docEmphStrong">cat  file1 file2 file3</span>

       <span class="docEmphasis">&lt;Contents of files displayed here&gt;</span>

    % <span class="docEmphStrong">vi !:1</span>
    <span class="docEmphasis">vi file1</span>

2   % <span class="docEmphStrong">cat file1 file2 file3</span>

       <span class="docEmphasis">&lt;Contents of file, file2, and file3 are displayed here&gt;</span>

    % <span class="docEmphStrong">ls !:2</span>
    <span class="docEmphasis">ls file2</span>
    <span class="docEmphasis">file2</span>

3   % <span class="docEmphStrong">cat file1 file2 file3</span>
    % <span class="docEmphStrong">ls  !:3</span>
    <span class="docEmphasis">ls file3</span>
    <span class="docEmphasis">file3</span>

4   % <span class="docEmphStrong">echo a b c</span>
    <span class="docEmphasis">a b c</span>
    % <span class="docEmphStrong">echo !$</span>
    <span class="docEmphasis">echo c</span>
    <span class="docEmphasis">c</span>

5   % <span class="docEmphStrong">echo a b c</span>
    <span class="docEmphasis">a b c</span>
    % <span class="docEmphStrong">echo !^</span>
    <span class="docEmphasis">echo a</span>
    <span class="docEmphasis">a</span>

6   % <span class="docEmphStrong">echo a b c</span>
    <span class="docEmphasis">a b c</span>
    % <span class="docEmphStrong">echo !*</span>
    <span class="docEmphasis">echo a b c</span>
    <span class="docEmphasis">a b c</span>

7   % <span class="docEmphStrong">!!:p</span>
    <span class="docEmphasis">echo a b c</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">cat</span> command 
      displays the contents of <span class="docEmphasis">file1</span> to the 
      screen. The history list is updated. The command line is broken into 
      words, starting with word number zero. If the word number is preceded by a 
      colon, that word can be extracted from the history list. The
      <span class="docEmphasis">!:1</span> notation means,
      <span class="docEmphasis">get the first argument from the last command on 
      the history list and replace it in the command string.</span> The first 
      argument from the last command is <span class="docEmphasis">file1.</span> 
      (Word <span class="docEmphasis">0</span> is the command itself.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">!:2</span> is replaced 
      with the second argument of the last command, <span class="docEmphasis">
      file2,</span> and given as an argument to <span class="docEmphasis">ls. 
      file2</span> is printed. (<span class="docEmphasis">file2</span> is the 
      third word.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">ls !:3</span> reads,
      <span class="docEmphasis">go to the last command on the history list and 
      get the fourth word (words start at zero) and pass it to the</span> ls
      <span class="docEmphasis">command as an argument</span> (<span class="docEmphasis">file3</span> 
      is the fourth word).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The bang (<span class="docEmphasis">!</span>) with the 
      dollar sign (<span class="docEmphasis">$</span>) refers to the last 
      argument of the last command on the history list. The last argument is
      <span class="docEmphasis">c.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The caret (<span class="docEmphasis">^</span>) 
      represents the first argument after the command. The bang (<span class="docEmphasis">!</span>) 
      with the <span class="docEmphasis">^</span> refers to the first argument 
      of the last command on the history list. The first argument of the last 
      command is <span class="docEmphasis">a.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The asterisk (<span class="docEmphasis">*</span>) 
      represents all arguments after the command. The bang (<span class="docEmphasis">!</span>) 
      with the <span class="docEmphasis">*</span> refers to all of the arguments 
      of the last command on the history list.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The last command from the history list is printed but 
      not executed. The history list is updated. You could now perform caret 
      substitutions on that line.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec5">9.1.5 Aliases</h4>
<p class="docText">An <span class="docEmphasis">alias</span> is a C shell 
user-defined abbreviation for a command. Aliases are useful when a command has a 
number of options and arguments or the syntax is difficult to remember. Aliases 
set at the command line are not inherited by subshells. Aliases are normally set 
in the <span class="docEmphasis">.cshrc</span> file. Since the
<span class="docEmphasis">.cshrc</span> is executed when a new shell is started, 
any aliases set there will get reset for the new shell. Aliases may also be 
passed into shell scripts, but will cause potential portability problems unless 
they are directly set within the script.</p>
<p class="docText"><b>Listing Aliases.</b> The <span class="docEmphasis">alias</span> 
built-in command lists all set aliases. The alias is printed first, followed by 
the real command or commands it represents.</p>
<h5 id="ch09list20" class="docExampleTitle">Example 9.20 </h5>
<pre>% <span class="docEmphStrong">alias</span>
<span class="docEmphasis">co      compress</span>
<span class="docEmphasis">cp      cp –i</span>
<span class="docEmphasis">ls1     enscript –B –r –Porange –f Courier8 !* &amp;</span>
<span class="docEmphasis">mailq   /usr/lib/sendmail –bp</span>
<span class="docEmphasis">mroe    more</span>
<span class="docEmphasis">mv      mv –i</span>
<span class="docEmphasis">rn      /usr/spool/news/bin/rn3</span>
<span class="docEmphasis">uc      uncompress</span>
<span class="docEmphasis">uu      uudecode</span>
<span class="docEmphasis">vg      vgrind –t –s11 !:1 | lpr –t</span>
<span class="docEmphasis">weekly  (cd /home/jody/ellie/activity; ./weekly_report; echo Done)</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The <span class="docEmphasis">alias</span> command lists 
    the alias (nickname) for the command in the first column and the real 
    command the alias represents in the second column.</td>
  </tr>
</table>

<p class="docText"><b>Creating Aliases.</b> The <span class="docEmphasis">alias</span> 
command is used to create an alias. The first argument is the name of the alias, 
the nickname for the command. The rest of the line consists of the command or 
commands that will be executed when the alias is executed. Multiple commands are 
separated by a semicolon, and commands containing spaces and metacharacters are 
surrounded by single quotes.</p>
<h5 id="ch09list21" class="docExampleTitle">Example 9.21 </h5>
<pre>1   % <span class="docEmphStrong">alias m more</span>
2   % <span class="docEmphStrong">alias mroe more</span>
3   % <span class="docEmphStrong">alias lF 'ls -alF'</span>
4   % <span class="docEmphStrong">alias cd  'cd \!*; set prompt = &quot;$cwd   &gt;&quot;'</span>
    % <span class="docEmphStrong">cd ..</span>
    /home/jody &gt;  <span class="docEmphBoldItalic">cd /</span>         <span class="docEmphasis"># New prompt displayed</span>
    <span class="docEmphStrong">/ &gt;</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The nickname for the <span class="docEmphasis">more</span> 
      command is set to <span class="docEmphasis">m.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias for the <span class="docEmphasis">more</span> 
      command is set to <span class="docEmphasis">mroe.</span> This is handy if 
      you can't spell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias definition is enclosed in quotes because of 
      the whitespace. The alias <span class="docEmphasis">lF</span> is a 
      nickname for the command <span class="docEmphasis">ls –alF.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When <span class="docEmphasis">cd</span> is executed, 
      the alias for <span class="docEmphasis">cd</span> will cause
      <span class="docEmphasis">cd</span> to go to the directory named as an 
      argument and will then reset the prompt to the current working directory 
      followed by the string <span class="docEmphasis">&gt;.</span> The
      <span class="docEmphasis">!*</span> is used by the alias in the same way 
      it is used by the history mechanism. The backslash prevents the history 
      mechanism from evaluating the <span class="docEmphasis">!*</span> first 
      before the alias has a chance to use it. The <span class="docEmphasis">\!*</span> 
      represents the arguments from the most recent command on the history list.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Deleting Aliases.</b> The <span class="docEmphasis">
unalias</span> command is used to delete an alias. To temporarily turn off an 
alias, the alias name is preceded by a backslash.</p>
<h5 id="ch09list22" class="docExampleTitle">Example 9.22 </h5>
<pre>1   % <span class="docEmphStrong">unalias mroe</span>
2   % <span class="docEmphStrong">\cd ..</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">unalias</span> command 
      deletes the alias <span class="docEmphasis">mroe</span> from the list of 
      defined aliases.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias <span class="docEmphasis">cd</span> is 
      temporarily turned off for this execution of the command only.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Alias Loop.</b> An alias loop occurs when an alias 
definition references another alias that references back to the original alias.</p>
<h5 id="ch09list23" class="docExampleTitle">Example 9.23 </h5>
<pre>1   % alias m more
2   % alias mroe m
3   % alias m mroe         <span class="docEmphasis"># Causes a loop</span>
4   % <span class="docEmphStrong">m datafile</span>
    <span class="docEmphasis">Alias loop.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias is <span class="docEmphasis">m.</span> The 
      alias definition is <span class="docEmphasis">more.</span> Every time
      <span class="docEmphasis">m</span> is used, the <span class="docEmphasis">
      more</span> command is executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias is <span class="docEmphasis">mroe.</span> The 
      alias definition is <span class="docEmphasis">m.</span> If
      <span class="docEmphasis">mroe</span> is typed, the alias
      <span class="docEmphasis">m</span> is invoked and the
      <span class="docEmphasis">more</span> command is executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This is the culprit. If alias <span class="docEmphasis">
      m</span> is used, it invokes alias <span class="docEmphasis">mroe,</span> 
      and alias <span class="docEmphasis">mroe</span> references back to
      <span class="docEmphasis">m,</span> causing an alias loop. Nothing bad 
      happens. You just get an error message.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Alias <span class="docEmphasis">m</span> is used. It is 
      circular. <span class="docEmphasis">M</span> calls
      <span class="docEmphasis">mroe</span> and <span class="docEmphasis">mroe</span> 
      calls <span class="docEmphasis">m,</span> then <span class="docEmphasis">m</span> 
      calls <span class="docEmphasis">mroe,</span> etc., etc. Rather than 
      looping forever, the C shell catches the problem and displays an error 
      message.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec6">9.1.6 Job Control</h4>
<p class="docText">Job control is a powerful feature of the C shell that allows 
you to run programs, called <span class="docEmphasis">jobs,</span> in the 
background or foreground. Normally, a command typed at the command line runs in 
the foreground, and will continue until it has finished. If you have windows, 
job control may not be necessary, since you can simply open another window to 
start a new task. On the other hand, with a single terminal, job control is a 
very useful feature. For a list of job commands, see
<a class="docLink" href="#ch09table01">Table 9.1</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table01" class="docTableTitle">Table 9.1. Job Control Commands</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Command</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">jobs</span>
    </td>
    <td class="docTableCell" vAlign="top">Lists all the jobs running. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">^Z (Control-Z) </td>
    <td class="docTableCell" vAlign="top">Stops (suspends) the job; the prompt 
    appears on the screen. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">bg</span>
    </td>
    <td class="docTableCell" vAlign="top">Starts running the stopped job in the 
    background. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">fg</span>
    </td>
    <td class="docTableCell" vAlign="top">Brings a background job to the 
    foreground. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">kill</span>
    </td>
    <td class="docTableCell" vAlign="top">Sends the <span class="docEmphasis">
    kill</span> signal to a specified job. </td>
  </tr>
</table>

<p class="docText"><b>The Ampersand and Background Jobs.</b> If you expect a 
command to take a long time to complete, you can append the command with an 
ampersand and the job will execute in the background. The C shell prompt returns 
immediately and now you can type another command. Now the two commands are 
running concurrently, one in the background and one in the foreground. They both 
send their standard output to the screen. If you place a job in the background, 
it is a good idea to redirect its output either to a file or pipe it to a device 
such as a printer.</p>
<h5 id="ch09list24" class="docExampleTitle">Example 9.24 </h5>
<pre>1   % <span class="docEmphStrong">find . -name core -exec rm {} \; &amp;</span>
2   <span class="docEmphasis">[1]  543</span>
3   %
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">find</span> command runs 
      in the background. (Without the <span class="docEmphasis">–print</span> 
      option, the <span class="docEmphasis">find</span> command does not send 
      any output to the screen).<span id="ENB9-3"><a class="docLink" href="#EN9-3"><sup>[3]</sup></a></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The number in square brackets indicates this is the 
      first job to be run in the background and the PID for this process is
      <span class="docEmphasis">543.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The prompt returns immediately. The shell waits for 
      user input.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Suspend Key Sequence and Background Jobs.</b> To 
suspend a program, the suspend key sequence, ^Z, is issued. The job is now 
suspended (stopped), the shell prompt is displayed, and the program will not 
resume until the <span class="docEmphasis">fg</span> or
<span class="docEmphasis">bg</span> commands are issued. (When using the
<span class="docEmphasis">vi</span> editor, the <span class="docEmphasis">ZZ</span> 
command writes and saves a file. Do not confuse this with ^Z, which would 
suspend the <span class="docEmphasis">vi</span> session.) If you try to log out 
when a job is suspended, the message <span class="docEmphasis">There are stopped 
jobs</span> appears on the screen.</p>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
jobs</span> Command.</span> The C shell built-in command,
<span class="docEmphasis">jobs,</span> displays the programs that are currently 
active and either running or suspended in the background.
<span class="docEmphasis">Running</span> means the job is executing in the 
background. When a job is <span class="docEmphasis">stopped,</span> it is 
suspended; it is not in execution. In both cases, the terminal is free to accept 
other commands.</p>
<h5 id="ch09list25" class="docExampleTitle">Example 9.25 </h5>
<pre>(The Command Line)
1   % <span class="docEmphStrong">jobs</span>
2   <span class="docEmphasis">[1] + Stopped vi filex</span>
    <span class="docEmphasis">[2] - Running sleep 25</span>

3   % <span class="docEmphStrong">jobs -l</span>
    <span class="docEmphasis">[1] + 355  Stopped vi filex</span>
    <span class="docEmphasis">[2] - 356  Running sleep 25</span>

4   <span class="docEmphasis">[2] Done sleep 25</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">jobs</span> command lists 
      the currently active jobs.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The notation <span class="docEmphasis">[1]</span> is 
      the number of the first job; the plus sign indicates that the job is not 
      the most recent job to be placed in the background; the dash indicates 
      that this is the most recent job put in the background;
      <span class="docEmphasis">Stopped</span> means that this job was suspended 
      with ^Z and is not currently active.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">–l</span> option (long 
      listing) displays the number of the job as well as the PID of the job. The 
      notation <span class="docEmphasis">[2]</span> is the number of the second 
      job, in this case, the last job placed in the background. The dash 
      indicates that this is the most recent job. The <span class="docEmphasis">
      sleep</span> command is running in the background.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After <span class="docEmphasis">sleep</span> has been 
      running for <span class="docEmphasis">25</span> seconds, the job will 
      complete and a message saying that it has finished appears on the screen.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Foreground and Background Commands.</b> The
<span class="docEmphasis">fg</span> command brings a background job into the 
foreground. The <span class="docEmphasis">bg</span> command starts a suspended 
job running in the background. A percent sign and the number of a job can be 
used as arguments to <span class="docEmphasis">fg</span> and
<span class="docEmphasis">bg</span> if you want to select a particular job for 
job control.</p>
<h5 id="ch09list26" class="docExampleTitle">Example 9.26 </h5>
<pre>1   % <span class="docEmphStrong">jobs</span>
2   <span class="docEmphasis">[1] + Stopped vi filex</span>
    <span class="docEmphasis">[2] - Running cc prog.c -o prog</span>
3   % <span class="docEmphStrong">fg %1</span>
    <span class="docEmphasis">vi filex</span>
    <span class="docEmphasis">(vi session starts</span>)
4   % <span class="docEmphStrong">kill %2</span>
    <span class="docEmphasis">[2] Terminated cc prog.c -o prog</span>
5   % <span class="docEmphStrong">sleep 15</span>
    (Press ^z)
    <span class="docEmphasis">Stopped</span>
6   % <span class="docEmphStrong">bg</span>
    <span class="docEmphasis">[1] sleep 15 &amp;</span>
    <span class="docEmphasis">[1] Done   sleep 15</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">jobs</span> command lists 
      currently running processes, called jobs.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first job stopped is the <span class="docEmphasis">
      vi</span> session, the second job is the <span class="docEmphasis">cc</span> 
      command.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The job numbered <span class="docEmphasis">[1]</span> 
      is brought to the foreground. The number is preceded with a percent sign.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">kill</span> command is 
      built-in. It sends the <span class="docEmphasis">TERM</span> (terminate) 
      signal, by default, to a process. The argument is either the number or the 
      PID of the process.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">sleep</span> command is 
      stopped by pressing ^Z. The <span class="docEmphasis">sleep</span> command 
      is not using the CPU and is suspended in the background.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">bg</span> command causes 
      the last background job to start executing in the background. The
      <span class="docEmphasis">sleep</span> program will start the countdown in 
      seconds before execution resumes.<span id="ENB9-4"><a class="docLink" href="#EN9-4"><sup>[4]</sup></a></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec7">9.1.7 Metacharacters</h4>
<p class="docText">Metacharacters are special characters that are used to 
represent something other than themselves. As a rule of thumb, characters that 
are neither letters nor numbers may be metacharacters. The shell has its own set 
of metacharacters, often called <span class="docEmphasis">shell wildcards.</span> 
Shell metacharacters can be used to group commands together, to abbreviate 
filenames and pathnames, to redirect and pipe input/output, to place commands in 
the background, and so forth. <a class="docLink" href="#ch09table02">Table 9.2</a> 
presents a partial list of shell metacharacters.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table02" class="docTableTitle">Table 9.2. Shell Metacharacters</h5>
  </caption>
  <colgroup span="4" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Metacharacter</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Purpose</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Example</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$</span>
    </td>
    <td class="docTableCell" vAlign="top">Variable substitution </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">set name=Tom 
    echo $name</span> <span class="docEmphasis">Tom</span> </td>
    <td class="docTableCell" vAlign="top">Sets the variable
    <span class="docEmphasis">name</span> to <span class="docEmphasis">Tom;</span> 
    displays the value stored there. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!</span>
    </td>
    <td class="docTableCell" vAlign="top">History substitution </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!3</span>
    </td>
    <td class="docTableCell" vAlign="top">Reexecutes the third event from the 
    history list.</td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">*</span>
    </td>
    <td class="docTableCell" vAlign="top">Filename substitution </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">rm *</span>
    </td>
    <td class="docTableCell" vAlign="top">Removes all files. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">?</span>
    </td>
    <td class="docTableCell" vAlign="top">Filename substitution </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ls ??</span>
    </td>
    <td class="docTableCell" vAlign="top">Lists all two-character files. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">[ ]</span>
    </td>
    <td class="docTableCell" vAlign="top">Filename substitution </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">cat f[123]</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays contents of
    <span class="docEmphasis">f1, f2, f3.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">;</span>
    </td>
    <td class="docTableCell" vAlign="top">Command separator </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ls;date;pwd</span>
    </td>
    <td class="docTableCell" vAlign="top">Each command is executed in turn. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&amp;</span>
    </td>
    <td class="docTableCell" vAlign="top">Background processing </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">lp mbox&amp;</span>
    </td>
    <td class="docTableCell" vAlign="top">Printing is done in the background. 
    Prompt returns immediately. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirection of output </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ls &gt; file</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirects standard output to
    <span class="docEmphasis">file.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&lt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirection of input </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ls &lt; file</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirects standard input from
    <span class="docEmphasis">file.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;&amp;</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirection of output and error </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ls &gt;&amp; file</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirects both output and errors to
    <span class="docEmphasis">file.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;!</span>
    </td>
    <td class="docTableCell" vAlign="top">If <span class="docEmphasis">noclobber</span> 
    is set, override it </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ls &gt;! file</span>
    </td>
    <td class="docTableCell" vAlign="top">If <span class="docEmphasis">file</span> 
    exists, truncate and overwrite it, even if <span class="docEmphasis">
    noclobber</span> is set. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;&gt;!</span>
    </td>
    <td class="docTableCell" vAlign="top">If <span class="docEmphasis">noclobber</span> 
    is set, override it </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ls &gt;&gt;! file</span>
    </td>
    <td class="docTableCell" vAlign="top">If <span class="docEmphasis">file</span> 
    does not exist, create it; even if <span class="docEmphasis">noclobber</span> 
    is set. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">( )</span>
    </td>
    <td class="docTableCell" vAlign="top">Groups commands to be executed in a 
    subshell </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">(ls ; pwd) &gt;tmp</span>
    </td>
    <td class="docTableCell" vAlign="top">Executes commands and sends output to
    <span class="docEmphasis">tmp</span> file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">{ }</span>
    </td>
    <td class="docTableCell" vAlign="top">Groups commands to be executed in this 
    shell </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">{ cd /; echo 
    $cwd }</span> </td>
    <td class="docTableCell" vAlign="top">Changes to root directory and displays 
    current working directory. </td>
  </tr>
</table>

<p class="docText"><b>Filename Substitution.</b> When evaluating the command 
line, the shell uses metacharacters to abbreviate filenames or pathnames that 
match a certain set of characters. The filename substitution metacharacters 
listed in <a class="docLink" href="#ch09table03">Table 9.3</a> are expanded into 
an alphabetically listed set of filenames. The process of expanding a 
metacharacter into filenames is also called <span class="docEmphasis">globbing.</span> 
Unlike the other shells, when the C shell cannot substitute a filename for the 
metacharacter it is supposed to represent, the shell reports
<span class="docEmphasis">No match.</span></p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table03" class="docTableTitle">Table 9.3. Shell Metacharacters and Filename 
  Substitution</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Metacharacter</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">*</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches zero or more characters. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">?</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches exactly one character. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">[abc]</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches one character in the set:
    <span class="docEmphasis">a,</span> <span class="docEmphasis">b,</span> or
    <span class="docEmphasis">c.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">[a–z]</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches one character in the range
    <span class="docEmphasis">a</span> to <span class="docEmphasis">z.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">{a, ile,ax}</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches for a character or set of 
    characters. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">~</span>
    </td>
    <td class="docTableCell" vAlign="top">Substitutes the user's home directory 
    for tilde. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\</span>
    </td>
    <td class="docTableCell" vAlign="top">Escapes or disables the metacharacter.
    </td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec8">9.1.8 Expanding the Metacharacters</h4>
<p class="docText">The shell performs filename substitution by evaluating its 
metacharacters and replacing them with the appropriate letters or digits in a 
filename.</p>
<p class="docText"><b>The Asterisk.</b> The asterisk matches zero or more 
characters in a filename.</p>
<h5 id="ch09list27" class="docExampleTitle">Example 9.27 </h5>
<pre>1   % <span class="docEmphStrong">ls</span>
    <span class="docEmphasis">a.c b.c abc ab3 file1 file2 file3 file4 file5</span>

2   % <span class="docEmphStrong">echo *</span>
    <span class="docEmphasis">a.c b.c abc ab3 file1 file2 file3 file4 file5</span>

3   % <span class="docEmphStrong">ls  *.c</span>
    <span class="docEmphasis">a.c b.c</span>

4   % <span class="docEmphStrong">rm  z*p</span>
    <span class="docEmphasis">No match.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All the files in the current directory are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">echo</span> program 
      prints all its arguments to the screen. The asterisk (also called a
      <span class="docEmphasis">splat</span>) is a wildcard that means,
      <span class="docEmphasis">match for zero or more of any characters found 
      in a filename.</span> All the files in the directory are matched and 
      echoed to the screen.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Filenames ending in .<span class="docEmphasis">c</span> 
      are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Since none of the files in the directory start with
      <span class="docEmphasis">z,</span> the shell reports
      <span class="docEmphasis">No match.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Question Mark.</b> The question mark matches exactly 
one character in a filename.</p>
<h5 id="ch09list28" class="docExampleTitle">Example 9.28 </h5>
<pre>1   % <span class="docEmphStrong">ls</span>
    <span class="docEmphasis">a.c b.c abc ab3 file1 file2 file3 file4 file5</span>

2   % <span class="docEmphStrong">ls ???</span>
    <span class="docEmphasis">abc ab3</span>

3   % <span class="docEmphStrong">echo How are you?</span>
    <span class="docEmphasis">No match.</span>

4   % <span class="docEmphStrong">echo How are you\?</span>
    <span class="docEmphasis">How are you?</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All the files in the current directory are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The question mark matches for a single-character 
      filename. Any filenames consisting of three characters are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The shell looks for a filename spelled
      <span class="docEmphasis">y-o-u</span> followed by one character. There is 
      not a file in the directory that matches these characters. The shell 
      prints <span class="docEmphasis">No match.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The backslash preceding the question mark is used to 
      turn off the special meaning of the question mark. Now the shell treats 
      the question mark as a literal character.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Square Brackets.</b> The square brackets match a 
filename for one character from a set or range of characters.</p>
<h5 id="ch09list29" class="docExampleTitle">Example 9.29 </h5>
<pre>1   % <span class="docEmphStrong">ls</span>
    <span class="docEmphasis">a.c b.c abc ab3 file1 file2 file3 file4 file5 file10</span>
    <span class="docEmphasis">file11  file12</span>

2   % <span class="docEmphStrong">ls file[123]</span>
    <span class="docEmphasis">file1 file2 file3</span>

3   % <span class="docEmphStrong">ls [A-Za-z][a-z][1-5]</span>
    <span class="docEmphasis">ab3</span>

4   % <span class="docEmphStrong">ls file1[0-2]</span>
    <span class="docEmphasis">file10 file11 file12</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All the files in the current directory are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Filenames starting with <span class="docEmphasis">file</span> 
      and follwed with a <span class="docEmphasis">1, 2,</span> or
      <span class="docEmphasis">3</span> are matched and listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Filenames starting with a letter (either uppercase or 
      lowercase) followed by a lowercase letter, and followed by a number 
      between <span class="docEmphasis">1</span> and <span class="docEmphasis">5</span> 
      are matched and listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Filenames starting with <span class="docEmphasis">file1</span> 
      and followed by a <span class="docEmphasis">0, 1,</span> or 2 are listed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Curly Braces.</b> The curly braces (<span class="docEmphasis">{}</span>)match 
for a character or string of characters in a filename.</p>
<h5 id="ch09list30" class="docExampleTitle">Example 9.30 </h5>
<pre>1   % <span class="docEmphStrong">ls</span>
    <span class="docEmphasis">a.c b.c abc ab3 ab4 ab5 file1 file2 file3 file4 file5 foo</span>
    <span class="docEmphasis">faa fumble</span>

2   % <span class="docEmphStrong">ls f{oo,aa,umble}</span>
    <span class="docEmphasis">foo faa fumble</span>

3   % <span class="docEmphStrong">ls a{.c,c,b[3-5]}</span>
    <span class="docEmphasis">a.c ab3 ab4 ab5</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All the files in the current directory are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Files starting with <span class="docEmphasis">f</span> 
      and followed by the strings <span class="docEmphasis">oo,</span>
      <span class="docEmphasis">aa,</span> or <span class="docEmphasis">umble</span> 
      are listed. Spaces inside the curly braces will cause the error message
      <span class="docEmphasis">Missing }.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Files starting with <span class="docEmphasis">a</span> 
      followed by <span class="docEmphasis">.c, c,</span> or
      <span class="docEmphasis">b3, b4,</span> or <span class="docEmphasis">b5</span> 
      are listed. (The square brackets can be used inside the curly braces.)</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Escaping Metacharacters.</b> The backslash is used to 
escape the special meaning of a single character. The escaped character will 
represent itself.</p>
<h5 id="ch09list31" class="docExampleTitle">Example 9.31 </h5>
<pre>1   % <span class="docEmphStrong">gotta light?</span>
    <span class="docEmphasis">No match.</span>
2   % <span class="docEmphStrong">gotta light\?</span>
    <span class="docEmphasis">gotta: Command not found.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This is a little UNIX joke. The question mark is a file 
      substitution metacharacter and evaluates to a single character. The shell 
      looks for a file in the present working directory that contains the 
      characters <span class="docEmphasis">l-i-g-h-t,</span> followed by a 
      single character. If the shell cannot find the file, it reports
      <span class="docEmphasis">No match.</span> This shows you something about 
      the order in which the shell parses the command line. The metacharacters 
      are evaluated before the shell tries to locate the
      <span class="docEmphasis">gotta</span> command.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The backslash protects the metacharacter from 
      interpretation, often called escaping the metacharacter. Now the shell 
      does not complain about a <span class="docEmphasis">No match,</span> but 
      searches the path for the <span class="docEmphasis">gotta</span> command, 
      which is not found.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Tilde Expansion.</b> The tilde character by itself expands 
to the full pathname of the user's home directory. When the tilde is prepended 
to a username, it expands to the full pathname of that user's home directory. 
When prepended to a path, it expands to the home directory and the rest of the 
pathname.</p>
<h5 id="ch09list32" class="docExampleTitle">Example 9.32 </h5>
<pre>1   % <span class="docEmphStrong">echo ~</span>
    <span class="docEmphasis">/home/jody/ellie</span>

2   % <span class="docEmphStrong">cd ~/desktop/perlstuff</span>
    % <span class="docEmphStrong">pwd</span>
    <span class="docEmphasis">/home/jody/ellie/desktop/perlstuff</span>

3   % <span class="docEmphStrong">cd ~joe</span>
    % <span class="docEmphStrong">pwd</span>
    <span class="docEmphasis">/home/bambi/joe</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">tilde</span> expands to 
      the user's home directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The tilde followed by a pathname expands to the user's 
      home directory, followed by <span class="docEmphasis">/desktop/perlstuff.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The tilde followed by a username expands to the home 
      directory of the user. In this example, the directory is changed to that 
      user's home directory.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">Filename Completion: The
<span class="docEmphasis">filec</span> Variable.</span> When running 
interactively, the C shell provides a shortcut method for typing a filename or 
username. The built-in <span class="docEmphasis">filec</span> variable, when 
set, is used for what is called filename completion. If you type the first few 
significant characters of a file in the current working directory and press the 
ESC key, the shell fills in the rest of the filename, provided that there are 
not a number of other files beginning with the same characters. If you type 
Control-D after the partial spelling of the file, the shell will print out a 
list of files that match those characters. The terminal beeps if there are 
multiple matches. If the list begins with a tilde, the shell attempts to expand 
that list to a username.</p>
<h5 id="ch09list33" class="docExampleTitle">Example 9.33 </h5>
<pre>1   % <span class="docEmphStrong">set filec</span>
2   % ls
    <span class="docEmphasis">rum rumple rumplestilsken run2</span>
3   % <span class="docEmphStrong">ls ru[ESC]</span><span id="ENB9-5"><a class="docLink" href="#EN9-5"><sup>[5]</sup></a></span>     <span class="docEmphasis"># terminal beeps</span>
4   % <span class="docEmphStrong">ls rum^D</span>
    <span class="docEmphasis">rum rumple rumplestilsken</span>
5   % <span class="docEmphStrong">ls rump[ESC]</span>
    <span class="docEmphasis">rumple</span>
6   % <span class="docEmphStrong">echo ~ell[ESC]</span>
    <span class="docEmphasis">/home/jody/ellie</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The special C shell variable <span class="docEmphasis">
      filec</span> is set. Filename completion can be used.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The files in the present working directory are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Filename completion is attempted. The letters
      <span class="docEmphasis">r</span> and <span class="docEmphasis">u</span> 
      are not unique; that is, the shell does not know which one to pick, so it 
      causes the terminal to beep.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After the letters <span class="docEmphasis">r-u-m</span> 
      are typed, ^D is pressed. A list of all filenames beginning with
      <span class="docEmphasis">rum</span> are displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first filename starting with
      <span class="docEmphasis">rump</span> is completed and displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If a tilde precedes a partially spelled username, the 
      shell will attempt to complete the spelling of the user's name and display 
      the user's home directory.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Turning Off Metacharacters with noglob.</b> If the
<span class="docEmphasis">noglob</span> variable is set, filename substitution 
is turned off, meaning that all metacharacters represent themselves; they are 
not used as wildcards. This can be useful when searching for patterns in 
programs like <span class="docEmphasis">grep, sed,</span> or
<span class="docEmphasis">awk,</span> which may contain metacharacters that the 
shell may try to expand.</p>
<h5 id="ch09list34" class="docExampleTitle">Example 9.34 </h5>
<pre>1   % <span class="docEmphStrong">set noglob</span>
2   % <span class="docEmphStrong">echo * ?? [] ~</span>
    <span class="docEmphasis">* ?? [] ~</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">noglob</span> is 
      set. It turns off the special meaning of the wildcards.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The metacharacters are displayed as themselves without 
      any interpretation.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec9">9.1.9 Redirection and Pipes</h4>
<p class="docText">Normally, standard output (<span class="docEmphasis">stdout</span>) 
from a command goes to the screen, standard input (<span class="docEmphasis">stdin</span>) 
comes from the keyboard, and error messages (<span class="docEmphasis">stderr</span>) 
go to the screen. The shell allows you to use the special redirection 
metacharacters to redirect the input/output to or from a file. The redirection 
operators (&lt;, &gt;, &gt;&gt;, &gt;&amp;) are followed by a filename. This file is opened by the 
shell before the command on the left-hand side is executed.</p>
<p class="docText">Pipes, represented by a vertical bar (|) symbol, allow the 
output of one command to be sent to the input of another command. The command on 
the left-hand side of the pipe is called the <span class="docEmphasis">writer</span> 
because it writes to the pipe. The command on the right-hand side of the pipe is 
the <span class="docEmphasis">reader</span> because it reads from the pipe. See
<a class="docLink" href="#ch09table04">Table 9.4</a> for a list of redirection 
and pipe metacharacters.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table04" class="docTableTitle">Table 9.4. Redirection Metacharacters</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Metacharacter</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &lt; 
    file</span> </td>
    <td class="docTableCell" vAlign="top">Redirects input from
    <span class="docEmphasis">file</span> to <span class="docEmphasis">command.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt; 
    file</span> </td>
    <td class="docTableCell" vAlign="top">Redirects output from
    <span class="docEmphasis">command</span> to <span class="docEmphasis">file.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt;&amp; 
    file</span> </td>
    <td class="docTableCell" vAlign="top">Redirects output and errors to
    <span class="docEmphasis">file.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt;&gt; 
    file</span> </td>
    <td class="docTableCell" vAlign="top">Redirects output of
    <span class="docEmphasis">command</span> and appends it to
    <span class="docEmphasis">file.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt;&gt;&amp; 
    file</span> </td>
    <td class="docTableCell" vAlign="top">Redirects and appends output and 
    errors of <span class="docEmphasis">command</span> to
    <span class="docEmphasis">file.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &lt;&lt; 
    WORD</span> </td>
    <td class="docTableCell" vAlign="top">Redirects input from first
    <span class="docEmphasis">WORD</span> to terminating
    <span class="docEmphasis">WORD</span> to <span class="docEmphasis">command.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&lt;input&gt;</span>
    </td>
    <td class="docTableCell" vAlign="top">User input goes here. It will be 
    treated as a doubly quoted string of text. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">WORD</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">WORD</span> 
    marks the termination of input to command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command</span> 
    | <span class="docEmphasis">command</span> </td>
    <td class="docTableCell" vAlign="top">Pipes output of first
    <span class="docEmphasis">command</span> to input of second
    <span class="docEmphasis">command.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command</span> 
    |<span class="docEmphasis">&amp; command</span> </td>
    <td class="docTableCell" vAlign="top">Pipes output and errors of first 
    command to input of second command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt;! 
    file</span> </td>
    <td class="docTableCell" vAlign="top">If the <span class="docEmphasis">
    noclobber</span> variable is set, override its effects for this command and 
    either open or overwrite <span class="docEmphasis">file.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt;&gt;! 
    file</span> </td>
    <td class="docTableCell" vAlign="top">Override <span class="docEmphasis">
    noclobber</span> variable; if file does not exist, it is created and output 
    from <span class="docEmphasis">command</span> is appended to it. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt;&gt;&amp;! 
    file</span> </td>
    <td class="docTableCell" vAlign="top">Override <span class="docEmphasis">
    noclobber</span> variable; if <span class="docEmphasis">file</span> does not 
    exist, it is created and both output and errors are appended to it. </td>
  </tr>
</table>

<p class="docText"><b>Redirecting Input.</b> Instead of the input coming from 
the terminal keyboard, it can be redirected from a file. The shell will open the 
file on the right-hand side of the &lt; symbol and the program on the left will 
read from the file. If the file does not exist, the error
<span class="docEmphasis">No such file or directory</span> will be reported by 
the C shell.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>command &lt; file
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list35" class="docExampleTitle">Example 9.35 </h5>
<pre><span class="docEmphStrong">mail bob &lt; memo</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The file <span class="docEmphasis">memo</span> is opened 
    by the shell, and the input is redirected to the <span class="docEmphasis">
    mail</span> program. Simply, the user <span class="docEmphasis">bob</span> 
    is sent a file called <span class="docEmphasis">memo</span> by the
    <span class="docEmphasis">mail</span> program.</td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
here</span> document.</span> The <span class="docEmphasis">here document</span> 
is another way to redirect input to a command. It is used in shell scripts for 
creating menus and processing input from other programs. Normally, programs that 
accept input from the keyboard are terminated with Control-D (^d). The
<span class="docEmphasis">here document</span> provides an alternate way of 
sending input to a program and terminating the input without typing ^D. The &lt;&lt; 
symbol is followed by a user-defined word, often called a
<span class="docEmphasis">terminator.</span> Input will be directed to the 
command on the left-hand side of the &lt;&lt; symbol until the user-defined terminator 
is reached. The final terminator is on a line by itself, and cannot be 
surrounded by any spaces. Variable and command substitution are performed within 
the <span class="docEmphasis">here document.</span> (Normally,
<span class="docEmphasis">here documents</span> are used in shell scripts to 
create menus and provide input to commands such as <span class="docEmphasis">
mail, bc, ex, ftp,</span> etc.)</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>command &lt;&lt; MARK
       ... input ...
MARK
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list36" class="docExampleTitle">Example 9.36 </h5>
<pre>(Without the <span class="docEmphasis">here document</span>)
(The Command Line)
1   % <span class="docEmphStrong">cat</span>
2   <span class="docEmphStrong">Hello There.</span>
    <span class="docEmphStrong">How are you?</span>
    <span class="docEmphStrong">I'm tired of this.</span>
3   <span class="docEmphStrong">^D</span>

(The Output)
4   <span class="docEmphasis">Hello There.</span>
    <span class="docEmphasis">How are you?</span>
    <span class="docEmphasis">I'm tired of this.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">cat</span> program, 
      without arguments, waits for keyboard input.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user types input at the keyboard.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user types ^D to terminate input to the
      <span class="docEmphasis">cat</span> program.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">cat</span> program sends 
      its output to the screen.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list37" class="docExampleTitle">Example 9.37 </h5>
<pre>(With the <span class="docEmphasis">here document</span>)
(The Command Line)
1   % <span class="docEmphStrong">cat &lt;&lt; DONE</span>
2   <span class="docEmphStrong">Hello There.</span>
    <span class="docEmphStrong">How are you?</span>
    <span class="docEmphStrong">I'm tired of this.</span>
3   <span class="docEmphStrong">DONE</span>

(The Output)
4   <span class="docEmphasis">Hello There.</span>
    <span class="docEmphasis">How are you?</span>
    <span class="docEmphasis">I'm tired of this.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">cat</span> program will 
      receive input from the first <span class="docEmphasis">DONE</span> to the 
      terminating <span class="docEmphasis">DONE.</span> The words are 
      user-defined terminators.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">These lines are input. When the word
      <span class="docEmphasis">DONE</span> is reached, no more input is 
      accepted.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The final terminator marks the end of input. There 
      cannot be any spaces on either side of this word.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The text between the first word
      <span class="docEmphasis">DONE</span> and the final word
      <span class="docEmphasis">DONE</span> is the output of the
      <span class="docEmphasis">cat</span> command (from &quot;here&quot; to &quot;here&quot;) and 
      is sent to the screen. The final <span class="docEmphasis">DONE</span> 
      must be against the left margin with no space or other text to the right 
      of it.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list38" class="docExampleTitle">Example 9.38 </h5>
<pre>(The Command Line)
1   % <span class="docEmphStrong">set name = steve</span>
2   % <span class="docEmphStrong">mail $name &lt;&lt; EOF</span>
3   <span class="docEmphStrong">Hello there, $name</span>
4   <span class="docEmphStrong">The hour is now 'date +%H'</span>
5   <span class="docEmphStrong">EOF</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The shell variable <span class="docEmphasis">name</span> 
      is assigned the username <span class="docEmphasis">steve.</span> 
      (Normally, this example would be included in a shell script.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">name</span> is 
      expanded within the <span class="docEmphasis">here document.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">mail</span> program will 
      receive input until the terminator EOF is reached.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Command substitution is performed within the
      <span class="docEmphasis">here document;</span> that is, the command 
      within the backquotes is executed and the output of the command is 
      replaced within the string.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The terminator EOF is reached, and input to the
      <span class="docEmphasis">mail</span> program is stopped.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Redirecting Output.</b> By default, the standard output of 
a command or commands normally goes to the terminal screen. To redirect standard 
output from the screen to a file, the &gt; symbol is used. The command is on the 
left-hand side of the &gt; symbol, and a filename is on the right-hand side. The 
shell will open the file on the right-hand side of the &gt; symbol. If the file 
does not exist, the shell will create it; if it does exist, the shell will open 
the file and truncate it. Often files are inadvertently removed when using 
redirection. (A special C shell variable, called <span class="docEmphasis">
noclobber,</span> can be set to prevent redirection from clobbering an existing 
file. See <a class="docLink" href="#ch09table05">Table 9.5</a>.)</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>command &gt; file
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list39" class="docExampleTitle">Example 9.39 </h5>
<pre><span class="docEmphStrong">cat file1 file2 &gt; file3</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The contents of <span class="docEmphasis">file1</span> 
    and <span class="docEmphasis">file2</span> are concatenated and the output 
    is sent to <span class="docEmphasis">file3.</span> Remember that the shell 
    opens <span class="docEmphasis">file3</span> before it attempts to execute 
    the <span class="docEmphasis">cat</span> command. If
    <span class="docEmphasis">file3</span> already exists and contains data, the 
    data will be lost. If <span class="docEmphasis">file3</span> does not exist, 
    it will be created.</td>
  </tr>
</table>

<p class="docText"><b>Appending Output to an Existing File.</b> To append output 
to an existing file, the &gt;&gt; symbol is used. If the file on the right-hand side 
of the &gt;&gt; symbol does not exist, it is created; if it does exist, the file is 
opened and output is appended to the end of the file.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>command &gt;&gt; file
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list40" class="docExampleTitle">Example 9.40 </h5>
<pre><span class="docEmphStrong">date &gt;&gt; outfile</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The standard output of the <span class="docEmphasis">date</span> 
    command is redirected and appended to <span class="docEmphasis">outfile.</span></td>
  </tr>
</table>

<p class="docText"><b>Redirecting Output and Error.</b> The
<span class="docEmphasis">&gt;&amp;</span> symbol is used to redirect both standard 
output and standard error to a file. Normally, a command is either successful 
and sends its output to <span class="docEmphasis">stdout,</span> or fails and 
sends its error messages to <span class="docEmphasis">stderr.</span> Some 
recursive programs, such as <span class="docEmphasis">find</span> and
<span class="docEmphasis">du,</span> send both standard output and errors to the 
screen as they move through the directory tree. By using the
<span class="docEmphasis">&gt;&amp;</span> symbol, both standard output and standard 
error can be saved in a file and examined. The C shell does not provide a symbol 
for redirection of only standard error, but it is possible to get just the 
standard error by executing the command in a subshell. See
<a class="docLink" href="#ch09fig02">Figure 9.2</a>.</p>
<center>
<h5 id="ch09fig02" class="docFigureTitle">Figure 9.2. Redirecting <span class="docEmphasis">
stdout</span> and <span class="docEmphasis">stderr.</span> See
<a class="docLink" href="#ch09list41">Example 9.41</a>.</h5>
<p class="docText">
<img alt="graphics/09fig02.gif" src="09fig02.gif" border="0" width="500" height="432"></p>
</center>
<h5 id="ch09list41" class="docExampleTitle">Example 9.41 </h5>
<pre>1   % <span class="docEmphStrong">date</span>
    <span class="docEmphasis">Tue Aug 3 10:31:56  PDT  2001</span>
2   % <span class="docEmphStrong">date &gt;&amp; outfile</span>
3   % <span class="docEmphStrong">cat outfile</span>
    <span class="docEmphasis">Tue Aug 3 10:31:56  PDT  2001</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">date</span> 
      command is sent to standard output, the screen.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output and errors are sent to
      <span class="docEmphasis">outfile.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Since there were no errors, the standard output is sent 
      to <span class="docEmphasis">outfile</span> and the contents of the file 
      are displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list42" class="docExampleTitle">Example 9.42 </h5>
<pre>1   % <span class="docEmphStrong">cp file1 file2</span>
2   % <span class="docEmphStrong">cp file1</span>
     <span class="docEmphasis">Usage: cp [-ip] f1 f2; or: cp [-ipr] f1 ... fn d2</span>

3   % <span class="docEmphStrong">cp file1 &gt;&amp; errorfile</span>
4   % <span class="docEmphStrong">cat errorfile</span>
     <span class="docEmphasis">Usage: cp [-ip] f1 f2; or: cp [-ipr] f1 ... fn d2</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">To copy a file, the <span class="docEmphasis">cp</span> 
      command requires both a source file and a destination file. The
      <span class="docEmphasis">cp</span> command makes a copy of
      <span class="docEmphasis">file1</span> and puts the copy in
      <span class="docEmphasis">file2.</span> Since the
      <span class="docEmphasis">cp</span> command is given the correct syntax, 
      nothing is displayed to the screen. The copy was successful.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This time the destination file is missing and the
      <span class="docEmphasis">cp</span> command fails, sending an error to
      <span class="docEmphasis">stderr,</span> the terminal.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">&gt;&amp;</span> symbol is used 
      to send both <span class="docEmphasis">stdout</span> and
      <span class="docEmphasis">stderr</span> to <span class="docEmphasis">
      errorfile.</span> Since the only output from the command is the error 
      message, that is what is saved in <span class="docEmphasis">errorfile.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The contents of errorfile are displayed, showing that 
      it contains the error message produced by the <span class="docEmphasis">cp</span> 
      command.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Separating Output and Errors.</b> Standard output and 
standard error can be separated by enclosing the command in parentheses. When a 
command is enclosed in parentheses, the C shell starts up a subshell, handles 
redirection from within the subshell, and then executes the command. By using 
the technique shown in <a class="docLink" href="#ch09list43">Example 9.43</a>, 
the standard output can be separated from the errors.</p>
<h5 id="ch09list43" class="docExampleTitle">Example 9.43 </h5>
<pre>(The Command Line)
1   % <span class="docEmphStrong">find . -name ' * .c' -print &gt;&amp; outputfile</span>
2   % <span class="docEmphStrong">(find . -name '*.c' -print &gt; goodstuff) &gt;&amp; badstuff</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">find</span> command will 
      start at the current directory, searching for all files ending in
      <span class="docEmphasis">.c,</span> and will print the output to
      <span class="docEmphasis">outputfile.</span> If an error occurs, that will 
      also go into <span class="docEmphasis">outputfile.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">find</span> command is 
      enclosed within parentheses. The shell will create a subshell to handle 
      the command. Before creating the subshell, the words outside the 
      parentheses will be processed; that is, the <span class="docEmphasis">
      badstuff</span> file will be opened for both standard output and error. 
      When the subshell is started, it inherits the standard input, output, and 
      errors from its parent. The subshell then has standard input coming from 
      the keyboard, and both standard output and standard error going to the
      <span class="docEmphasis">badstuff</span> file. Now the subshell will 
      handle the &gt; operator. The <span class="docEmphasis">stdout</span> will be 
      assigned the file <span class="docEmphasis">goodstuff.</span> The output 
      is going to <span class="docEmphasis">goodstuff,</span> and the errors are 
      going to <span class="docEmphasis">badstuff.</span> See
      <a class="docLink" href="#ch09fig03">Figure 9.3</a>.</p>
      <center>
      <h5 id="ch09fig03" class="docFigureTitle">Figure 9.3. Separating
      <span class="docEmphasis">stdout</span> and <span class="docEmphasis">
      stderr.</span></h5>
      <p class="docText">
      <img alt="graphics/09fig03.gif" src="09fig03.gif" border="0" width="500" height="309"></p>
      </center></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
noclobber</span> Variable.</span> The special C shell built-in variable
<span class="docEmphasis">noclobber,</span> when set, protects you from 
clobbering files with redirection. See <a class="docLink" href="#ch09table05">
Table 9.5</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table05" class="docTableTitle">Table 9.5. The <span class="docEmphasis">noclobber</span> 
  Variable</h5>
  </caption>
  <colgroup span="3" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphStrong">
    noclobber</span> <span class="docEmphBoldItalic">Is Not Set</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">File 
    Exists</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">File 
    Does Not Exist</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt; 
    file</span> </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">file</span> 
    is overwritten. </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">file</span> 
    is created. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt;&gt; 
    file</span> </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">file</span> 
    is appended to. </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">file</span> 
    is created. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top" colSpan="3">
    <span class="docEmphStrong">noclobber</span> <span class="docEmphBoldItalic">
    Is Set</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt; 
    file</span> </td>
    <td class="docTableCell" vAlign="top">Error message. </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">file</span> 
    is created. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt;&gt; 
    file</span> </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">file</span> 
    is appended to. </td>
    <td class="docTableCell" vAlign="top">Error message. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top" colSpan="3">
    <span class="docEmphBoldItalic">Overwriting</span>
    <span class="docEmphStrong">noclobber</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt;! 
    file</span> </td>
    <td class="docTableCell" vAlign="top" colSpan="2">If the
    <span class="docEmphasis">noclobber</span> variable is set, override its 
    effects for this <span class="docEmphasis">command</span> and either open or 
    truncate <span class="docEmphasis">file,</span> redirecting output of
    <span class="docEmphasis">command</span> to <span class="docEmphasis">file.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command &gt;&gt;! 
    file</span> </td>
    <td class="docTableCell" vAlign="top" colSpan="2">Override
    <span class="docEmphasis">noclobber</span> variable; if
    <span class="docEmphasis">file</span> does not exist, it is created and 
    output from <span class="docEmphasis">command</span> is appended to it. (See
    <a class="docLink" href="#ch09list44">Example 9.44</a>.) </td>
  </tr>
</table>

<h5 id="ch09list44" class="docExampleTitle">Example 9.44 </h5>
<pre>1   % <span class="docEmphStrong">cat filex</span>
    <span class="docEmphasis">abc</span>
    <span class="docEmphasis">123</span>

2   % <span class="docEmphStrong">date &gt; filex</span>
3   % <span class="docEmphStrong">cat filex</span>
    <span class="docEmphasis">Wed Aug 5 11:51:04  PDT 2001</span>

4   % <span class="docEmphStrong">set noclobber</span>
5   % date &gt; filex
    filex: File exists.

6   % <span class="docEmphStrong">ls &gt;! filex</span>   <span class="docEmphasis"># Override noclobber for this command only</span>
    % cat filex
    <span class="docEmphasis">abc</span>
    <span class="docEmphasis">ab1</span>
    <span class="docEmphasis">dir</span>
    <span class="docEmphasis">filex</span>
    <span class="docEmphasis">plan.c</span>
7   % <span class="docEmphStrong">ls &gt; filex</span>
    <span class="docEmphasis">filex:  File exists.</span>

8   % <span class="docEmphStrong">unset noclobber</span>     # <span class="docEmphasis">Turn off noclobber permanently</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The contents of <span class="docEmphasis">filex</span> 
      are displayed on the screen.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">date</span> 
      command is redirected to <span class="docEmphasis">filex.</span> The file 
      is truncated and its original contents overwritten.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The contents of <span class="docEmphasis">filex</span> 
      are displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">noclobber</span> variable 
      is set.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Since <span class="docEmphasis">filex</span> already 
      exists and <span class="docEmphasis">noclobber</span> is set, the shell 
      reports that the file exists and will not allow it to be overwritten.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of <span class="docEmphasis">ls</span> is 
      redirected to <span class="docEmphasis">filex</span> because the
      <span class="docEmphasis">&gt;!</span> operator overrides the effects of
      <span class="docEmphasis">noclobber.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The effects of the <span class="docEmphasis">&gt;!</span> 
      symbol were temporary. It does not turn off <span class="docEmphasis">
      noclobber.</span> It simply overrides <span class="docEmphasis">noclobber</span> 
      for the command where it is implemented.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">noclobber</span> variable 
      is unset.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec10">9.1.10 Variables</h4>
<p class="docText">C shell variables hold only strings or a set of strings. Some 
variables are built into the shell and can be set by turning them on or off, 
such as the <span class="docEmphasis">noclobber</span> or
<span class="docEmphasis">filec</span> variable. Others are assigned a string 
value, such as the <span class="docEmphasis">path</span> variable. You can 
create your own variables and assign them to strings or the output of commands. 
Variable names are case-sensitive and may contain up to 20 characters consisting 
of numbers, letters, and the underscore.</p>
<p class="docText">There are two types of variables: local and environment. The 
scope of a variable is its visibility. A local variable is visible to the shell 
where it is defined. The scope of environment variables is often called
<span class="docEmphasis">global.</span> Their scope is for this shell and all 
processes spawned (started) from this shell.</p>
<p class="docText">The dollar sign (<span class="docEmphasis">$</span>) is a 
special metacharacter that, when preceding a variable name, tells the shell to 
extract the value of that variable. The <span class="docEmphasis">echo</span> 
command, when given the variable as an argument, will display the value of the 
variable after the shell has processed the command line and performed variable 
substitution.</p>
<p class="docText">The special notation <span class="docEmphasis">$?,</span> 
when prepended to the variable name, lets you know whether the variable has been 
set. If a one is returned, it means true, the variable has been set. If a zero 
is returned, it means false, the variable has not been set.</p>
<h5 id="ch09list45" class="docExampleTitle">Example 9.45 </h5>
<pre>1   % <span class="docEmphStrong">set filec</span>
2   % <span class="docEmphStrong">set history = 50</span>
3   % <span class="docEmphStrong">set name = George</span>
4   % <span class="docEmphStrong">set machine = 'uname -n'</span>
5   % <span class="docEmphStrong">echo  $?machine</span>
    <span class="docEmphasis">1</span>
6   % <span class="docEmphStrong">echo  $?blah</span>
    <span class="docEmphasis">0</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Sets the built-in variable <span class="docEmphasis">
      filec</span> for filename completion.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Sets the built-in variable <span class="docEmphasis">
      history</span> to <span class="docEmphasis">50</span> to control the 
      number of events displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Sets the user-defined variable
      <span class="docEmphasis">name</span> to <span class="docEmphasis">George.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Sets the user-defined variable
      <span class="docEmphasis">machine</span> to the output of the UNIX 
      command. The command is in backquotes, telling the shell to perform 
      command substitution.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">$?</span> is prepended to 
      the variable name to test whether or not the variable has been set. Since 
      the test yields a one (true), the variable has been set.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">$?</span> yields zero 
      (false). The variable has not been set.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Curly Braces.</b> Curly braces insulate a variable from 
any characters that may follow it.</p>
<h5 id="ch09list46" class="docExampleTitle">Example 9.46 </h5>
<pre>1   % <span class="docEmphStrong">set var = net</span>
    % <span class="docEmphStrong">echo $var</span>
    <span class="docEmphasis">net</span>

2   % <span class="docEmphStrong">echo $varwork</span>
    <span class="docEmphasis">varwork: Undefined variable.</span>

3   % <span class="docEmphStrong">echo ${var}work</span>
    <span class="docEmphasis">network</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The curly braces surrounding the variable name insulate 
      the variable from characters that follow it.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A variable called <span class="docEmphasis">varwork</span> 
      has not been defined. The shell prints an error message.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The curly braces shield the variable from characters 
      appended to it. <span class="docEmphasis">$var</span> is expanded and the 
      string <span class="docEmphasis">work</span> is appended.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Local Variables.</b> Local variables are known only in the 
shell where they were created. If a local variable is set in the .<span class="docEmphasis">cshrc</span> 
file, the variable will be reset every time a new C shell is started. By 
convention, local variables are named with lowercase letters.</p>
<p class="docText"><b>Setting Local Variables.</b> If the string being assigned 
contains more than one word, it must be quoted; otherwise, only the first word 
will be assigned to the variable. It does not matter if there are spaces around 
the equal sign, but if there is a space on one side of the equal sign, there 
must be one on the other side.</p>
<h5 id="ch09list47" class="docExampleTitle">Example 9.47 </h5>
<pre>1   % <span class="docEmphStrong">set round = world</span>
2   % <span class="docEmphStrong">set name = &quot;Santa Claus&quot;</span>

3   % <span class="docEmphStrong">echo $round</span>
    <span class="docEmphasis">world</span>

4   % <span class="docEmphStrong">echo $name</span>
    <span class="docEmphasis">Santa Claus</span>

5   % <span class="docEmphStrong">csh</span>            <span class="docEmphasis"># Start a subshell</span>
6   % <span class="docEmphStrong">echo $name</span>
    <span class="docEmphasis">name: Undefined variable.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">round</span> 
      is assigned the value <span class="docEmphasis">world.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">name</span> 
      is assigned the value <span class="docEmphasis">Santa Claus.</span> The 
      double quotes keep the shell from evaluating the whitespace between
      <span class="docEmphasis">Santa</span> and <span class="docEmphasis">
      Claus.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The dollar sign prepended to the variable allows the 
      shell to perform variable substitution, that is, to extract the value 
      stored in the variable.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Variable substitution is performed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A new C shell (called a subshell) process is started.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">In the subshell, the variable <span class="docEmphasis">
      name</span> has not been defined. It was defined in the parent shell as a 
      local variable.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">set</span> 
Command.</span> The <span class="docEmphasis">set</span> command prints all 
local variables set for this shell.</p>
<h5 id="ch09list48" class="docExampleTitle">Example 9.48 </h5>
<pre>(The Command Line)
% <span class="docEmphStrong">set</span>
<span class="docEmphasis">argv       ()</span>
<span class="docEmphasis">cwd        /home/jody/ellie</span>
<span class="docEmphasis">fignore    .o</span>
<span class="docEmphasis">filec</span>
<span class="docEmphasis">history    500</span>
<span class="docEmphasis">home       /home/jody/ellie</span>
<span class="docEmphasis">hostname   jody</span>
<span class="docEmphasis">ignoreeof</span>
<span class="docEmphasis">noclobber</span>
<span class="docEmphasis">notify</span>
<span class="docEmphasis">path       (/home/jody/ellie /bin /usr/local /usr/usr/bin/usr/etc .)</span>
<span class="docEmphasis">prompt     jody%</span>
<span class="docEmphasis">shell      /bin/csh</span>
<span class="docEmphasis">status     0</span>
<span class="docEmphasis">term       sun–cmd</span>
<span class="docEmphasis">user       ellie</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">All of the local variables set for this shell are 
    printed. Most of these variables are set in the <span class="docEmphasis">
    cshrc</span> file. The <span class="docEmphasis">argv, cwd, shell, term, 
    user,</span> and <span class="docEmphasis">status</span> variables are 
    preset, built-in variables.</td>
  </tr>
</table>

<p class="docText"><b>Built-In Local Variables.</b> The shell has a number of 
predefined variables with their own definitions. Some of the variables are 
either on or off. For example, if you set <span class="docEmphasis">noclobber,</span> 
the variable is on and effective, and when you unset <span class="docEmphasis">
noclobber,</span> it is turned off. Some variables require a definition when 
set. Built-in variables are usually set in the <span class="docEmphasis">.cshrc</span> 
file if they are to be effective for different C shells. Some of the built-in 
variables already discussed include <span class="docEmphasis">noclobber, cdpath, 
history, filec,</span> and <span class="docEmphasis">noglob.</span> For a 
complete list, see
<a class="docLink" href="#ch09table16">Table 
9.16</a>.</p>
<p class="docText"><b>Environment Variables.</b> Environment variables are often 
called <span class="docEmphasis">global</span> variables. They are defined in 
the shell where they were created and inherited by all shells spawned from that 
shell. Although environment variables are inherited by subshells, those defined 
in subshells are not passed back to parent shells. Inheritance is from parent to 
child, not the other way around (like real life). By convention, environment 
variables are named with capital letters.</p>
<h5 id="ch09list49" class="docExampleTitle">Example 9.49 </h5>
<pre>(The Command Line)
1   % <span class="docEmphStrong">setenv TERM wyse</span>
2   % <span class="docEmphStrong">setenv PERSON &quot;Joe Jr.&quot;</span>
3   % <span class="docEmphStrong">echo $TERM</span>
    <span class="docEmphasis">wyse</span>
4   % <span class="docEmphStrong">echo $PERSON</span>
    <span class="docEmphasis">Joe Jr.</span>
5   % <span class="docEmphStrong">echo $$</span>        <span class="docEmphasis"># $$ evaluates to the PID of the current shell</span>
    <span class="docEmphasis">206</span>
6   <span class="docEmphStrong">% csh</span>            <span class="docEmphasis"># Start a subshell</span>
7   <span class="docEmphStrong">% echo $$</span>
    <span class="docEmphasis">211</span>
8   <span class="docEmphStrong">% echo $PERSON</span>
    <span class="docEmphasis">Joe Jr.</span>
9   <span class="docEmphStrong">% setenv PERSON &quot;Nelly Nerd&quot;</span>
10  <span class="docEmphStrong">% echo $PERSON</span>
    <span class="docEmphasis">% Nelly Nerd</span>
11  <span class="docEmphStrong">% exit</span>              <span class="docEmphasis"># Exit the subshell</span>
12  % <span class="docEmphStrong">echo $$</span>
    <span class="docEmphasis">206</span>
13  % <span class="docEmphStrong">echo $PERSON</span>      <span class="docEmphasis"># Back in parent shell</span>
    <span class="docEmphasis">Joe Jr.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The shell environment variable
      <span class="docEmphasis">TERM</span> is set to a
      <span class="docEmphasis">wyse</span> terminal.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user-defined variable <span class="docEmphasis">
      PERSON</span> is set to <span class="docEmphasis">Joe Jr.</span> The 
      quotes are used to protect the space.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The dollar sign (<span class="docEmphasis">$</span>) 
      prepended to the variable name allows the shell to evaluate the contents 
      of the variable, called variable substitution.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of the environment variable
      <span class="docEmphasis">PERSON</span> is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">$$</span> variable 
      contains the PID of the current shell. The PID is
      <span class="docEmphasis">206.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">csh</span> command starts 
      a new C shell, called a subshell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The PID of the current shell is printed. Since this is 
      a new C shell, it has a different PID number. The PID is
      <span class="docEmphasis">211.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The environment variable <span class="docEmphasis">
      PERSON</span> was inherited by the new shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">PERSON</span> variable is 
      reset to <span class="docEmphasis">Nelly Nerd.</span> This variable will 
      be inherited by any shells spawned from this shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The new value of the <span class="docEmphasis">PERSON</span> 
      variable is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This C shell is exited.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The original C shell is running; to attest to that, the 
      PID <span class="docEmphasis">206</span> is printed. It is the same as it 
      was before the subshell was started.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">PERSON</span> variable 
      contains its original value.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Printing Environment Variables.</b> The
<span class="docEmphasis">printenv</span> (UCB) and <span class="docEmphasis">
env</span> (SVR4) commands print all the environment variables set for this 
shell and its subshells. The <span class="docEmphasis">setenv</span> command 
prints variables and their values on both the UCB and SVR4 versions of the C 
shell.</p>
<h5 id="ch09list50" class="docExampleTitle">Example 9.50 </h5>
<pre>% <span class="docEmphStrong">env</span>
<span class="docEmphasis">FONTPATH=/usr/local/OW3/lib/fonts</span>
<span class="docEmphasis">HELPPATH=/usr/local/OW3/lib/locale:/usr/local/OW3/lib/help</span>
<span class="docEmphasis">HOME=/home/jody/ellie</span>
<span class="docEmphasis">LD_LIBRARY_PATH=/usr/local/OW3/lib</span>
<span class="docEmphasis">LOGNAME=ellie</span>
<span class="docEmphasis">MANPATH=/ur/local/man:/usr/local/man:/usr/local/doctools/man:/usr/man</span>
<span class="docEmphasis">NOSUNVIEW=0</span>
<span class="docEmphasis">OPENWINHOME=/usr/local/OW3</span>
<span class="docEmphasis">PATH=/bin:/usr/local:/usr:/usr/bin:/usr/etc:/home/5bin:/usr/</span>
   <span class="docEmphasis">doctools:/usr:.</span>
<span class="docEmphasis">PWD=/home/jody/ellie</span>
<span class="docEmphasis">SHELL=/bin/csh</span>
<span class="docEmphasis">TERM=sun–cmd</span>
<span class="docEmphasis">USER=ellie</span>
<span class="docEmphasis">WINDOW_PARENT=/dev/win0</span>
<span class="docEmphasis">WINDOW_TTYPARMS=</span>
<span class="docEmphasis">WMGR_ENV_PLACEHOLDER=/dev/win3</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The environment variables are set for this session and 
    all processes that are started from this shell. Many applications require 
    the setting of environment variables. For example, the
    <span class="docEmphasis">man</span> command has a <span class="docEmphasis">
    MANPATH</span> variable set to the location that <span class="docEmphasis">
    man</span> pages can be found, and the <span class="docEmphasis">openwin</span> 
    program has an environment variable set to the place where its fonts are 
    stored. When any of these programs are executed, the information in these 
    variables is passed to them.</td>
  </tr>
</table>

<p class="docText"><b>Arrays.</b> In the C shell, an array is simply a list of 
words, separated by spaces or tabs, and enclosed in parentheses. The elements of 
the array are numbered by subscripts starting at one. If there is not an array 
element for a subscript, the message <span class="docEmphasis">Subscript out of 
range</span> is displayed. Command substitution will also create an array. If 
the $# notation precedes an array name, the number of elements in the array is 
displayed.</p>
<h5 id="ch09list51" class="docExampleTitle">Example 9.51 </h5>
<pre>1   % <span class="docEmphStrong">set fruit = ( apples pears peaches plums )</span>
2   % <span class="docEmphStrong">echo $fruit</span>
    <span class="docEmphasis">apples pears peaches plums</span>

3   % <span class="docEmphStrong">echo $fruit[1]</span>       <span class="docEmphasis"># Subscripts start at 1</span>
    <span class="docEmphasis">apples</span>

4   % <span class="docEmphStrong">echo $fruit[2–4]</span>     <span class="docEmphasis"># Prints the 2nd, 3rd, and 4th elements</span>
    <span class="docEmphasis">pears peaches plums</span>

5   $ <span class="docEmphStrong">echo $fruit[6]</span>
    <span class="docEmphasis">Subscript out of range.</span>

6   % <span class="docEmphStrong">echo $fruit[*]</span>       <span class="docEmphasis"># Prints all elements of the array</span>
    <span class="docEmphasis">apples pears peaches plums</span>
7   % <span class="docEmphStrong">echo $#fruit</span>         <span class="docEmphasis"># Prints the number of elements</span>
    <span class="docEmphasis">4</span>

8   % <span class="docEmphStrong">echo $fruit[$#fruit]</span>     <span class="docEmphasis"># Prints the last element</span>
    <span class="docEmphasis">plums</span>

9   % <span class="docEmphStrong">set fruit[2] = bananas</span>    <span class="docEmphasis"># Reassigns the second element</span>
    % <span class="docEmphStrong">echo $fruit</span>
    <span class="docEmphasis">apples bananas peaches plums</span>

10  % <span class="docEmphStrong">set path = ( ~ /usr/bin /usr /usr/local/bin . )</span>
    % <span class="docEmphStrong">echo $path</span>
    <span class="docEmphasis">/home/jody/ellie /usr/bin /usr /usr/local/bin .</span>

11  % <span class="docEmphStrong">echo $path[1]</span>
    <span class="docEmphasis">/home/jody/ellie</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The wordlist is enclosed within parentheses. Each word 
      is separated by whitespace. The array is called <span class="docEmphasis">
      fruit.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The words in the <span class="docEmphasis">fruit</span> 
      array are printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first element of the <span class="docEmphasis">
      fruit</span> array is printed. The subscripts start at one.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The second, third, and fourth elements of the wordlist 
      are printed. The dash allows you to specify a range.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array does not have six elements. The subscript is 
      out of range.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All elements of the <span class="docEmphasis">fruit</span> 
      array are printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">$#</span> preceding the 
      array is used to obtain the number of elements in the array. There are 
      four elements in the <span class="docEmphasis">fruit</span> array.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Since the subscript <span class="docEmphasis">$#fruit</span> 
      evaluates to the total number of elements in the array, if that value is 
      used as an index value of the array, i.e., <span class="docEmphasis">
      [$#fruit],</span> the last element of the <span class="docEmphasis">fruit</span> 
      array is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The second element of the array is assigned a new 
      value. The array is printed with its replaced value,
      <span class="docEmphasis">bananas.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">path</span> variable is a 
      special C shell array of directories used to search for commands. By 
      creating an array, the individual elements of the path can be accessed or 
      changed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first element of <span class="docEmphasis">path</span> 
      is printed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
shift</span> Command and Arrays.</span> If the built-in
<span class="docEmphasis">shift</span> command takes an array name as its 
argument, it shifts off (to the left) the first element of the array. The length 
of the array is decreased by one. (Without an argument, the
<span class="docEmphasis">shift</span> command shifts off the first element of 
the built-in <span class="docEmphasis">argv</span> array. See &quot;<a class="docLink" href="_chapter 7.htm#ch07lev2sec36">Command 
Line Arguments</a>&quot;)</p>
<h5 id="ch09list52" class="docExampleTitle">Example 9.52 </h5>
<pre>1   % <span class="docEmphStrong">set names = ( Mark Tom Liz Dan Jody )</span>

2   % <span class="docEmphStrong">echo $names</span>
    <span class="docEmphasis">Mark Tom Liz Dan Jody</span>

3   % <span class="docEmphStrong">echo $names[1]</span>
    <span class="docEmphasis">Mark</span>

4   % <span class="docEmphStrong">shift  names</span>

5   % <span class="docEmphStrong">echo $names</span>
    <span class="docEmphasis">Tom Liz Dan Jody</span>

6   % <span class="docEmphStrong">echo $names[1]</span>
    <span class="docEmphasis">Tom</span>

7   % <span class="docEmphStrong">set days = ( Monday Tuesday )</span>

8   % <span class="docEmphStrong">shift days</span>

9   % <span class="docEmphStrong">echo $days</span>
    <span class="docEmphasis">Tuesday</span>

10  % <span class="docEmphStrong">shift days</span>

11  % <span class="docEmphStrong">echo $days</span>

12  % <span class="docEmphStrong">shift days</span>
    <span class="docEmphasis">shift: no more words.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array is called <span class="docEmphasis">names.</span> 
      It is assigned the list of words in parentheses. Each word is separated by 
      whitespace.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first element of the array is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array is shifted to the left by one element. The 
      word <span class="docEmphasis">Mark</span> is shifted off.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array was decreased by one element after the
      <span class="docEmphasis">shift.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first element of the array, after the
      <span class="docEmphasis">shift,</span> is <span class="docEmphasis">Tom.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">An array called <span class="docEmphasis">days</span> 
      is created. It has two elements, <span class="docEmphasis">Monday</span> 
      and <span class="docEmphasis">Tuesday.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array <span class="docEmphasis">days</span> is 
      shifted one to the left.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array is printed. <span class="docEmphasis">Tuesday</span> 
      is the only element left.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array <span class="docEmphasis">days</span> is 
      shifted again. The array is empty.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">days</span> array is 
      empty.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This time, attempting to shift causes the shell to send 
      an error message indicating that it cannot shift elements from an empty 
      array.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Creating an Array from a String.</b> You may want to 
create a wordlist out of a quoted string. This is accomplished by placing the 
string variable within a set of parentheses.</p>
<h5 id="ch09list53" class="docExampleTitle">Example 9.53 </h5>
<pre>1   % <span class="docEmphStrong">set name = &quot;Thomas Ben Savage&quot;</span>
    % <span class="docEmphStrong">echo $name[1]</span>
    <span class="docEmphasis">Thomas Ben Savage</span>

2   % <span class="docEmphStrong">echo $name[2]</span>
    <span class="docEmphasis">Subscript out of range.</span>

3   % <span class="docEmphStrong">set name = ( $name )</span>

4   % <span class="docEmphStrong">echo $name[1] $name[2] $name[3]</span>
    <span class="docEmphasis">Thomas Ben Savage</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">name</span> is 
      assigned the string <span class="docEmphasis">Thomas Ben Savage.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When treated as an array, there is only one element, 
      the entire string.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable is enclosed in parentheses, creating an 
      array of words, called <span class="docEmphasis">name.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The three elements of the new array are displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec11">9.1.11 Special Variables</h4>
<p class="docText">Built into the C shell are several variables consisting of 
one character. The <span class="docEmphasis">$</span> preceding the character 
allows variable interpretation. See <a class="docLink" href="#ch09table06">Table 
9.6</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table06" class="docTableTitle">Table 9.6. Variables and Their Meanings</h5>
  </caption>
  <colgroup span="3" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Variable</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Example</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$?var</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">echo $?name</span>
    </td>
    <td class="docTableCell" vAlign="top">Returns <span class="docEmphasis">1</span> 
    if variable has been set, <span class="docEmphasis">0</span> if not. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$#var</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">echo $#fruit</span>
    </td>
    <td class="docTableCell" vAlign="top">Prints the number of elements in an 
    array. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$$</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">echo $$</span>
    </td>
    <td class="docTableCell" vAlign="top">Prints the PID of the current shell.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$&lt;</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">set name = 
    $&lt;</span> </td>
    <td class="docTableCell" vAlign="top">Accepts a line of input from user up 
    to newline. </td>
  </tr>
</table>

<h5 id="ch09list54" class="docExampleTitle">Example 9.54 </h5>
<pre>1   % <span class="docEmphStrong">set num</span>
    % <span class="docEmphStrong">echo $?num</span>
    <span class="docEmphasis">1</span>
2   % <span class="docEmphStrong">echo $path</span>
    <span class="docEmphasis">/home/jody/ellie   /usr/bin/   usr/local/bin</span>
    % <span class="docEmphStrong">echo $#path</span>
    <span class="docEmphasis">3</span>

3   % <span class="docEmphStrong">echo $$</span>
    <span class="docEmphasis">245</span>

    % <span class="docEmphStrong">csh</span>              <span class="docEmphasis"># Start a subshell</span>
    % <span class="docEmphStrong">echo $$</span>
    <span class="docEmphasis">248</span>

4   % <span class="docEmphStrong">set name = $&lt;</span>
    <span class="docEmphStrong">Christy Campbell</span>
    % <span class="docEmphStrong">echo $name</span>
    <span class="docEmphasis">Christy Campbell</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">num</span> is 
      set to null. The <span class="docEmphasis">$?</span> preceding the 
      variable evaluates to one if the variable has been set (either to null or 
      some value), and to zero if the variable has not been set.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">path</span> variable is 
      printed. It is an array of three elements. The <span class="docEmphasis">
      $#</span> preceding the variable extracts and prints the number of 
      elements in the array.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">$$</span> is the PID of 
      the current process, in this case, the C shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">$&lt;</span> variable 
      accepts a line of input from the user up to, but not including, the 
      newline, and stores the line in the <span class="docEmphasis">name</span> 
      variable. The value of the <span class="docEmphasis">name</span> variable 
      is displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Pathname Variable Modifiers.</b> If a pathname is assigned 
to a variable, it is possible to manipulate the pathname variable by appending 
special C shell extensions to it. The pathname is divided into four parts:
<span class="docEmphasis">head,</span> <span class="docEmphasis">tail,</span>
<span class="docEmphasis">root,</span> and <span class="docEmphasis">extension.</span> 
See <a class="docLink" href="#ch09table07">Table 9.7</a> for examples of 
pathname modifiers and what they do.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table07" class="docTableTitle">Table 9.7. Pathname Modifiers <tt>set pn = /home/ellie/prog/check.c</tt></h5>
  </caption>
  <colgroup span="4" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Modifier</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Example</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Result</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">:r</span>
    </td>
    <td class="docTableCell" vAlign="top">root </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">echo $pn:r</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">/home/ellie/prog/check</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">:h</span>
    </td>
    <td class="docTableCell" vAlign="top">head </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">echo $pn:h</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">/home/ellie/prog</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">:t</span>
    </td>
    <td class="docTableCell" vAlign="top">tail </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">echo $pn:t</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">check.c</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">:e</span>
    </td>
    <td class="docTableCell" vAlign="top">extension </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">echo $pn:e</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">c</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">:g</span>
    </td>
    <td class="docTableCell" vAlign="top">global </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">echo $p:gt</span>
    </td>
    <td class="docTableCell" vAlign="top">(See
    <a class="docLink" href="#ch09list55">Example 9.55</a>) </td>
  </tr>
</table>

<h5 id="ch09list55" class="docExampleTitle">Example 9.55 </h5>
<pre>1   % <span class="docEmphStrong">set pathvar = /home/danny/program.c</span>

2   % <span class="docEmphStrong">echo $pathvar:r</span>
    <span class="docEmphasis">/home/danny/program</span>

3   % <span class="docEmphStrong">echo $pathvar:h</span>
    <span class="docEmphasis">/home/danny</span>

4   % <span class="docEmphStrong">echo $pathvar:t</span>
    <span class="docEmphasis">program.c</span>

5   % <span class="docEmphStrong">echo $pathvar:e</span>
    <span class="docEmphasis">c</span>

6   % <span class="docEmphStrong">set pathvar = ( /home/* )</span>
    <span class="docEmphStrong">echo $pathvar</span>
    <span class="docEmphasis">/home/jody /home/local /home/lost+found /home/perl /home/tmp</span>

7   % <span class="docEmphStrong">echo $pathvar:gt</span>
    <span class="docEmphasis">jody  local  lost+found  perl tmp</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">pathvar</span> 
      is set to <span class="docEmphasis">/home/danny/program.c.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When <span class="docEmphasis">:r</span> is appended to 
      the variable, the extension is removed when displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When <span class="docEmphasis">:h</span> is appended to 
      the variable, the head of the path is displayed; that is, the last element 
      of the path is removed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When <span class="docEmphasis">:t</span> is appended to 
      the variable, the tail end of the path (the last element) is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When <span class="docEmphasis">:e</span> is appended to 
      the variable, the extension is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable is set to <span class="docEmphasis">
      /home/*.</span> The asterisk expands to all the pathnames in the current 
      directory starting in <span class="docEmphasis">/home/.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When <span class="docEmphasis">:gt</span> is appended 
      to the variable, the tail end of each (global) of the path elements is 
      displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec12">9.1.12 Command Substitution</h4>
<p class="docText">A string or variable can be assigned the output of a UNIX 
command by placing the command in backquotes. This is called
<span class="docEmphasis">command substitution.</span> (On the keyboard, the 
backquote is normally below the tilde character.) If the output of a command is 
assigned to a variable, it is stored as a wordlist (see &quot;Arrays&quot; on page 370), 
not a string, so that each of the words in the list can be accessed separately. 
To access a word from the list, a subscript is appended to the variable name. 
Subscripts start at one.</p>
<h5 id="ch09list56" class="docExampleTitle">Example 9.56 </h5>
<pre>1   % <span class="docEmphStrong">echo The name of my machine is 'uname -n'.</span>
    <span class="docEmphasis">The name of my machine is stardust.</span>

2   % <span class="docEmphStrong">echo The present working directory is 'pwd'.</span>
    <span class="docEmphasis">The present working directory is /home/stardust/john.</span>

3   % <span class="docEmphStrong">set d = 'date'</span>
    % <span class="docEmphStrong">echo $d</span>
    <span class="docEmphasis">Sat Jun 20 14:24:21 PDT 2001</span>

4   % <span class="docEmphStrong">echo $d[2] $d[6]</span>
    <span class="docEmphasis">Jun 2001</span>

5   % <span class="docEmphStrong">set d = &quot;'date'&quot;</span>
    % <span class="docEmphStrong">echo $d[1]</span>
    <span class="docEmphasis">Sat Jun 20 14:24:21 PDT 2001</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The UNIX command <span class="docEmphasis">uname –n</span> 
      is enclosed in backquotes. When the shell encounters the backquotes, it 
      will execute the enclosed command, <span class="docEmphasis">uname –n,</span> 
      and substitute the output of the command, <span class="docEmphasis">
      stardust,</span> into the string. When the <span class="docEmphasis">echo</span> 
      command prints its arguments to standard output, the name of the machine 
      will be one of its arguments.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The UNIX command <span class="docEmphasis">pwd</span> 
      is executed by the shell and the output is substituted in place within the 
      string.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">d</span> 
      is assigned the output of the <span class="docEmphasis">date</span> 
      command. The output is stored as a list of words (an array).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Elements 2 and 6 of the <span class="docEmphasis">d</span> 
      array are printed. The subscripts start at one.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Since the output is enclosed in double quotes, it is a 
      single string rather than a wordlist.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Wordlists and Command Substitution.</b> When a command is 
enclosed in backquotes and assigned to a variable, the resulting value is an 
array (wordlist). Each element of the array can be accessed by appending a 
subscript to the array name. The subscripts start at one. If a subscript that is 
greater than the number of words in the array is used, the C shell prints
<span class="docEmphasis">Subscript out of range.</span> If the output of a 
command consists of more than one line, the newlines are stripped from each line 
and replaced with a single space.</p>
<h5 id="ch09list57" class="docExampleTitle">Example 9.57 </h5>
<pre>1   % <span class="docEmphStrong">set d = 'date'</span>
    % echo $d
    <span class="docEmphasis">Fri Aug 29 14:04:49 PDT 2001</span>


3   % <span class="docEmphStrong">echo $d[1–3]</span>
    <span class="docEmphasis">Fri Aug 29</span>

4   % <span class="docEmphStrong">echo $d[6]</span>
    <span class="docEmphasis">2001</span>

4   % <span class="docEmphStrong">echo $d[7]</span>
    <span class="docEmphasis">Subscript out of range.</span>

5   % <span class="docEmphStrong">echo The calendar for the month of November is 'cal 11 2001'&quot;</span>
    <span class="docEmphasis">The calendar for month of November is November 2001 S M Tu W</span>
    <span class="docEmphasis">Th F S 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21</span>
    <span class="docEmphasis">22 23 24 25 26 27 28 29 30</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">d</span> is 
      assigned the output of the UNIX <span class="docEmphasis">date</span> 
      command. The output is stored as an array. The value of the variable is 
      displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first three elements of the array are displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The sixth element of the array is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">There are not seven elements in the array. The shell 
      reports that the subscript is out of range.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output spans more than one line. Each newline is 
      replaced with a space. This may not be the output you expected.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list58" class="docExampleTitle">Example 9.58 </h5>
<pre>1   % <span class="docEmphStrong">set machine = 'rusers | awk '/tom/{print $1}''</span>

2   % <span class="docEmphStrong">echo $machine</span>
    <span class="docEmphasis">dumbo bambi dolphin</span>

3   % <span class="docEmphStrong">echo $#machine</span>
    <span class="docEmphasis">3</span>

4   % <span class="docEmphStrong">echo $machine[$#machine]</span>
    <span class="docEmphasis">dolphin</span>

5   % <span class="docEmphStrong">echo $machine</span>
    <span class="docEmphasis">dumbo bambi dolphin</span>

6   % <span class="docEmphStrong">shift $machine</span>
    % <span class="docEmphStrong">echo $machine</span>
    <span class="docEmphasis">bambi dolphin</span>


7   % <span class="docEmphStrong">echo $machine[1]</span>
    <span class="docEmphasis">bambi</span>

8   % <span class="docEmphStrong">echo $#machine</span>
    <span class="docEmphasis">2</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">rusers</span> 
      command is piped to <span class="docEmphasis">awk.</span> If the regular 
      expression <span class="docEmphasis">tom</span> is found,
      <span class="docEmphasis">awk</span> prints the first field. The first 
      field, in this case, is the name of the machine(s) where ser
      <span class="docEmphasis">tom</span> is logged on.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">User <span class="docEmphasis">tom</span> is logged on 
      three machines. The names of the machines are displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The number of elements in the array is accessed by 
      preceding the array name with <span class="docEmphasis">$#.</span> There 
      are three elements in the array.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The last element of the array is displayed. The number 
      of elements in the array (<span class="docEmphasis">$#machine</span>) is 
      used as a subscript.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">shift</span> command 
      shifts the array to the left. The first element of the array is dropped 
      and the subscripts are renumbered, starting at one.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first element of the array after the
      <span class="docEmphasis">shift</span> is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After the <span class="docEmphasis">shift,</span> the 
      length of the array has decreased by one.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec13">9.1.13 Quoting</h4>
<p class="docText">The C shell has a whole set of metacharacters that have some 
special meaning. In fact, almost any character on your keyboard that is not a 
letter or a number has some special meaning for the shell. Here is a partial 
list:</p>
<pre><span class="docEmphasis">* ? [  ] $ ~ ! ^ &amp; {  } (  ) &gt; &lt; | ; : %</span>
</pre>
<p class="docText">The backslash and quotes are used to escape the 
interpretation of metacharacters by the shell. Whereas the backslash is used to 
escape a single character, the quotes can be used to protect a string of 
characters. There are some general rules for using quotes:</p>
<span style="FONT-WEIGHT: bold">
<ol class="docList" type="1">
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Quotes are paired and must be matched on a line. The 
  backslash character can be used to escape a newline so that a quote can be 
  matched on the next line.</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Single quotes will protect double quotes, and double quotes 
  will protect single quotes.</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Single quotes protect all metacharacters from 
  interpretation, with the exception of the history character (<span class="docEmphasis">!</span>).</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Double quotes protect all metacharacters from 
  interpretation, with the exception of the history character (<span class="docEmphasis">!</span>), 
  the variable substitution character (<span class="docEmphasis">$</span>), and 
  the backquotes (used for command substitution).</span></li>
</ol>
</span>
<p class="docText"><b>The Backslash.</b> The backslash is used to escape the 
interpretation of a single character and, in the C shell, is the only character 
that can be used to escape the history character, the exclamation point (also 
called the bang). Often the backslash is used to escape the newline character. 
Backslash interpretation does not take place within quotes.</p>
<h5 id="ch09list59" class="docExampleTitle">Example 9.59 </h5>
<pre>1   % <span class="docEmphStrong">echo Who are you?</span>
    <span class="docEmphasis">echo: No match.</span>

2   % <span class="docEmphStrong">echo Who are you\?</span>
    <span class="docEmphasis">Who are you?</span>

3   % <span class="docEmphStrong">echo This is a very,very long line and this is where I\</span>
    <span class="docEmphStrong">break the line.</span>
    <span class="docEmphasis">This is a very, very long line and this is where I</span>
       <span class="docEmphasis">I break the line.</span>

4   % <span class="docEmphStrong">echo &quot;\\abc&quot;</span>
    <span class="docEmphasis">\\abc</span>
    % <span class="docEmphStrong">echo '\\abc'</span>
    <span class="docEmphasis">\\abc</span>
    <span class="docEmphasis">%</span> <span class="docEmphStrong">echo \\abc</span>
    <span class="docEmphasis">\abc</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The question mark is used for filename expansion. It 
      matches for a single character. The shell is looking for a file in the 
      current directory that is spelled <span class="docEmphasis">y-o-u,</span> 
      followed by a single character. Since there is not a file by that name in 
      the directory, the shell complains that it could not find a match with
      <span class="docEmphasis">No match.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The shell will not try to interpret the question mark, 
      since it is escaped with the backslash.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The string is continued to the next line by escaping 
      the newline with a backslash.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the backslash is enclosed in either single or double 
      quotes, it is printed. When not enclosed in quotes, the backslash escapes 
      itself.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Single Quotes.</b> Single quotes must be matched on the 
same line and will escape all metacharacters with the exception of the history 
(bang) character (<span class="docEmphasis">!</span>). The history character is 
not protected because the C shell evaluates history before it does quotes, but 
not before backslashes.</p>
<h5 id="ch09list60" class="docExampleTitle">Example 9.60 </h5>
<pre>1   % <span class="docEmphStrong">echo 'I need $5.00'</span>
    <span class="docEmphasis">I need $5.00</span>

2   % <span class="docEmphStrong">echo 'I need $500.00 now\!\!'</span>
    <span class="docEmphasis">I need $500.00 now!!</span>

3   % <span class="docEmphStrong">echo 'This is going to be a long line so</span>
    <span class="docEmphasis">Unmatched</span> '<span class="docEmphasis">.</span>

4   % <span class="docEmphStrong">echo 'This is going to be a long line so \</span>
    <span class="docEmphStrong">I used the backslash to suppress the newline'</span>
    <span class="docEmphasis">This is going to be a long line so</span>
    <span class="docEmphasis">I used the backslash to suppress the newline</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The string is enclosed in single quotes. All 
      characters, except the history (bang) character (<span class="docEmphasis">!</span>), 
      are protected from shell interpretation.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">!!</span> must be 
      protected from shell interpretation by using the backslash character.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The quotes must be matched on the same line, or the 
      shell reports <span class="docEmphasis">Unmatched.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the line is to be continued, the backslash character 
      is used to escape the newline character. The quote is matched at the end 
      of the next line. Even though the shell ignored the newline, the
      <span class="docEmphasis">echo</span> command did not.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Double Quotes.</b> Double quotes must be matched, will 
allow variable and command substitution, and hide everything else except the 
history (bang) character (<span class="docEmphasis">!</span>). The backslash 
will not escape the dollar sign when enclosed in double quotes.</p>
<h5 id="ch09list61" class="docExampleTitle">Example 9.61 </h5>
<pre>1   % <span class="docEmphStrong">set name = Bob</span>
    % <span class="docEmphStrong">echo &quot;Hi $name&quot;</span>
    <span class="docEmphasis">Hi Bob</span>

2   % <span class="docEmphStrong">echo &quot;I don't have time.&quot;</span>
    <span class="docEmphasis">I don't have time.</span>

3   % <span class="docEmphStrong">echo &quot;WOW!&quot;</span>       <span class="docEmphasis"># Watch the history metacharacter!</span>
    <span class="docEmphasis">&quot;: Event not found.</span>

4   % <span class="docEmphStrong">echo &quot;Whoopie\!&quot;</span>
    <span class="docEmphasis">Whoopie!</span>

5   % <span class="docEmphStrong">echo &quot;I need \$5.00&quot;</span>
    <span class="docEmphasis">I need \.00</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">name</span> 
      is assigned the value <span class="docEmphasis">Bob.</span> The double 
      quotes allow the dollar sign to be used for variable substitution.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The single quote is protected within double quotes.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Double or single quotes will not protect the 
      exclamation point from shell interpretation. The built-in
      <span class="docEmphasis">history</span> command is looking for the last 
      command that began with a double quote and that event was not found.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The backslash is used to protect the exclamation point.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The backslash does not escape the dollar sign when used 
      within double quotes.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Quoting Game.</b> As long as the quoting rules are 
adhered to, double quotes and single quotes can be used in a variety of 
combinations in a single command.</p>
<h5 id="ch09list62" class="docExampleTitle">Example 9.62 </h5>
<pre>1   % <span class="docEmphStrong">set name = Tom</span>

2   % <span class="docEmphStrong">echo &quot;I can't give $name&quot; ' $5.00\!'</span>
    <span class="docEmphasis">I can't give Tom $5.00!</span>

3   % <span class="docEmphStrong">echo She cried, \&quot;Oh help me\!' &quot;', $name.</span>
    <span class="docEmphasis">She cried, &quot;Oh help me!&quot;, Tom.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">name</span> 
      is assigned <span class="docEmphasis">Tom.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The single quote in the word <span class="docEmphasis">
      can't</span> is protected when enclosed within double quotes. The shell 
      would try to perform variable substitution if the dollar sign in
      <span class="docEmphasis">$5.00</span> were within double quotes. 
      Therefore, the string <span class="docEmphasis">$5.00</span> is enclosed 
      in single quotes so that the dollar sign will be a literal. The 
      exclamation point is protected with a backslash since neither double nor 
      single quotes can protect it from shell interpretation.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first conversational quotes are protected by the 
      backslash. The exclamation point is also protected with a backslash. The 
      last conversational quotes are enclosed in a set of single quotes. Single 
      quotes will protect double quotes.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Steps to Successful Quoting.</b> In a more complex 
command, it is often difficult to match quotes properly unless you follow the 
steps listed here. (See
<a class="docLink" href="Appendix C.htm">Appendix C</a>.)</p>
<span style="FONT-WEIGHT: bold">
<ol class="docList">
  <li><span style="FONT-WEIGHT: normal" value="1">
  <p class="docList">Know the UNIX command and its syntax. Before variable 
  substitution, hard code the values into the command line to see if you get the 
  expected results.</p>
  <pre>% nawk -F: '/^Zippy Pinhead/{print &quot;Phone is &quot; $2}' datafile 408-123-4563
</pre>
  </span></li>
  <li><span style="FONT-WEIGHT: normal" value="2">
  <p class="docList">If the UNIX command worked correctly, then plug in the 
  variables. At this point, do not remove or change any quotes. Simply put the 
  variables in place of the words they represent. In this example, replace
  <span class="docEmphasis">Zippy Pinhead</span> with <span class="docEmphasis">
  $name</span>.</p>
  <pre>% set name = &quot;Zippy Pinhead&quot;
% nawk -F: '/^<span class="docEmphStrong">$name</span>/{print &quot;Phone is &quot; $2}' datafile
</pre>
  </span></li>
  <li><span style="FONT-WEIGHT: normal" value="3">
  <p class="docList">Play the quoting game as follows: Starting at the left-hand 
  side with the first single quote, insert a matching single quote just before 
  the dollar sign in <span class="docEmphasis">$name.</span> Now you have a set 
  of matched quotes.</p>
  <pre>nawk -F: <span class="docEmphStrong">'</span>/^<span class="docEmphStrong">'$name</span>/{print &quot;Phone is &quot; $2}' datafile
</pre>
  <p class="docList">Now, right after the last letter, <span class="docEmphasis">
  e</span> in <span class="docEmphasis">$name,</span> place another single 
  quote. (Believe me, this works.) This quote matches the quote after the 
  closing curly brace.</p>
  <pre>% nawk -F: <span class="docEmphStrong">'</span>/^<span class="docEmphStrong">'$name'</span>/{print &quot;Phone is  &quot; $2}<span class="docEmphStrong">'</span> datafile
</pre>
  <p class="docList">Count the number of single quotes, starting at the 
  left-hand side. You have four, a nice even number. Everything within each set 
  of single quotes is ignored by the shell. The quotes are matched as follows:</p>
  <center>
  <p class="docText">
  <img alt="graphics/09infig01.gif" src="09infig01.gif" border="0" width="473" height="60"></p>
  </center>
  <p></span></li>
  <li><span style="FONT-WEIGHT: normal" value="4">
  <p class="docList">Last step: Double quote the variables. Surround each 
  variable very snugly within a set of double quotes. The double quotes protect 
  the whitespace in the expanded variable; for example, the space in
  <span class="docEmphasis">Zippy Pinhead</span> is protected.</p>
  <center>
  <p class="docText">
  <img alt="graphics/09infig02.gif" src="09infig02.gif" border="0" width="492" height="53"></p>
  </center>
  </span></li>
</ol>
</span>
<p class="docText"><b>Quoting Variables.</b> The <span class="docEmphasis">:x</span> 
and <span class="docEmphasis">:q</span> modifiers are used when it is necessary 
to quote variables.</p>
<p class="docText"><span class="docEmphStrong">Quoting with the
<span class="docEmphasis">:q</span> Modifier.</span> The
<span class="docEmphasis">:q</span> modifier is used to replace double quotes.</p>
<h5 id="ch09list63" class="docExampleTitle">Example 9.63 </h5>
<pre>1   % <span class="docEmphStrong">set name = &quot;Daniel Savage&quot;</span>
2   % <span class="docEmphStrong">grep $name:q database</span>
        <span class="docEmphasis">same as</span>
3   % <span class="docEmphStrong">grep &quot;$name&quot; database</span>

4   % <span class="docEmphStrong">set food = &quot;apple pie&quot;</span>

5   % <span class="docEmphStrong">set dessert = ( $food    &quot;ice cream&quot;)</span>

6   % <span class="docEmphStrong">echo $#dessert</span>
    <span class="docEmphasis">3</span>
7   % <span class="docEmphStrong">echo $dessert[1]</span>
    <span class="docEmphasis">apple</span>

8   % <span class="docEmphStrong">echo $dessert[2]</span>
    <span class="docEmphasis">pie</span>

9   % <span class="docEmphStrong">echo $dessert[3]</span>
    <span class="docEmphasis">ice cream</span>

10  % <span class="docEmphStrong">set dessert = ($food:q &quot;ice cream&quot;)</span>

11  % <span class="docEmphStrong">echo $#dessert</span>
    2
12  % <span class="docEmphStrong">echo $dessert[1]</span>
    <span class="docEmphasis">apple pie</span>
13  % <span class="docEmphStrong">echo $dessert[2]</span>
    <span class="docEmphasis">ice cream</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable is assigned the string
      <span class="docEmphasis">Daniel Savage.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When <span class="docEmphasis">:q</span> is appended to 
      the variable, the variable is quoted. This is the same as enclosing the 
      variable in double quotes.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The double quotes surrounding the variable
      <span class="docEmphasis">$name</span> allow variable substitution to take 
      place, but protect any whitespace characters. Without the double quotes, 
      the <span class="docEmphasis">grep</span> program will search for
      <span class="docEmphasis">Daniel</span> in a file called
      <span class="docEmphasis">Savage</span> and a file called
      <span class="docEmphasis">database.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">food</span> is 
      assigned the string <span class="docEmphasis">apple pie.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">dessert</span> 
      is assigned an array (wordlist) consisting of <span class="docEmphasis">
      apple pie</span> and <span class="docEmphasis">ice cream.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The number of elements in the <span class="docEmphasis">
      dessert</span> array is three. When the <span class="docEmphasis">food</span> 
      variable was expanded, the quotes were removed. There are three elements,
      <span class="docEmphasis">apple, pie,</span> and <span class="docEmphasis">
      ice cream.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first element of the array is printed. The variable 
      expands to separated words if not quoted.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The second element of the array is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Since <span class="docEmphasis">&quot;ice cream&quot;</span> is 
      quoted, it is treated as one word.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">dessert</span> array is 
      assigned <span class="docEmphasis">apple pie</span> and
      <span class="docEmphasis">ice cream.</span> The <span class="docEmphasis">
      :q</span> can be used to quote the variable in the same way double quotes 
      quote the variable; i.e., <span class="docEmphasis">$food:q</span> is the 
      same as <span class="docEmphasis">&quot;$food&quot;.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array consists of two strings,
      <span class="docEmphasis">apple pie</span> and <span class="docEmphasis">
      ice cream.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first element of the array,
      <span class="docEmphasis">apple pie,</span> is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The second element of the array,
      <span class="docEmphasis">ice cream,</span> is printed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">Quoting with the
<span class="docEmphasis">:x</span> Modifier.</span> If you are creating an 
array and any of the words in the list contain metacharacters,
<span class="docEmphasis">:x</span> prevents the shell from interpreting the 
metacharacters when performing variable substitution</p>
<h5 id="ch09list64" class="docExampleTitle">Example 9.64 </h5>
<pre>1   % <span class="docEmphStrong">set  things = &quot;*.c  a??  file[1–5]&quot;</span>
    % <span class="docEmphStrong">echo $#things</span>
    <span class="docEmphasis">1</span>

2   % <span class="docEmphStrong">set newthings = ( $things )</span>
    <span class="docEmphasis">set: No match.</span>

3   % <span class="docEmphStrong">set newthings = ( $things:x )</span>
4   % <span class="docEmphStrong">echo $#newthings</span>
    <span class="docEmphasis">3</span>

5   % <span class="docEmphStrong">echo &quot;$newthings[1] $newthings[2] $newthings[3] &quot;</span>
    <span class="docEmphasis">*.c  a??   file[1-5]</span>

6   %  <span class="docEmphStrong">grep $newthings[2]:q filex</span>       
    <span class="docEmphasis">The question marks in a?? would be used for filename expansion</span>
    <span class="docEmphasis">it is not quoted</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">things</span> is 
      assigned a string. Each string contains a wildcard. The number of elements 
      in the variable is one, one string.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When attempting to create an array out of the string
      <span class="docEmphasis">things,</span> the C shell tries to expand the 
      wildcard characters to perform filename substitution within
      <span class="docEmphasis">things</span> and produces a
      <span class="docEmphasis">No match.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">:x</span> extension 
      prevents the shell from expanding the wildcards in the
      <span class="docEmphasis">things</span> variable.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array <span class="docEmphasis">newthings</span> 
      consists of three elements.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">To print the elements of the array, they must be quoted 
      or, again, the shell will try to expand the wildcards.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">:q</span> quotes the 
      variable just as though the variable were surrounded by double quotes. The
      <span class="docEmphasis">grep</span> program will print any lines 
      containing the pattern <span class="docEmphasis">a??</span> in file
      <span class="docEmphasis">filex.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>
<h3 class="docSection1Title" id="ch09lev1sec2">9.2 Programming with the C Shell</h3>
<h4 class="docSection2Title" id="ch09lev2sec14">9.2.1 Steps in Creating a Shell Script</h4>
<p class="docText">A shell script is normally written in an editor and consists 
of commands interspersed with comments. Comments are preceded by a pound sign 
and consist of text used to document what is going on.</p>
<p class="docText"><b>The First Line.</b> At the top left corner, the line 
preceded by #! (often called <span class="docEmphasis">shbang</span>) indicates 
the program that will be executing the lines in the script. This line is 
commonly</p>
<pre>#!/bin/csh
</pre>
<p class="docText">The <span class="docEmphasis">#!,</span> also called a
<span class="docEmphasis">magic number,</span> is used by the kernel to identify 
the program that should be interpreting the lines in the script. When a program 
is loaded into memory, the kernel will examine the first line. If the first line 
is binary data, the program will be executed as a compiled program; if the first 
line contains the <span class="docEmphasis">#!,</span> the kernel will look at 
the path following the <span class="docEmphasis">#!</span> and start that 
program as the interpreter. If the path is <span class="docEmphasis">/bin/csh,</span> 
the C shell will interpret the lines in the program. This line must be the top 
line of your script or the line will be treated as a comment line.</p>
<p class="docText">When the script starts, the <span class="docEmphasis">.cshrc</span> 
file is read first and executed, so that anything set within that file will 
become part of your script. You can prevent the <span class="docEmphasis">.cshrc</span> 
from being read into your script by using the <span class="docEmphasis">–f</span> 
(fast) option to the C shell program. This option is written as</p>
<pre>#!/bin/csh -f
</pre>
<p class="docText"><b>Comments.</b> Comments are lines preceded by a pound sign 
(<span class="docEmphasis">#</span>). They are used to document your script. It 
is sometimes difficult to understand what the script is supposed to do if it is 
not commented. Although comments are important, they are often too sparse or not 
even used at all. Try to get used to commenting what you are doing not only for 
someone else, but also for yourself. Two days from now you may not remember 
exactly what you were trying to do.</p>
<p class="docText"><b>Making the Script Executable.</b> When you create a file, 
it is not given execute permission. You need this permission to run your script. 
Use the <span class="docEmphasis">chmod</span> command to turn on execute 
permission.</p>
<h5 id="ch09list65" class="docExampleTitle">Example 9.65 </h5>
<pre>1   % <span class="docEmphStrong">chmod +x myscript</span>
2   % ls -lF  myscript
    <span class="docEmphasis">-rwxr--xr--x    1  ellie  0 Jul  13:00 myscript*</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">chmod</span> command is 
      used to turn on execute permission for the user, the group, and others.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">ls</span> 
      command indicates that all users have execute permission on the
      <span class="docEmphasis">myscript</span> file. The asterisk at the end of 
      the filename (resulting from the <span class="docEmphasis">-F</span> 
      option) also indicates that this is an executable program.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>An Example Scripting Session.</b> In the following 
example, the user will create the script in the editor. After saving the file, 
the execute permissions are turned on with the <span class="docEmphasis">chmod</span> 
command, and the script is executed. If there are errors in the program, the C 
shell will respond immediately.</p>
<h5 id="ch09list66" class="docExampleTitle">Example 9.66 </h5>
<pre>(The Script - info)
    #!/bin/csh -f
    <span class="docEmphasis"># This script is called info</span>
1   echo Hello ${LOGNAME}!
2   echo The hour is 'date +%H'
3   echo &quot;This machine is 'uname -n'&quot;
4   echo The calendar for this month is
5   cal
6   echo The processes you are running are:
7   ps -ef | grep  &quot;^ *$LOGNAME&quot;
8   echo &quot;Thanks for coming. See you soon\!\!&quot;

    (The Command Line)
    % <span class="docEmphStrong">chmod +x info</span>
    % <span class="docEmphStrong">info</span>
1   <span class="docEmphasis">Hello ellie!</span>
2   <span class="docEmphasis">The hour is 09</span>
3   <span class="docEmphasis">This machine is jody</span>
4   <span class="docEmphasis">The calendar for this month is</span>
5       <span class="docEmphasis">July 2001</span>
    <span class="docEmphasis">S    M   Tu   W   Th   F   S</span>
                       <span class="docEmphasis">1   2   3</span>
    <span class="docEmphasis">4    5    6   7    8   9  10</span>
   <span class="docEmphasis">11   12   13  14   15  16  17</span>
   <span class="docEmphasis">18   19   20  21   22  23  24</span>
   <span class="docEmphasis">25   26   27  28   29  30  31</span>
7   The processes you are running are:
    <span class="docEmphasis">&lt; output of ps prints here &gt;</span>
8   Thanks for coming. See you soon!!
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <blockquote>
      
      <p class="docList">1. The user is greeted. The variable
      <span class="docEmphasis">LOGNAME</span> holds the user's name. On BSD 
      systems, <span class="docEmphasis">USER</span> is used. The curly braces 
      shield the variable from the exclamation point. The exclamation point does 
      not need to be escaped because it will not be interpreted as a history 
      character unless there is a character appended to it.</p>
      
      
      <p class="docList">2. The <span class="docEmphasis">date</span> command is 
      enclosed in backquotes. The shell will perform command substitution and 
      the date's output, the current hour, will be substituted into the
      <span class="docEmphasis">echo</span> string.</p>
      
      
      <p class="docList">3. The <span class="docEmphasis">uname –n</span> 
      command displays the machine name.</p>
      
      
      <p class="docList">4. The <span class="docEmphasis">cal</span> command is 
      not enclosed in backquotes because when the shell performs command 
      substitution, the newlines are all stripped from the output. This produces 
      a strange-looking calendar. By putting the <span class="docEmphasis">cal</span> 
      command on a line by itself, the formatting is preserved.</p>
      
      
      <p class="docList">5. The calendar for this month is printed.</p>
      
      
      <p class="docList">6,7. The user's processes are printed. Use
      <span class="docEmphasis">ps –aux</span> for BSD.</p>
      
      
      <p class="docList">8. The string is printed. Note that the two exclamation 
      points are prepended with backslashes. This is necessary to prevent 
      history substitution.</p>
      
    </blockquote>
    </td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec15">9.2.2 Reading User Input</h4>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">$&lt;</span> 
Variable.</span> To make a script interactive, a special C shell variable is 
used to read standard input into a variable. The <span class="docEmphasis">$&lt;</span> 
symbol reads a line from standard input up to but not including the newline, and 
assigns the line to a variable<span id="ENB9-6"><a class="docLink" href="#EN9-6"><sup>[6]</sup></a></span>.
</p>

<h5 id="ch09list67" class="docExampleTitle">Example 9.67 </h5>
<pre>(The Script - greeting)
   #/bin/csh  -f
   <span class="docEmphasis"># The greeting script</span>
1  echo -n  &quot;What is your name? &quot;
2  <span class="docEmphStrong">set name = $&lt;</span>
3  echo Greetings to you, $name.

(The Command Line)
   % <span class="docEmphStrong">chmod +x greeting</span>
   % <span class="docEmphStrong">greeting</span>
1  <span class="docEmphasis">What is your name?</span>  <span class="docEmphBoldItalic">Dan Savage</span>
3  <span class="docEmphasis">Greetings to you, Dan Savage.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The string is echoed to the screen. The
      <span class="docEmphasis">–n</span> option causes the
      <span class="docEmphasis">echo</span> command to suppress the newline at 
      the end of the string. On some versions of <span class="docEmphasis">echo,</span> 
      use a <span class="docEmphasis">\c</span> at the end of the string to 
      suppress the newline; e.g., <span class="docEmphasis">echo hello\c.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Whatever is typed at the terminal, up to a newline is 
      stored as a string in the <span class="docEmphasis">name</span> variable.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The string is printed after variable substitution is 
      performed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Creating a Wordlist from the Input String.</b> Since the 
input from the <span class="docEmphasis">$&lt;</span> variable is stored as a 
string, you may want to break the string into a wordlist.</p>
<h5 id="ch09list68" class="docExampleTitle">Example 9.68 </h5>
<pre>1   % echo What is your full name\?

2   % <span class="docEmphStrong">set name = $&lt;</span>
    <span class="docEmphasis">Lola Justin Lue</span>

3   % <span class="docEmphStrong">echo Hi $name[1]</span>
    <span class="docEmphasis">Hi Lola Justin Lue</span>

4   % <span class="docEmphStrong">echo $name[2]</span>
    <span class="docEmphasis">Subscript out of range.</span>

5   % <span class="docEmphStrong">set name = ( $name )</span>

6   % <span class="docEmphStrong">echo Hi $name[1]</span>
    <span class="docEmphasis">Hi Lola</span>

7   % <span class="docEmphStrong">echo $name[2] $name[3]</span>
    <span class="docEmphasis">Justin Lue</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user is asked for input.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The special variable <span class="docEmphasis">$&lt;</span> 
      accepts input from the user in a string format.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Since the value <span class="docEmphasis">Lola Justin 
      Lue</span> is stored as a single string, the subscript
      <span class="docEmphasis">[1]</span> displays the whole string. Subscripts 
      start at one.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The string consists of one word. There are not two 
      words, so by using a subscript of <span class="docEmphasis">[2],</span> 
      the shell complains that the <span class="docEmphasis">Subscript is out of 
      range.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">To create a wordlist, the string is enclosed in 
      parentheses. An array is created. The string is broken up into a list of 
      words and assigned to the variable <span class="docEmphasis">name.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first element of the array is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The second and third elements of the array are printed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec16">9.2.3 Arithmetic</h4>
<p class="docText">There is not really a need to do math problems in a shell 
script, but sometimes arithmetic is necessary, e.g., to increment or decrement a 
loop counter. The C shell supports integer arithmetic only. The @ symbol is used 
to assign the results of calculations to numeric variables.</p>
<p class="docText"><b>Arithmetic Operators.</b> The following operators in
<a class="docLink" href="#ch09table08">Table 9.8</a> are used to perform integer 
arithmetic operations. They are the same operators as found in the C programming 
language. See <a class="docLink" href="#ch09table13">Table 9.13</a> for operator 
precedence. Also borrowed from the C language are shortcut assignment operators, 
shown in <a class="docLink" href="#ch09table09">Table 9.9</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table08" class="docTableTitle">Table 9.8. Operators</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Function</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Operator</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Addition </td>
    <td class="docTableCell" vAlign="top">+ </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Subtraction </td>
    <td class="docTableCell" vAlign="top">- </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Division </td>
    <td class="docTableCell" vAlign="top">/ </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Multiplication </td>
    <td class="docTableCell" vAlign="top">* </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Modulus </td>
    <td class="docTableCell" vAlign="top">% </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Left shift </td>
    <td class="docTableCell" vAlign="top">&lt;&lt; </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Right shift </td>
    <td class="docTableCell" vAlign="top">&gt;&gt; </td>
  </tr>
</table>


<p>&nbsp;</p>


<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table09" class="docTableTitle">Table 9.9. Shortcut Operations</h5>
  </caption>
  <colgroup span="3" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Operator</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Example</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Equivalent to</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">+=</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num += 2</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num = $num 
    + 2</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-=</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num -= 4</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num = $num 
    - 4</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">*=</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num *= 3</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num = $num 
    * 3</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">/=</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num /= 2</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num = $num 
    / 2</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">++</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num++</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num = $num 
    + 1</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num- -</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ num = $num 
    - 1</span> </td>
  </tr>
</table>

<h5 id="ch09list69" class="docExampleTitle">Example 9.69 </h5>
<pre>1   % <span class="docEmphStrong">@ sum = 4 + 6</span>
    echo $sum
    <span class="docEmphasis">10</span>

2   % <span class="docEmphStrong">@ sum++</span>
    echo $sum
    <span class="docEmphasis">11</span>

3   % <span class="docEmphStrong">@ sum += 3</span>
    echo $sum
    <span class="docEmphasis">14</span>

4   % <span class="docEmphStrong">@ sum--</span>
    echo $sum
    <span class="docEmphasis">13</span>

5   % @ n = 3+4
    <span class="docEmphasis">@: Badly formed number</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">sum</span> is 
      assigned the result of adding <span class="docEmphasis">4</span> and
      <span class="docEmphasis">6.</span> (The space after the
      <span class="docEmphasis">@</span> is required.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">sum</span> is 
      incremented by <span class="docEmphasis">1.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">sum</span> is 
      incremented by <span class="docEmphasis">3.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">sum</span> is 
      decremented by <span class="docEmphasis">1.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Spaces are required after the <span class="docEmphasis">
      @</span> symbol and surrounding the operator.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Floating Point Arithmetic.</b> Since floating point 
arithmetic is not supported by this shell, if you should need more complex 
mathematical operations, you can use UNIX utilities.</p>
<p class="docText">The <span class="docEmphasis">bc</span> and
<span class="docEmphasis">nawk</span> utilities are useful if you need to 
perform complex calculations.</p>
<h5 id="ch09list70" class="docExampleTitle">Example 9.70 </h5>
<pre>(The Command Line)
1   <span class="docEmphStrong">set n='echo &quot;scale=3; 13 / 2&quot; | bc'</span>
    echo $n
    <span class="docEmphasis">6.500</span>

2   <span class="docEmphStrong">set product='nawk -v x=2.45 -v y=3.124 'BEGIN{\</span>
    <span class="docEmphStrong">printf &quot;%.2f\n&quot;, x * y }''</span>

    % <span class="docEmphStrong">echo $product</span>
    <span class="docEmphasis">7.65</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">echo</span> 
      command is piped to the <span class="docEmphasis">bc</span> program. The 
      scale is set to <span class="docEmphasis">3;</span> that is, the number of 
      significant digits to the right of the decimal point that will be printed. 
      The calculation is to divide <span class="docEmphasis">13</span> by
      <span class="docEmphasis">2.</span> The entire pipeline is enclosed in 
      backquotes. Command substitution will be performed and the output assigned 
      to the variable <span class="docEmphasis">n.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">nawk</span> program gets 
      its values from the argument list passed in at the command line. Each 
      argument passed to <span class="docEmphasis">nawk</span> is preceded by 
      the <span class="docEmphasis">–v</span> switch; for example,
      <span class="docEmphasis">–v x=2.45</span> and <span class="docEmphasis">
      –v y=3.124.</span> After the numbers are multiplied, the
      <span class="docEmphasis">printf</span> function formats and prints the 
      result with a precision of <span class="docEmphasis">2</span> places to 
      the right of the decimal point. The output is assigned to the variable
      <span class="docEmphasis">product.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec17">9.2.4 Debugging Scripts</h4>
<p class="docText">C shell scripts often fail because of some simple syntax 
error or logic error. Options to the <span class="docEmphasis">csh</span> 
command are provided to help you debug your programs. See
<a class="docLink" href="#ch09table10">Table 9.10</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table10" class="docTableTitle">Table 9.10. Echo (<span class="docEmphasis">–x</span>) 
  and Verbose (<span class="docEmphasis">–v</span>)</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top" colSpan="2">
    <span class="docEmphBoldItalic">As options to csh</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">csh –x 
    scriptname</span> </td>
    <td class="docTableCell" vAlign="top">Display each line of script after 
    variable substitution and before execution. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">csh –v 
    scriptname</span> </td>
    <td class="docTableCell" vAlign="top">Display each line of script before 
    execution, just as you typed it. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">csh –n 
    scriptname</span> </td>
    <td class="docTableCell" vAlign="top">Interpret but do not execute commands.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top" colSpan="2">
    <span class="docEmphBoldItalic">As arguments to the set command</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">set echo</span>
    </td>
    <td class="docTableCell" vAlign="top">Display each line of script after 
    variable substitution and before execution. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">set verbose</span>
    </td>
    <td class="docTableCell" vAlign="top">Display each line of script before 
    execution, just as you typed it. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top" colSpan="2">
    <span class="docEmphBoldItalic">As the first line in a script</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">#!/bin/csh 
    –xv</span> </td>
    <td class="docTableCell" vAlign="top">Turns on both echo and verbose. These 
    options can be invoked separately or combined with other
    <span class="docEmphasis">csh</span> invocation arguments. </td>
  </tr>
</table>

<h5 id="ch09list71" class="docExampleTitle">Example 9.71 </h5>
<pre><span class="docEmphasis">(The</span> -v <span class="docEmphasis">and</span> -x <span class="docEmphasis">Options)</span>
1   % <span class="docEmphStrong">cat practice</span>
    <span class="docEmphasis">#!/bin/csh</span>
    <span class="docEmphasis">echo Hello $LOGNAME</span>
    <span class="docEmphasis">echo The date is 'date'</span>
    <span class="docEmphasis">echo Your home shell is $SHELL</span>
    <span class="docEmphasis">echo Good-bye $LOGNAME</span>

2   % <span class="docEmphStrong">csh -v practice</span>
    <span class="docEmphasis">echo Hello $LOGNAME</span>
    <span class="docEmphasis">Hello ellie</span>
    <span class="docEmphasis">echo The date is 'date'</span>
    <span class="docEmphasis">The date is Sun May 23 12:24:07 PDT  2001</span>
    <span class="docEmphasis">echo Your login shell is $SHELL</span>
    <span class="docEmphasis">Your login shell is /bin/csh</span>
    <span class="docEmphasis">echo Good-bye $LOGNAME</span>
    <span class="docEmphasis">Good-bye ellie</span>

3   % <span class="docEmphStrong">csh -x practice</span>
    <span class="docEmphasis">echo Hello ellie</span>
    <span class="docEmphasis">Hello ellie</span>
    <span class="docEmphasis">echo The date is 'date'</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">The date is Sun May 23 12:24:15 PDT  2001</span>
    <span class="docEmphasis">echo Your login shell is /bin/csh</span>
    <span class="docEmphasis">Your login shell is /bin/csh</span>
    <span class="docEmphasis">echo Good-bye ellie</span>
    <span class="docEmphasis">Good-bye ellie</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The contents of the C shell script are displayed. 
      Variable and command substitution lines are included so that you can see 
      how <span class="docEmphasis">echo</span> and <span class="docEmphasis">
      verbose</span> differ.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">–v</span> option to the
      <span class="docEmphasis">csh</span> command causes the
      <span class="docEmphasis">verbose</span> feature to be enabled. Each line 
      of the script is displayed as it was typed in the script, and then the 
      line is executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">–x</span> option to the
      <span class="docEmphasis">csh</span> command enables echoing. Each line of 
      the script is displayed after variable and command substitution are 
      performed, and then the line is executed. Since this feature allows you to 
      examine what is being replaced as a result of command and variable 
      substitution, it is used more often than the <span class="docEmphasis">
      verbose</span> option.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list72" class="docExampleTitle">Example 9.72 </h5>
<pre><span class="docEmphasis">(Echo and Verbose)</span>
1   % <span class="docEmphStrong">cat practice</span>
    <span class="docEmphasis">#!/bin/csh</span>
    <span class="docEmphasis">echo Hello $LOGNAME</span>
    <span class="docEmphasis">echo The date is 'date'</span>
    <span class="docEmphBoldItalic">set echo</span>
    <span class="docEmphasis">echo Your home shell is $SHELL</span>
    <span class="docEmphBoldItalic">unset echo</span>
    <span class="docEmphasis">echo Good-bye $LOGNAME</span>

    % chmod +x practice

2   % <span class="docEmphStrong">practice</span>
    <span class="docEmphasis">Hello ellie</span>
    <span class="docEmphasis">The date is Sun May 26 12:25:16 PDT  2001</span>
<span class="docEmphasis">--&gt; echo Your login shell is /bin/csh</span>
<span class="docEmphasis">--&gt; Your login shell is /bin/csh</span>
<span class="docEmphasis">--&gt; unset echo</span>
    <span class="docEmphasis">Good-bye ellie</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">echo</span> option is set 
      and unset within the script. This enables you to debug certain sections of 
      your script where you have run into a bottleneck, rather than echoing each 
      line of the entire script.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The – –&gt; marks where the echoing was turned on. Each 
      line is printed after variable and command substitution and then executed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list73" class="docExampleTitle">Example 9.73 </h5>
<pre>1   % <span class="docEmphStrong">cat practice</span>
    <span class="docEmphasis">#!/bin/csh</span>
    <span class="docEmphasis">echo Hello $LOGNAME</span>
    <span class="docEmphasis">echo The date is 'date'</span>
    <span class="docEmphBoldItalic">set verbose</span>
    <span class="docEmphasis">echo Your home shell is $SHELL</span>
    <span class="docEmphBoldItalic">unset verbose</span>
    <span class="docEmphasis">echo Good-bye $LOGNAME</span>

2   % <span class="docEmphStrong">practice</span>
    <span class="docEmphasis">Hello ellie</span>
    <span class="docEmphasis">The date is Sun May 23 12:30:09 PDT  2001</span>
<span class="docEmphasis">--&gt; echo Your login shell is $SHELL</span>
<span class="docEmphasis">--&gt; Your login shell is /bin/csh</span>
<span class="docEmphasis">--&gt; unset verbose</span>
    <span class="docEmphasis">Good-bye ellie</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">verbose</span> option is 
      set and unset within the script.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The – –&gt; marks where <span class="docEmphasis">verbose</span> 
      was turned on. The lines are printed just as they were typed in the script 
      and then executed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec18">9.2.5 Command Line Arguments</h4>
<p class="docText">Shell scripts can take command line arguments. Arguments are 
used to modify the behavior of the program in some way. The C shell assigns 
command line arguments to positional parameters and enforces no specific limit 
on the number of arguments that can be assigned (the Bourne shell sets a limit 
of nine positional parameters). Positional parameters are number variables. The 
scriptname is assigned to <span class="docEmphasis">$0,</span> and any words 
following the scriptname are assigned to <span class="docEmphasis">$1, $2, $3 … 
${10}, ${11},</span> and so on. <span class="docEmphasis">$1</span> is the first 
command line argument. In addition to using positional parameters, the C shell 
provides the <span class="docEmphasis">argv</span> built-in array.</p>
<p class="docText"><span class="docEmphStrong">Positional Parameters and
<span class="docEmphasis">argv</span>.</span> If using the
<span class="docEmphasis">argv</span> array notation, a valid subscript must be 
provided to correspond to the argument being passed in from the command line or 
the error message <span class="docEmphasis">Subscript out of range</span> is 
sent by the C shell. The <span class="docEmphasis">argv</span> array does not 
include the scriptname. The first argument is <span class="docEmphasis">
$argv[1],</span> and the number of arguments is represented by
<span class="docEmphasis">$#argv.</span> (There is no other way to represent the 
number of arguments.) See <a class="docLink" href="#ch09table11">Table 9.11</a> 
for a list of command line arguments.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table11" class="docTableTitle">Table 9.11. Command Line Arguments</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Argument</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$0</span>
    </td>
    <td class="docTableCell" vAlign="top">The name of the script. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$1, $2, … 
    ${10}…</span> </td>
    <td class="docTableCell" vAlign="top">The first and second positional 
    parameters are referenced by the number preceded by a dollar sign. The curly 
    braces shield the number <span class="docEmphasis">10</span> so that it does 
    not print the first positional parameter followed by a zero. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$*</span>
    </td>
    <td class="docTableCell" vAlign="top">All the positional parameters. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$argv[0]</span>
    </td>
    <td class="docTableCell" vAlign="top">Not valid; nothing is printed. C shell 
    array subscripts start at 1. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$argv[1] 
    $argv[2]…</span> </td>
    <td class="docTableCell" vAlign="top">The first argument, second argument, 
    etc. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$argv[*]</span>
    </td>
    <td class="docTableCell" vAlign="top">All arguments. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$argv</span>
    </td>
    <td class="docTableCell" vAlign="top">All arguments. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$#argv</span>
    </td>
    <td class="docTableCell" vAlign="top">The number of arguments. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$argv[$#argv]</span>
    </td>
    <td class="docTableCell" vAlign="top">The last argument. </td>
  </tr>
</table>

<h5 id="ch09list74" class="docExampleTitle">Example 9.74 </h5>
<pre>(The Script)
#!/bin/csh –f
<span class="docEmphasis"># The greetings script</span>
<span class="docEmphasis"># This script greets a user whose name is typed in at the</span>
<span class="docEmphasis"># command line.</span>

1   echo <span class="docEmphStrong">$0</span> to you <span class="docEmphStrong">$1 $2 $3</span>
2   echo Welcome to this day 'date | awk '{print $1, $2, $3}''
3   echo Hope you have a nice day, <span class="docEmphStrong">$argv[1]</span>\!
4   echo Good–bye <span class="docEmphStrong">$argv[1] $argv[2] $argv[3]</span>

(The Command Line)
    % <span class="docEmphStrong">chmod +x greetings</span>

    % <span class="docEmphStrong">greetings Guy Quigley</span>
1   <span class="docEmphasis">greetings to you Guy Quigley</span>
2   <span class="docEmphasis">Welcome to this day Fri Aug 28</span>
3   <span class="docEmphasis">Hope you have a nice day, Guy!</span>
4   <span class="docEmphasis">Subscript out of range</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The name of the script and the first three positional 
      parameters are to be displayed. Since there are only two positional 
      parameters coming in from the command line, <span class="docEmphasis">Guy</span> 
      and <span class="docEmphasis">Quigley,</span> <span class="docEmphasis">$1</span> 
      becomes <span class="docEmphasis">Guy,</span> <span class="docEmphasis">$2</span> 
      becomes <span class="docEmphasis">Quigley,</span> and
      <span class="docEmphasis">$3</span> is not defined.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">awk</span> command is 
      quoted with single quotes so that the shell does not confuse
      <span class="docEmphasis">awk</span>'s field numbers
      <span class="docEmphasis">$1, $2,</span> and <span class="docEmphasis">$3</span> 
      with positional parameters. (Do not confuse <span class="docEmphasis">awk</span>'s 
      field designators <span class="docEmphasis">$1, $2,</span> and
      <span class="docEmphasis">$3</span> with the shell's positional 
      parameters.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">argv</span> array is 
      assigned values coming in from the command line. <span class="docEmphasis">
      Guy</span> is assigned to <span class="docEmphasis">argv[1]</span> and its 
      value is displayed. You can use the <span class="docEmphasis">argv</span> 
      array to represent the command line arguments within your script, or you 
      can use positional parameters. The difference is that positional 
      parameters do not produce an error if you reference one that has no value, 
      whereas an unassigned <span class="docEmphasis">argv</span> value causes 
      the script to exit with the <span class="docEmphasis">Subscript out of 
      range</span> error message.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The shell prints the error <span class="docEmphasis">
      Subscript out of range</span> because there is no value for
      <span class="docEmphasis">argv[3].</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec19">9.2.6 Flow Control and Conditional Constructs</h4>
<p class="docText">When making decisions, the <span class="docEmphasis">if, 
if/else, if/else if,</span> and <span class="docEmphasis">switch</span> commands 
are used. These commands control the flow of the program by allowing 
decision-making based on whether an expression is true or false.</p>
<p class="docText"><b>Testing Expressions.</b> An expression consists of a set 
of operands separated by operators. Operators and precedence are listed in
<a class="docLink" href="#ch09table12">Tables 9.12</a> and
<a class="docLink" href="#ch09table13">9.13</a>. To test an expression, the 
expression is surrounded by parentheses. The C shell evaluates the expression, 
resulting in either a zero or nonzero numeric value. If the result is
<span class="docEmphasis">nonzero,</span> the expression is
<span class="docEmphasis">true;</span> if the result is
<span class="docEmphasis">zero,</span> the expression is
<span class="docEmphasis">false.</span></p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table12" class="docTableTitle">Table 9.12. Comparison and Logical Operators</h5>
  </caption>
  <colgroup span="3" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Operator</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Example</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">==</span>
    </td>
    <td class="docTableCell" vAlign="top">Is equal to </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$x == $y</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!=</span>
    </td>
    <td class="docTableCell" vAlign="top">Is not equal to </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$x != $y</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Is greater than </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$x &gt; $y</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;=</span>
    </td>
    <td class="docTableCell" vAlign="top">Is greater than or equal to </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$x &gt;= $y</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&lt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Is less than </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$x &lt; $y</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&lt;=</span>
    </td>
    <td class="docTableCell" vAlign="top">Is less than or equal to </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$x &lt;= $y</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">=~</span>
    </td>
    <td class="docTableCell" vAlign="top">String matches </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$ans =~ [Yy]*</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!~</span>
    </td>
    <td class="docTableCell" vAlign="top">String does not match </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$ans !~ [Yy]*</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!</span>
    </td>
    <td class="docTableCell" vAlign="top">Logical <span class="docEmphasis">not</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">! $x</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">||</span>
    </td>
    <td class="docTableCell" vAlign="top">Logical <span class="docEmphasis">or</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$x || $y</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&amp;&amp;</span>
    </td>
    <td class="docTableCell" vAlign="top">Logical <span class="docEmphasis">and</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$x &amp;&amp; $y</span>
    </td>
  </tr>
</table>

<p class="docText">When evaluating an expression with the logical
<span class="docEmphasis">and</span> (&amp;&amp;), the shell evaluates from left to 
right. If the first expression (before the &amp;&amp;) is false, the shell assigns false 
as the result of the entire expression, never checking the remaining 
expressions. If the first expression is false, the whole expression is false 
when using the logical <span class="docEmphasis">and</span> (&amp;&amp;) operator. Both 
expressions surrounding a logical &amp;&amp; operator must be true for the entire 
expression to evaluate to true.</p>
<p class="docText">When evaluating an expression with the logical
<span class="docEmphasis">or</span> (||), if the first expression to the left of 
the || is true, the shell assigns <span class="docEmphasis">true</span> to the 
entire expression and never checks further. In a logical || expression, only one 
of the expressions must be true.</p>
<p class="docText">The logical <span class="docEmphasis">not</span> is a unary 
operator; that is, it evaluates one expression. If the expression to the right 
of the <span class="docEmphasis">not</span> operator is true, the expression 
becomes false. If it is false, the expression becomes true.</p>
<p class="docText"><b>Precedence and Associativity.</b> Like C, the C shell uses 
precedence and associativity rules when testing expressions. If you have an 
expression with a mix of different operators, such as the following:</p>
<pre>@  x = 5 + 3 * 2
echo $x
<span class="docEmphasis">11</span>
</pre>
<p class="docText">the shell reads the operators in a certain order.
<span class="docEmphasis">Precedence</span> refers to the order of importance of 
the operator. <span class="docEmphasis">Associativity</span> refers to whether 
the shell reads the expression from left to right or right to left when the 
precedence is equal.<span id="ENB9-7"><a class="docLink" href="#EN9-7"><sup>[7]</sup></a></span> 
Other than in arithmetic expressions (which you will not readily need in shell 
scripts anyway), the order of associativity is from left to right if the 
precedence is equal. You can change the order by using parentheses. (See
<a class="docLink" href="#ch09table13">Table 9.13</a>.)</p>
<pre>@ x = ( 5 + 3 ) * 2
echo $x
<span class="docEmphasis">16</span>
</pre>
<p class="docText">Expressions can be numeric, relational, or logical. Numeric 
expressions use the following arithmetic operators:</p>
<pre>+ – * /  ++ -- %
</pre>
<p class="docText">Relational expressions use the operators that yield either a 
true (nonzero) or false (zero) result:</p>
<pre>&gt;  &lt;   &gt;=   &lt;=   ==   !=
</pre>
<p class="docText">Logical expressions use these operators:</p>
<pre>!   &amp;&amp;  ||
</pre>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table13" class="docTableTitle">Table 9.13. Operator Precedence</h5>
  </caption>
  <colgroup span="3" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Precedence</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Operator</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">High </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">( )</span>
    </td>
    <td class="docTableCell" vAlign="top">Change precedence; group </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">~</span>
    </td>
    <td class="docTableCell" vAlign="top">Complement </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!</span>
    </td>
    <td class="docTableCell" vAlign="top">Logical not, negation </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">* / %</span>
    </td>
    <td class="docTableCell" vAlign="top">Multiply, divide, modulo </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">+ -</span>
    </td>
    <td class="docTableCell" vAlign="top">Add, subtract </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&lt;&lt; &gt;&gt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Bitwise left and right shift </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt; &gt;= &lt; &lt;=</span>
    </td>
    <td class="docTableCell" vAlign="top">Relational operators: greater than, 
    less than </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">== !=</span>
    </td>
    <td class="docTableCell" vAlign="top">Equality: equal to, not equal to </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">=~ !~</span>
    </td>
    <td class="docTableCell" vAlign="top">Pattern matching: matches, does not 
    match </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&amp;</span>
    </td>
    <td class="docTableCell" vAlign="top">Bitwise <span class="docEmphasis">and</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">^</span>
    </td>
    <td class="docTableCell" vAlign="top">Bitwise exclusive
    <span class="docEmphasis">or</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">|</span>
    </td>
    <td class="docTableCell" vAlign="top">Bitwise inclusive
    <span class="docEmphasis">or</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&amp;&amp;</span>
    </td>
    <td class="docTableCell" vAlign="top">Logical <span class="docEmphasis">and</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Low </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">||</span>
    </td>
    <td class="docTableCell" vAlign="top">Logical <span class="docEmphasis">or</span>
    </td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">if</span> 
Statement.</span> The simplest form of conditional is the
<span class="docEmphasis">if</span> statement. After the
<span class="docEmphasis">if</span> is tested, and if the expression evaluates 
to true, the commands after the <span class="docEmphasis">then</span> keyword 
are executed until the <span class="docEmphasis">endif</span> is reached. The
<span class="docEmphasis">endif</span> keyword terminates the block. The
<span class="docEmphasis">if</span> statement may be nested as long as every 
single <span class="docEmphasis">if</span> statement is terminated with a 
matching <span class="docEmphasis">endif.</span> The <span class="docEmphasis">
endif</span> goes with the nearest enclosing <span class="docEmphasis">if.</span></p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>if ( expression ) then
   command
   command
endif
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list75" class="docExampleTitle">Example 9.75 </h5>
<pre>(In the Script: Checking for Arguments)
1   <span class="docEmphStrong">if ( $#argv != 1 ) then</span>
2       echo &quot;$0 requires an argument&quot;
3       exit 1
4   <span class="docEmphStrong">endif</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This line reads: <span class="docEmphasis">If the 
      number of arguments ($#argv) passed in from the command line is not equal 
      to one, then…</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the first line is true, this line and line 3 are 
      executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The program exits with a value of one, meaning it 
      failed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Every <span class="docEmphasis">if</span> block is 
      closed with an <span class="docEmphasis">endif</span> statement.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Testing and Unset or Null Variables.</b> The
<span class="docEmphasis">$?</span> special variable is used to test if a 
variable has been set. It will return true if the variable is set to null.</p>
<h5 id="ch09list76" class="docExampleTitle">Example 9.76 </h5>
<pre>(From .cshrc File)
<span class="docEmphStrong">if ( $?prompt ) then</span>
   set history = 32
endif
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The <span class="docEmphasis">.cshrc</span> file is 
    executed every time you start a new <span class="docEmphasis">csh</span> 
    program. <span class="docEmphasis">$?</span> is used to check to see if a 
    variable has been set. In this example, the shell checks to see if the 
    prompt has been set. If the prompt is set, you are running an interactive 
    shell, not a script. The prompt is only set for interactive use. Since the 
    history mechanism is only useful when running interactively, the shell will 
    not set history if you are running a script.</td>
  </tr>
</table>

<h5 id="ch09list77" class="docExampleTitle">Example 9.77 </h5>
<pre>(The Script)
    echo -n &quot;What is your name? &quot;
1   set name = $&lt;
2   <span class="docEmphStrong">if ( &quot;$name&quot; != &quot;&quot; ) then</span>
       grep &quot;$name&quot; datafile
    endif
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user is asked for input. If the user just presses 
      Enter, the variable <span class="docEmphasis">name</span> is set, but it 
      is set to null.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable is double quoted so that if the user 
      enters more than one word in <span class="docEmphasis">name,</span> the 
      expression will still be evaluated. If the quotes were removed and the 
      user entered first and last name, the shell would exit the script with the 
      error message <span class="docEmphasis">if: Expression syntax.</span> The 
      empty double quotes represent a null string.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
if/else</span> Statements.</span> The <span class="docEmphasis">if/else</span> 
construct is a two-way branching control structure. If the expression after the
<span class="docEmphasis">if</span> command is true, the block following it is 
executed; otherwise, the block after the <span class="docEmphasis">else</span> 
is executed. The <span class="docEmphasis">endif</span> matches the innermost
<span class="docEmphasis">if</span> statement and terminates the statement.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>if ( expression ) then
    command
else
    command
endif
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list78" class="docExampleTitle">Example 9.78 </h5>
<pre>1   <span class="docEmphStrong">if ( $answer =~ [Yy]* ) then</span>
2      mail bob &lt; message
3   <span class="docEmphStrong">else</span>
4      mail john &lt; datafile
5   <span class="docEmphStrong">endif</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This line reads: <span class="docEmphasis">If the value 
      of $answer matches a</span> Y <span class="docEmphasis">or a</span> y<span class="docEmphasis">, 
      followed by zero or more characters, then go to line 2; otherwise, go to 
      line 3.</span> (The <span class="docEmphasis">*</span> is a shell 
      metacharacter.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user <span class="docEmphasis">bob</span> is mailed 
      the contents of the file <span class="docEmphasis">message.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The commands under the <span class="docEmphasis">else</span> 
      are executed if line 1 is not true.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user <span class="docEmphasis">john</span> is 
      mailed the contents of the file <span class="docEmphasis">datafile.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">endif</span> block ends 
      the <span class="docEmphasis">if</span> block.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Debugging Expressions.</b> The <span class="docEmphasis">
–x</span> option (called <span class="docEmphasis">echoing</span>) to the C 
shell allows you to trace what is going on in your script as it executes. If you 
are unsure what is going on, this is a good way to debug your script.</p>
<h5 id="ch09list79" class="docExampleTitle">Example 9.79 </h5>
<pre>(The Script: Using Logical Expressions and Checking Values)
    #!/bin/csh -f
    <span class="docEmphasis"># Scriptname: logical</span>
    set x = 1
    set y = 2
    set z = 3
1   <span class="docEmphStrong">if ( ( &quot;$x&quot; &amp;&amp; &quot;$y&quot; ) ||  ! &quot;$z&quot; ) then</span>
      <span class="docEmphasis"># Note: grouping and parentheses</span>
2     echo TRUE
   else
      echo FALSE
   endif

(The Output)
3   % <span class="docEmphStrong">csh -x logical</span>
    <span class="docEmphasis">set x = 1</span>
    <span class="docEmphasis">set y = 2</span>
    <span class="docEmphasis">set z = 3</span>
    <span class="docEmphasis">if  ( ( 1 &amp;&amp;  2 )  ||  !  3 )  then</span>
    <span class="docEmphasis">echo TRUE</span>
    <span class="docEmphasis">TRUE</span>
    <span class="docEmphasis">else</span>
    %
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The logical expression is being evaluated. The first 
      expression is enclosed in parentheses (not necessary since
      <span class="docEmphasis">&amp;&amp;</span> is of higher precedence than
      <span class="docEmphasis">||</span>). The parentheses do not require 
      spaces when nested, but the negation operator (<span class="docEmphasis">!</span>) 
      must have a space after it.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the expression evaluates true, this line is 
      executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">csh</span> program is 
      executed with the <span class="docEmphasis">–x</span> switch. This turns 
      on echoing. Every line in your script is echoed back to you after variable 
      substitution has been performed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">if</span> 
Statement and a Single Command.</span> If an expression is followed by a single 
command, the <span class="docEmphasis">then</span> and <span class="docEmphasis">
endif</span> keywords are not necessary.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>if ( expression ) single command
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list80" class="docExampleTitle">Example 9.80 </h5>
<pre><span class="docEmphStrong">if ($#argv == 0) exit 1</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The expression is tested. If the number of command line 
    arguments, <span class="docEmphasis">$#argv,</span> is equal to zero, the 
    program is exited with a status of one.</td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
if/else if</span> Statements.</span> The <span class="docEmphasis">if/else if</span> 
construct offers a multiway decision-making mechanism. A number of expressions 
can be tested, and when one of the expressions evaluated is true, the block of 
statements that follow is executed. If none of the expressions are true, the
<span class="docEmphasis">else</span> block is executed.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>if ( expression ) then
    command
    command
else if ( expression ) then
    command
    command
else
    command
endif
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list81" class="docExampleTitle">Example 9.81 </h5>
<pre>(The Script: grade)
    #!/bin/csh -f
    <span class="docEmphasis">#</span> <span class="docEmphasis">This script is called grade</span>
    echo -n &quot;What was your grade? &quot;
    set grade = $&lt;
1   <span class="docEmphStrong">if ( $grade &gt;= 90 &amp;&amp; $grade &lt;= 100 ) then</span>
       echo &quot;You got an A\!&quot;
2   <span class="docEmphStrong">else if ( $grade &gt; 79 ) then</span>
       echo &quot;You got a B&quot;
3   <span class="docEmphStrong">else if ( $grade &gt; 69 ) then</span>
       echo &quot;You're average&quot;
    <span class="docEmphStrong">else</span>
4      echo &quot;Better study&quot;
5   <span class="docEmphStrong">endif</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If <span class="docEmphasis">grade</span> is greater 
      than or equal to <span class="docEmphasis">90</span>
      <span class="docEmphasis">and</span> <span class="docEmphasis">grade</span> 
      is less than or equal to <span class="docEmphasis">100,</span> then
      <span class="docEmphasis">You got an A!</span> is printed<span class="docEmphasis">.</span>
      <span class="docEmphasis">Both</span> expressions surrounding the
      <span class="docEmphasis">&amp;&amp;</span> must be true or program control will 
      go to the <span class="docEmphasis">else if</span> on line 2.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If line 1 is false, test the expression (line 2), and 
      if it is true, <span class="docEmphasis">You got a B</span> is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If line 1 and 2 are both false, try this one. If this 
      expression is true, then <span class="docEmphasis">echo You're average</span> 
      is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If all of the above expressions test false, the 
      statements in the <span class="docEmphasis">else</span> block are 
      executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">endif</span> ends the 
      entire <span class="docEmphasis">if</span> construct.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Exit Status and the Status Variable.</b> Every UNIX 
command returns an exit status. If the command was successful, it returns an 
exit status of zero. If the command failed, it returns a nonzero exit status. 
You can test to see whether the command succeeded or failed by looking at the 
value of the C shell status variable. The status variable contains the exit 
status of the last command executed.</p>
<h5 id="ch09list82" class="docExampleTitle">Example 9.82 </h5>
<pre>1   % <span class="docEmphStrong">grep ellie /etc/passwd</span>
    <span class="docEmphasis">ellie:pHAZk66gA:9496:41:Ellie:/home/jody/ellie:/bin/csh</span>
2   % <span class="docEmphStrong">echo $status</span>
    <span class="docEmphasis">0</span>                  <span class="docEmphasis"># Zero shows that grep was a success</span>
3   % <span class="docEmphStrong">grep joe /etc/passwd</span>
4   % <span class="docEmphStrong">echo $status</span>
    <span class="docEmphasis">1</span>                  <span class="docEmphasis"># Nonzero shows that grep failed</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> program found
      <span class="docEmphasis">ellie</span> in the <span class="docEmphasis">
      /etc/passwd</span> file.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> program, if 
      it finds the pattern <span class="docEmphasis">ellie,</span> returns a 
      zero status when it exits.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> program did 
      not find <span class="docEmphasis">joe</span> in the
      <span class="docEmphasis">/etc/passwd</span> file.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> program 
      returns a nonzero status if the pattern is not found.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Exiting from a Shell Script.</b> In your shell script, the
<span class="docEmphasis">exit</span> command will take you back to the shell 
prompt. The <span class="docEmphasis">exit</span> command takes an integer value 
to indicate the type of exit. A nonzero argument indicates failure; zero 
indicates success. The number must be between 0 and 255.</p>
<h5 id="ch09list83" class="docExampleTitle">Example 9.83 </h5>
<p class="docText">
<img alt="graphics/09prfig01.gif" src="09prfig01.gif" border="0" width="500" height="192"></p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the number of arguments passed in from the command 
      line (<span class="docEmphasis">$#argv</span>) is not equal to one, then 
      go to line 2.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">echo</span> prints the 
      scriptname (<span class="docEmphasis">$0</span>) and the string
      <span class="docEmphasis">requires an argument.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The program exits back to the prompt with a value of
      <span class="docEmphasis">2.</span> This value will be stored in the
      <span class="docEmphasis">status</span> variable of the parent shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The end of the conditional <span class="docEmphasis">
      if.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">At the command line, the program
      <span class="docEmphasis">checkon</span> is executed without an argument.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The program exits with a value of
      <span class="docEmphasis">2,</span> which is stored in the
      <span class="docEmphasis">status</span> variable.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Using the Status Variable in a Script.</b> The
<span class="docEmphasis">status</span> variable can be used in a script to test 
the status of a command. The <span class="docEmphasis">status</span> variable is 
assigned the value of the last command that was executed.</p>
<h5 id="ch09list84" class="docExampleTitle">Example 9.84 </h5>
<pre>(The Script)
    #!/bin/csh -f


1   ypmatch  $1  passwd &gt;&amp; /dev/null
2   <span class="docEmphStrong">if ( $status == 0 ) then</span>
3        echo Found $1 in the NIS database
    endif
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">ypmatch</span> program 
      checks the NIS database to see if the name of the user, passed in as the 
      first argument, is in the database.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the <span class="docEmphasis">status</span> returned 
      from the last command is zero, the <span class="docEmphasis">then</span> 
      block is executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This line is executed if the <span class="docEmphasis">
      if</span> test expression evaluated to be true.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Evaluating Commands within Conditionals.</b> The C shell 
evaluates <span class="docEmphasis">expressions</span> in conditionals. To 
evaluate <span class="docEmphasis">commands</span> in conditionals, curly braces 
must enclose the command. If the command is successful, that is, returns an exit 
status of zero, the curly braces tell the shell to evaluate the expression as 
true (1).<span id="ENB9-8"><a class="docLink" href="#EN9-8"><sup>[8]</sup></a></span> 
If the command fails, the exit status is nonzero, and the expression is 
evaluated as false (<span class="docEmphasis">0</span>). </p>

<p class="docText">It is important, when using a command in a conditional, to 
know the exit status of that command. For example, the <span class="docEmphasis">
grep</span> program returns an exit status of zero when it finds the pattern it 
is searching for, one when it cannot find the pattern, and two when it cannot 
find the file. When <span class="docEmphasis">awk</span> or
<span class="docEmphasis">sed</span> are searching for patterns, those programs 
return zero whether or not they are successful in the pattern search. The 
criterion for success with <span class="docEmphasis">awk</span> and
<span class="docEmphasis">sed</span> is based on whether or not the syntax is 
right; that is, if you typed the command correctly, the exit status of
<span class="docEmphasis">awk</span> and <span class="docEmphasis">sed</span> is 
zero.</p>
<p class="docText">If the exclamation mark is placed before the expression, it
<span class="docEmphasis">not</span>s the entire expression so that if true, it 
is now false, and vice versa. Make sure a space follows the exclamation mark, or 
the C shell will invoke the history mechanism.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>if  { ( command ) }  then
    command
    command
endif
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list85" class="docExampleTitle">Example 9.85 </h5>
<pre>    #!/bin/csh -f
1   <span class="docEmphStrong">if  { ( who | grep $1 &gt;&amp; /dev/null ) } then</span>
2      echo $1 is logged on and running:
3      ps -ef | grep &quot;^ *$1&quot;       <span class="docEmphasis"># ps –aux for BSD</span>
4   <span class="docEmphStrong">endif</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">who</span> command is 
      piped to the <span class="docEmphasis">grep</span> command. All of the 
      output is sent to <span class="docEmphasis">/dev/null,</span> the UNIX 
      &quot;bit bucket.&quot; The output of the <span class="docEmphasis">who</span> 
      command is sent to <span class="docEmphasis">grep;</span>
      <span class="docEmphasis">grep</span> searches for the name of the user 
      stored in the <span class="docEmphasis">$1</span> variable (first command 
      line argument). If <span class="docEmphasis">grep</span> is successful and 
      finds the user, an exit status of zero is returned. The shell will then 
      invert the exit status of the <span class="docEmphasis">grep</span> 
      command to yield one, or true. If the shell evaluates the expression to be 
      true, it executes the commands between the <span class="docEmphasis">then</span> 
      and <span class="docEmphasis">endif.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the C shell evaluates the expression in line 1 to be 
      true, lines 2 and 3 are executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All the processes running and owned by
      <span class="docEmphasis">$1</span> are displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">endif</span> ends the
      <span class="docEmphasis">if</span> statements.</span></li>
    </ol>
    </span></td>
  </tr>
</table>
<p>&nbsp;</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>if ! { (command) } then
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list86" class="docExampleTitle">Example 9.86 </h5>
<pre>1   <span class="docEmphStrong">if  !  { ( ypmatch $user passwd &gt;&amp; /dev/null ) } then</span>
2      echo $user is <span class="docEmphStrong">not</span> a user here.
       exit 1
3   <span class="docEmphStrong">endif</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">ypmatch</span> command is 
      used to search the NIS <span class="docEmphasis">passwd</span> file, if 
      you are using a network. If the command succeeds in finding the user (<span class="docEmphasis">$user</span>) 
      in the <span class="docEmphasis">passwd</span> file, the expression 
      evaluates to be true. The exclamation point (<span class="docEmphasis">!</span>) 
      preceding the expression <span class="docEmphasis">not</span>s or 
      complements the expression; that is, makes it false if it is true, and 
      vice versa.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the expression is not true, the user is not found 
      and this line is executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">endif</span> ends this
      <span class="docEmphasis">if</span> block.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
goto.</span></span> A <span class="docEmphasis">goto</span> allows you to jump 
to some label in the program and start execution at that point. Although
<span class="docEmphasis">goto</span>s are frowned upon by many programmers, 
they are sometimes useful for breaking out of nested loops.</p>
<h5 id="ch09list87" class="docExampleTitle">Example 9.87 </h5>
<pre>(The Script)
    #!/bin/csh -f
1   <span class="docEmphStrong">startover:</span>
2   echo &quot;What was your grade? &quot;
    set grade = $&lt;
3   if ( &quot;$grade&quot; &lt; 0 || &quot;$grade&quot; &gt; 100 ) then
4      echo &quot;Illegal grade&quot;
5      <span class="docEmphStrong">goto startover</span>
    endif
    if ( $grade &gt;= 89 ) then
       echo &quot;A for the genius\!&quot;
    else if ( $grade &gt;= 79 ) then
       .. &lt; Program continues &gt;
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The label is a user-defined word with a colon appended. 
      The label is called <span class="docEmphasis">startover.</span> During 
      execution of the program, the label is ignored by the shell, unless the 
      shell is explicitly directed to go to the label.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user is asked for input.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the expression is true, (the user entered a grade 
      less than <span class="docEmphasis">0</span> or greater than
      <span class="docEmphasis">100</span>), the string
      <span class="docEmphasis">Illegal grade</span> is printed, and the
      <span class="docEmphasis">goto</span> starts execution at the named label,
      <span class="docEmphasis">startover.</span> The program continues to 
      execute from that point.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">if</span> expression 
      tested false, so this line is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">goto</span> sends control 
      to line 1 and execution starts after the label, <span class="docEmphasis">
      startover.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>File Testing.</b> The C shell has a built-in set of 
options for testing attributes of files, such as, <span class="docEmphasis">Is 
it a directory, a plain file (not a directory), or a readable file,</span> and 
so forth. For other types of file tests, the UNIX <span class="docEmphasis">test</span> 
command is used. The built-in options for file inquiry are listed in
<a class="docLink" href="#ch09table14">Table 9.14</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table14" class="docTableTitle">Table 9.14. File Testing</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">Test 
    Flag</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    (What It Tests) True If</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–r</span>
    </td>
    <td class="docTableCell" vAlign="top">Current user can read the file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–w</span>
    </td>
    <td class="docTableCell" vAlign="top">Current user can write to the file.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–x</span>
    </td>
    <td class="docTableCell" vAlign="top">Current user can execute the file.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–e</span>
    </td>
    <td class="docTableCell" vAlign="top">File exists. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–o</span>
    </td>
    <td class="docTableCell" vAlign="top">Current user owns the file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–z</span>
    </td>
    <td class="docTableCell" vAlign="top">File is zero length. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–d</span>
    </td>
    <td class="docTableCell" vAlign="top">File is a directory. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–f</span>
    </td>
    <td class="docTableCell" vAlign="top">File is a plain file. </td>
  </tr>
</table>

<h5 id="ch09list88" class="docExampleTitle">Example 9.88 </h5>
<pre>    #!/bin/csh -f
1   if ( <span class="docEmphStrong">–e file</span> ) then
       echo file exists
    endif

2   if ( <span class="docEmphStrong">–d file</span> ) then
        echo file is a directory
    endif

3   if ( <span class="docEmphStrong">! –z file</span> ) then
        echo file is not of zero length
    endif
4   if ( <span class="docEmphStrong">-r file &amp;&amp; -w file )</span> then
        echo file is readable and writeable
    endif
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The statement reads, <span class="docEmphasis">if</span>
      <span class="docEmphasis">the file exists,</span>
      <span class="docEmphasis">then</span> …</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The statement reads, <span class="docEmphasis">if</span>
      <span class="docEmphasis">the file is a directory,</span>
      <span class="docEmphasis">then</span> …</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The statement reads, <span class="docEmphasis">if</span>
      <span class="docEmphasis">the file is not of zero length, then …</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The statement reads, <span class="docEmphasis">if</span>
      <span class="docEmphasis">the file is readable and writeable, then</span> 
      … . The file testing flags cannot be stacked, as in
      <span class="docEmphasis">–rwx</span> file. A single option precedes the 
      filename (e.g.<span class="docEmphasis">, –r file</span>
      <span class="docEmphasis">&amp;&amp; –w file &amp;&amp; –x file).</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
test</span> Command and File Testing.</span> The UNIX <span class="docEmphasis">
test</span> command includes options that were built-in to the C shell, as well 
as a number of options that were not. See <a class="docLink" href="#ch09table15">
Table 9.15</a> for a list of test options. You may need these additional options 
when testing less common attributes of files such as block and special character 
files, or <span class="docEmphasis">setuid</span> files. The
<span class="docEmphasis">test</span> command evaluates an expression and 
returns an exit status of either zero for success or one for failure. When using 
the <span class="docEmphasis">test</span> command in an
<span class="docEmphasis">if</span> conditional statement, curly braces must 
surround the command so that the shell can evaluate the exit status properly.<span id="ENB9-9"><a class="docLink" href="#EN9-9"><sup>[9]</sup></a></span>
</p>

<p class="docText">To use the <span class="docEmphasis">test</span> command in a 
conditional statement, use curly braces as you would for any other command for 
the C shell to evaluate the exit status properly.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table15" class="docTableTitle">Table 9.15. File Testing with the
  <span class="docEmphasis">test</span> Command</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Option</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning—Tests True If</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–b</span>
    </td>
    <td class="docTableCell" vAlign="top">File is a block special file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–c</span>
    </td>
    <td class="docTableCell" vAlign="top">File is a character special file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–d</span>
    </td>
    <td class="docTableCell" vAlign="top">File exists and is a directory file.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–f</span>
    </td>
    <td class="docTableCell" vAlign="top">File exists and is a plain file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–g</span>
    </td>
    <td class="docTableCell" vAlign="top">File has the set-group-ID bit set.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–k</span>
    </td>
    <td class="docTableCell" vAlign="top">File has the sticky bit set. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–p</span>
    </td>
    <td class="docTableCell" vAlign="top">File is a named pipe. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–r</span>
    </td>
    <td class="docTableCell" vAlign="top">Current user can read the file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–s</span>
    </td>
    <td class="docTableCell" vAlign="top">File exists and is not empty. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–t n</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">n</span> is 
    file descriptor for terminal. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–u</span>
    </td>
    <td class="docTableCell" vAlign="top">File has the set-user-ID bit set. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–w</span>
    </td>
    <td class="docTableCell" vAlign="top">Current user can write to the file.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–x</span>
    </td>
    <td class="docTableCell" vAlign="top">Current user can execute the file.
    </td>
  </tr>
</table>

<h5 id="ch09list89" class="docExampleTitle">Example 9.89 </h5>
<pre>1   <span class="docEmphStrong">if { test  –b file }</span> echo file is a block device file

2   <span class="docEmphStrong">if { test –u file }</span>  echo file has the set–user–id bit set
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The statement reads, <span class="docEmphasis">if</span>
      <span class="docEmphasis">the file is a block special file (found in 
      /dev), then</span> …</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The statement reads, <span class="docEmphasis">if the 
      file is a setuid program (set user ID), then …</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Nesting Conditionals.</b> Conditional statements can be 
nested. Every <span class="docEmphasis">if</span> must have a corresponding
<span class="docEmphasis">endif</span> (<span class="docEmphasis">else if</span> 
does not have an <span class="docEmphasis">endif</span>). It is a good idea to 
indent nested statements and line up the <span class="docEmphasis">if</span>s 
and <span class="docEmphasis">endif</span>s so that you can read and test the 
program more effectively.</p>
<h5 id="ch09list90" class="docExampleTitle">Example 9.90 </h5>
<p class="docText">
<img alt="graphics/09prfig02.gif" src="09prfig02.gif" border="0" width="500" height="339"></p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If <span class="docEmphasis">file</span> (after 
      variable substitution) is a file that does not exist (note the
      <span class="docEmphasis">not</span> operator, <span class="docEmphasis">!</span>), 
      the commands under the <span class="docEmphasis">then</span> keyword are 
      executed. An exit value of one means that the program failed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the <span class="docEmphasis">file</span> is a 
      directory, print <span class="docEmphasis">testing is a directory.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the <span class="docEmphasis">file</span> is not a 
      directory, <span class="docEmphasis">else if</span> the
      <span class="docEmphasis">file</span> is a plain file,
      <span class="docEmphasis">then</span> … the next statement is executed, 
      another <span class="docEmphasis">if.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This <span class="docEmphasis">if</span> is nested in 
      the previous <span class="docEmphasis">if.</span> If
      <span class="docEmphasis">file</span> is readable, writeable, and 
      executable, <span class="docEmphasis">then</span> … . This
      <span class="docEmphasis">if</span> has its own <span class="docEmphasis">
      endif</span> and is lined up to indicate where it belongs.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">endif</span> terminates 
      the innermost <span class="docEmphasis">if</span> construct.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">endif</span> terminates 
      the outermost <span class="docEmphasis">if</span> construct.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
switch</span> Command.</span> The <span class="docEmphasis">switch</span> 
command is an alternative to using the <span class="docEmphasis">if–then–else if</span> 
construct. Sometimes the <span class="docEmphasis">switch</span> command makes a 
program clearer to read when handling multiple options. The value in the
<span class="docEmphasis">switch</span> expression is matched against the 
expressions, called <span class="docEmphasis">labels,</span> following the
<span class="docEmphasis">case</span> keyword. The <span class="docEmphasis">
case</span> labels will accept constant expressions and wildcards. The label is 
terminated with a colon. The <span class="docEmphasis">default</span> label is 
optional, but its action is taken if none of the other cases match the
<span class="docEmphasis">switch</span> expression. The
<span class="docEmphasis">breaksw</span> is used to transfer execution to the
<span class="docEmphasis">endsw.</span> If a <span class="docEmphasis">breaksw</span> 
is omitted and a label is matched, any statements below the matched label are 
executed until either a <span class="docEmphasis">breaksw</span> or
<span class="docEmphasis">endsw</span> is reached.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>switch (variable)
case constant:
    commands
    breaksw
case constant:
    commands
    breaksw
endsw
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list91" class="docExampleTitle">Example 9.91 </h5>
<pre>(The Script - colors)
    #!/bin/csh -f
    <span class="docEmphasis">#</span> <span class="docEmphasis">This script is called colors</span>
1   echo -n &quot;Which color do you like? &quot;
2   set color = $&lt;
3   <span class="docEmphStrong">switch (&quot;$color&quot;)</span>
4   <span class="docEmphStrong">case bl*:</span>
       echo I feel $color
       echo The sky is $color
5      <span class="docEmphStrong">breaksw</span>
6   <span class="docEmphStrong">case red:</span>          <span class="docEmphasis"># Is is red or is it yellow?</span>
7   <span class="docEmphStrong">case yellow:</span>
8      echo The sun is sometimes $color.
9      <span class="docEmphStrong">breaksw</span>
10  <span class="docEmphStrong">default:</span>
11     echo $color not one of the categories.
12     <span class="docEmphStrong">breaksw</span>
13  <span class="docEmphStrong">endsw</span>

(The Command Line)
% <span class="docEmphStrong">colors</span>

(The Output)
1   <span class="docEmphasis">Which color do you like?</span> <span class="docEmphBoldItalic">red</span>
8   <span class="docEmphasis">The sun is sometimes red.</span>
1   <span class="docEmphasis">Which color do you like?</span> <span class="docEmphBoldItalic">Doesn't matter</span>
11  <span class="docEmphasis">Doesn't matter is not one of the categories.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user is asked for input.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The input is assigned to the <span class="docEmphasis">
      color</span> variable.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">switch</span> statement 
      evaluates the variable. The variable is enclosed in double quotes in case 
      the user entered more than one word. The <span class="docEmphasis">switch</span> 
      statement evaluates a single word or string of words if the string of 
      words is held together with double quotes.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">case</span> label is
      <span class="docEmphasis">bl*,</span> meaning that the
      <span class="docEmphasis">switch</span> expression will be matched against 
      any set of characters starting with <span class="docEmphasis">b,</span> 
      followed by an <span class="docEmphasis">l.</span> If the user entered
      <span class="docEmphasis">blue, black, blah, blast,</span> etc., the 
      commands under this <span class="docEmphasis">case</span> label would be 
      executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">breaksw</span> transfers 
      program control to the <span class="docEmphasis">endsw</span> statement.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the <span class="docEmphasis">switch</span> 
      statement matches this label, <span class="docEmphasis">red,</span> the 
      program starts executing statements until the <span class="docEmphasis">
      breaksw</span> on line 9 is reached. Line 8 will be executed.
      <span class="docEmphasis">The sun is sometimes red</span> is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If line 4 is not matched, cases
      <span class="docEmphasis">red</span> and <span class="docEmphasis">yellow</span> 
      are tested.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If either label, <span class="docEmphasis">red</span> 
      or <span class="docEmphasis">yellow,</span> is matched, this line is 
      executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">breaksw</span> transfers 
      program control to the <span class="docEmphasis">endsw</span> statement.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The default label is reached if none of the case labels 
      matches the <span class="docEmphasis">switch</span> expression. This is 
      like the <span class="docEmphasis">if/else if/else</span> construct.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This line is printed if the user enters something not 
      matched in any of the above cases.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This <span class="docEmphasis">breaksw</span> is 
      optional since the switch will end here. It is recommended to leave the
      <span class="docEmphasis">breaksw</span> here so that if more cases are 
      added later, it will not be overlooked.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">endsw</span> terminates 
      the <span class="docEmphasis">switch</span> statement.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Nesting Switches.</b> Switches can be nested; i.e., a
<span class="docEmphasis">switch</span> statement and its cases can be contained 
within another <span class="docEmphasis">switch</span> statement as one of its 
cases. There must be an <span class="docEmphasis">endsw</span> to terminate each
<span class="docEmphasis">switch</span> statement. A <span class="docEmphasis">
default</span> case is not required.</p>
<h5 id="ch09list92" class="docExampleTitle">Example 9.92 </h5>
<pre>(The Script: systype)
    #!/bin/csh -f
    <span class="docEmphasis"># This script is called systype</span>
    <span class="docEmphasis"># Program to determine the type of system you are on.</span>
    echo &quot;Your system type is: &quot;
1   set release = ('uname -r')
2   <span class="docEmphStrong">switch ('uname -s')</span>
3   case SunOS:
4      <span class="docEmphStrong">switch (&quot;$release&quot;)</span>
5      case 4.*:
              echo &quot;SunOS $release&quot;
              breaksw
6      case [56].*:
              echo &quot;Solaris $release&quot;
              breaksw
7      <span class="docEmphStrong">endsw</span>
       breaksw
    case HP*:
       echo HP-UX
       breaksw
    case Linux:
       echo Linux
       breaksw
8   <span class="docEmphStrong">endsw</span>

(The Command Line)
% <span class="docEmphStrong">systype</span>
<span class="docEmphasis">Your system type:</span>
<span class="docEmphasis">SunOS 4.1.2</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">release</span> 
      is assigned the output of <span class="docEmphasis">uname -r,</span> the 
      release number for the version of the operating system.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">switch</span> command 
      evaluates the output of <span class="docEmphasis">uname -s,</span> the 
      name of the operating system.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the system type is <span class="docEmphasis">SunOS,</span> 
      the <span class="docEmphasis">case</span> command on line 3 is executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of the variable <span class="docEmphasis">
      release</span> is evaluated in each of the cases for a match.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">case</span> for all 
      release versions 4 are tested.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">case</span> for all 
      release versions 5 and 6 are tested.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The inner <span class="docEmphasis">switch</span> 
      statement is terminated.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The outer <span class="docEmphasis">switch</span> 
      statement is terminated.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec20">9.2.7 Loops</h4>
<p class="docText">Looping constructs allow you to execute the same statements a 
number of times. The C shell supports two types of loops: the
<span class="docEmphasis">foreach</span> loop and the <span class="docEmphasis">
while</span> loop. The <span class="docEmphasis">foreach</span> loop is used 
when you need to execute commands on a list of items, one item at a time, such 
as a list of files or a list of usernames. The <span class="docEmphasis">while</span> 
loop is used when you want to keep executing a command until a certain condition 
is met.</p>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
foreach</span> Loop.</span> The <span class="docEmphasis">foreach</span> command 
is followed by a variable and a wordlist enclosed in parentheses. The first time 
the loop is entered, the first word in the list is assigned to the variable. The 
list is shifted to the left by one and the body of the loop is entered. Each 
command in the loop body is executed until the <span class="docEmphasis">end</span> 
statement is reached. Control returns to the top of the loop. The next word on 
the list is assigned to the variable, the commands after the
<span class="docEmphasis">foreach</span> line are executed, the end is reached, 
control returns to the top of the <span class="docEmphasis">foreach</span> loop, 
the next word in the wordlist is processed, and so on. When the wordlist is 
empty, the loop ends.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>foreach variable (wordlist)
       commands
end
</pre>
    </td>
  </tr>
</table>

<h5 id="ch09list93" class="docExampleTitle">Example 9.93 </h5>
<pre>1   <span class="docEmphStrong">foreach person (bob sam sue fred)</span>
2      mail $person &lt; letter
3   <span class="docEmphStrong">end</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">foreach</span> command is 
      followed by a variable, <span class="docEmphasis">person,</span> and a 
      wordlist enclosed in parentheses. The variable <span class="docEmphasis">
      person</span> will be assigned the value <span class="docEmphasis">bob</span> 
      the first time the <span class="docEmphasis">foreach</span> loop is 
      entered. Once <span class="docEmphasis">bob</span> has been assigned to
      <span class="docEmphasis">person,</span> <span class="docEmphasis">bob</span> 
      is shifted off (to the left) and <span class="docEmphasis">sam</span> is 
      at the beginning of the list. When the <span class="docEmphasis">end</span> 
      statement is reached, control starts at the top of the loop, and
      <span class="docEmphasis">sam</span> is assigned to the variable
      <span class="docEmphasis">person.</span> This procedure continues until
      <span class="docEmphasis">fred</span> is shifted off, at which time the 
      list is empty and the loop is over.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user <span class="docEmphasis">bob</span> will be 
      mailed the contents of the file <span class="docEmphasis">letter</span> 
      the first time through the loop.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When the <span class="docEmphasis">end</span> statement 
      is reached, loop control is returned to the <span class="docEmphasis">
      foreach,</span> and the next element in the list is assigned to the 
      variable <span class="docEmphasis">person.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list94" class="docExampleTitle">Example 9.94 </h5>
<pre>(The Command Line)
% <span class="docEmphStrong">cat maillist</span>
<span class="docEmphasis">tom</span>
<span class="docEmphasis">dick</span>
<span class="docEmphasis">harry</span>
<span class="docEmphasis">dan</span>

(The Script - mailtomaillist)
    #!/bin/csh -f
    <span class="docEmphasis">#</span> <span class="docEmphasis">This script is called mailtomaillist</span>
1   <span class="docEmphStrong">foreach person ('cat maillist')</span>
2      mail $person &lt;&lt;EOF
       Hi $person,
       How are you?  I've missed you. Come on over
       to my place.
       Your pal,
              $LOGNAME@'uname –n'
    EOF
3   <span class="docEmphStrong">end</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Command substitution is performed within the 
      parentheses. The contents of the file <span class="docEmphasis">maillist</span> 
      become the wordlist. Each name in the wordlist <span class="docEmphasis">
      (tom, dick, harry, dan</span>) is assigned, in turn, to the variable
      <span class="docEmphasis">person.</span> After the looping statements are 
      executed and the <span class="docEmphasis">end</span> is reached, control 
      returns to the <span class="docEmphasis">foreach,</span> a name is shifted 
      off from the list, and assigned to the variable <span class="docEmphasis">
      person.</span> The next name in the list replaces the one that was just 
      shifted off. The list therefore decreases in size by one. This process 
      continues until all the names have been shifted off and the list is empty.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">here document</span> is 
      used. Input is sent to the <span class="docEmphasis">mail</span> program 
      from the first <span class="docEmphasis">EOF</span> to the terminating
      <span class="docEmphasis">EOF.</span> (It is important that the last
      <span class="docEmphasis">EOF</span> is against the left-hand margin and 
      has no surrounding whitespace.) Each person in the list will be sent the
      <span class="docEmphasis">mail</span> message.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">end</span> statement for 
      the <span class="docEmphasis">foreach</span> loop marks the end of the 
      block of lines that is executed within this loop. Control returns to the 
      top of the loop.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list95" class="docExampleTitle">Example 9.95 </h5>
<pre>1   <span class="docEmphStrong">foreach file (*.c)</span>
2      cc $file -o $file:r
    <span class="docEmphStrong">end</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The wordlist for the <span class="docEmphasis">foreach</span> 
      command is a list of files in the current directory ending in
      <span class="docEmphasis">.c</span> (i.e., all the C source files).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Each file in the list will be compiled. If, for 
      example, the first file to be processed is <span class="docEmphasis">
      program.c,</span> the shell will expand the <span class="docEmphasis">cc</span> 
      command line to</p>
      <pre>cc program.c -o program
</pre>
      </span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">:r</span> causes the
      <span class="docEmphasis">.c</span> extension to be removed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list96" class="docExampleTitle">Example 9.96 </h5>
<pre>(The Command Line)
1   % <span class="docEmphStrong">runit f1 f2 f3 dir2 dir3</span>

(The Script)
    #!/bin/csh -f
    <span class="docEmphasis"># This script is called runit.</span>
    <span class="docEmphasis"># It loops through a list of files passed as</span>
    <span class="docEmphasis"># arguments.</span>

2   <span class="docEmphStrong">foreach arg  ($*)</span>


3      if ( –e $arg ) then
      ...          <span class="docEmphasis">Program code continues here</span>
       else
       ...         <span class="docEmphasis">Program code continues here</span>
       endif
4   <span class="docEmphStrong">end</span>
5   echo &quot;Program continues here&quot;
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The scriptname is <span class="docEmphasis">runit;</span> 
      the command line arguments are <span class="docEmphasis">f1, f2, f3, dir2,</span> 
      and <span class="docEmphasis">dir3.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">$*</span> variable 
      evaluates to a list of all the arguments (positional parameters) passed in 
      at the command line. The <span class="docEmphasis">foreach</span> command 
      processes, in turn, each of the words in the wordlist,
      <span class="docEmphasis">f1, f2, f3, dir2,</span> and
      <span class="docEmphasis">dir3.</span> Each time through the loop, the 
      first word in the list is assigned to the variable
      <span class="docEmphasis">arg.</span> After a word is assigned, it is 
      shifted off (to the left) and the next word is assigned to
      <span class="docEmphasis">arg,</span> until the list is empty.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The commands in this block are executed for each item 
      in the list until the <span class="docEmphasis">end</span> statement is 
      reached.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">end</span> statement 
      terminates the loop after the wordlist is empty.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After the loop ends, the program continues to run.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
while</span> Loop.</span> The <span class="docEmphasis">while</span> loop 
evaluates an expression, and as long as the expression is true (nonzero), the 
commands below the <span class="docEmphasis">while</span> command will be 
executed until the <span class="docEmphasis">end</span> statement is reached. 
Control will then return to the <span class="docEmphasis">while</span> 
expression, the expression will be evaluated, and if still true, the commands 
will be executed again, and so on. When the <span class="docEmphasis">while</span> 
expression is false, the loop ends and control starts after the
<span class="docEmphasis">end</span> statement.</p>
<h5 id="ch09list97" class="docExampleTitle">Example 9.97 </h5>
<pre>(The Script)
    #!/bin/csh -f
1   <span class="docEmphStrong">set num = 0</span>
2   <span class="docEmphStrong">while ($num &lt; 10)</span>
3      echo $num
4      <span class="docEmphStrong">@ num++</span>        <span class="docEmphasis"># See arithmetic.</span>
5   <span class="docEmphStrong">end</span>
6   echo &quot;Program continues here&quot;
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">num</span> is 
      set to an initial value of zero.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">while</span> loop is 
      entered and the expression is tested. If the value of
      <span class="docEmphasis">num</span> is less than
      <span class="docEmphasis">10,</span> the expression is true, and lines 3 
      and 4 are executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of <span class="docEmphasis">num</span> is 
      displayed each time through the loop.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of the variable <span class="docEmphasis">num</span> 
      is incremented. If this statement were omitted, the loop would continue 
      forever.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">end</span> statement 
      terminates the block of executable statements. When this line is reached, 
      control is returned to the top of the <span class="docEmphasis">while</span> 
      loop and the expression is evaluated again. This continues until the
      <span class="docEmphasis">while</span> expression is false (i.e., when
      <span class="docEmphasis">$num</span> is <span class="docEmphasis">10</span>).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Program execution continues here after the loop 
      terminates.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list98" class="docExampleTitle">Example 9.98 </h5>
<pre>(The Script)
    #!/bin/csh -f
1   echo –n  &quot;Who wrote \&quot;War and Peace\&quot;?&quot;
2   set answer = $&lt;
3   <span class="docEmphStrong">while (&quot;$answer&quot; != &quot;Tolstoy&quot;)</span>
       echo &quot;Wrong, try again\!&quot;
4      <span class="docEmphStrong">set answer = $&lt;</span>
5   <span class="docEmphStrong">end</span>
6   echo Yeah!
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user is asked for input.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">answer</span> is 
      assigned whatever the user inputs.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">while</span> command 
      evaluates the expression. If the value of <span class="docEmphasis">
      $answer</span> is not equal to the string <span class="docEmphasis">
      Tolstoy</span> exactly, the message <span class="docEmphasis">Wrong, try 
      again!</span> is printed and the program waits for user input.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">answer</span> is 
      assigned the new input. This line is important. If the value of the 
      variable <span class="docEmphasis">answer</span> never changes, the loop 
      expression will never become false, thus causing the loop to spin 
      infinitely.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">end</span> statement 
      terminates the block of code inside the <span class="docEmphasis">while</span> 
      loop.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the user enters <span class="docEmphasis">Tolstoy,</span> 
      the loop expression tests false, and control goes to this line.
      <span class="docEmphasis">Yeah!</span> is printed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The repeat Command.</b> The <span class="docEmphasis">
repeat</span> command takes two arguments, a number and a command. The
<span class="docEmphasis">command</span> is executed <span class="docEmphasis">
that</span> number of times.</p>
<h5 id="ch09list99" class="docExampleTitle">Example 9.99 </h5>
<pre>% <span class="docEmphStrong">repeat 3 echo hello</span>
<span class="docEmphasis">hello</span>
<span class="docEmphasis">hello</span>
<span class="docEmphasis">hello</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The <span class="docEmphasis">echo</span> command is 
    executed three times.</td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec21">9.2.8 Looping Commands</h4>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
shift</span> Command.</span> The <span class="docEmphasis">shift</span> command, 
without an array name as its argument, shifts the <span class="docEmphasis">argv</span> 
array by one word from the left, thereby decreasing the size of the
<span class="docEmphasis">argv</span> array by one. Once shifted off, the array 
element is lost.</p>
<h5 id="ch09list10" class="docExampleTitle">Example 9.100 </h5>
<pre>(The Script)
    #!/bin/csh -f
    <span class="docEmphasis"># Script is called loop.args</span>
1   <span class="docEmphStrong">while ($#argv)</span>
2      echo $argv
3      <span class="docEmphStrong">shift</span>
4   end

(The Command Line)
5   % <span class="docEmphStrong">loop.args a b c d e</span>
    <span class="docEmphasis">a b c d e</span>
    <span class="docEmphasis">b c d e</span>
    <span class="docEmphasis">c d e</span>
    <span class="docEmphasis">d e</span>
    <span class="docEmphasis">e</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">$#argv</span> evaluates to 
      the number of command line arguments. If there are five command line 
      arguments, <span class="docEmphasis">a, b, c, d,</span> and
      <span class="docEmphasis">e,</span> the value of <span class="docEmphasis">
      $#argv</span> is <span class="docEmphasis">5</span> the first time in the 
      loop. The expression is tested and yields <span class="docEmphasis">5,</span> 
      true.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The command line arguments are printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">argv</span> array is 
      shifted one to the left. There are only four arguments left, starting with
      <span class="docEmphasis">b.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The end of the loop is reached, and control goes back 
      to the top of the loop. The expression is reevaluated. This time,
      <span class="docEmphasis">$#argv</span> is <span class="docEmphasis">4.</span> 
      The arguments are printed, and the array is shifted again. This goes on 
      until all of the arguments are shifted off. At that time, when the 
      expression is evaluated, it will be 0, which is false, and the loop exits.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The arguments <span class="docEmphasis">a, b, c, d,</span> 
      and <span class="docEmphasis">e</span> are passed to the script via the
      <span class="docEmphasis">argv</span> array.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
break</span> Command.</span> The <span class="docEmphasis">break</span> command 
is used to break out of a loop so that control starts after the
<span class="docEmphasis">end</span> statement. It breaks out of the innermost 
loop. Execution continues after the <span class="docEmphasis">end</span> 
statement of the loop.</p>
<h5 id="ch09list10" class="docExampleTitle">Example 9.101 </h5>
<p class="docText">
<img alt="graphics/09prfig03.gif" src="09prfig03.gif" border="0" width="500" height="154"></p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user is asked for input.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The input from the user is assigned to the variable
      <span class="docEmphasis">answer</span> (answer: Mickey Mantle).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">while</span> expression 
      reads: <span class="docEmphasis">While the value of answer does not begin 
      with a big M or little m, followed by zero or more of any character, enter 
      the loop.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user gets to try again. The variable is reset.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the variable <span class="docEmphasis">answer</span> 
      matches <span class="docEmphasis">M</span> or <span class="docEmphasis">m,</span>
      <span class="docEmphasis">break</span> out of the loop. Go to the
      <span class="docEmphasis">end</span> statement and start executing 
      statements at line 7.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">end</span> statement 
      terminates this block of statements after the loop.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After the loop exits, control starts here and this line 
      is executed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list10" class="docExampleTitle">Example 9.102 </h5>
<pre>    #!/bin/csh -f
    # <span class="docEmphasis">This script is called database</span>
1   <span class="docEmphStrong">while (1)</span>
       echo &quot;Select a menu item&quot;
2      cat &lt;&lt; EOF
       1) Append
       2) Delete
       3) Update
       4) Exit
    EOF
3      set choice = $&lt;
4      switch ($choice)
       case 1:
              echo &quot;Appending&quot;
5             <span class="docEmphStrong">break</span>           <span class="docEmphasis"># Break out of loop; not a breaksw</span>
       case 2:
              echo &quot;Deleting&quot;
              <span class="docEmphStrong">break</span>
       case 3:
              echo &quot;Updating&quot;
              <span class="docEmphStrong">break</span>
       case 4:
              exit 0
       default:
6             echo &quot;Invalid choice. Try again.
      endsw
7   <span class="docEmphStrong">end</span>
8   echo &quot;Program continues here&quot;
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This is called an <span class="docEmphasis">infinite</span> 
      loop. The expression always evaluates to one, which is true.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This is a <span class="docEmphasis">here document.</span> 
      A menu is printed to the screen.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user selects a menu item.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">switch</span> command 
      evaluates the variable.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the user selects a valid choice, between 1 and 4, 
      the command after the appropriate matching <span class="docEmphasis">case</span> 
      label is executed. The <span class="docEmphasis">break</span> statement 
      causes the program to break out of the loop and start execution on line 8. 
      Don't confuse this with the <span class="docEmphasis">breaksw</span> 
      statement, which merely exits the switch at <span class="docEmphasis">
      endsw.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the <span class="docEmphasis">default</span>
      <span class="docEmphasis">case</span> is matched, that is, none of the 
      cases are matched, program control goes to the end of the loop and then 
      starts again at the top of the <span class="docEmphasis">while.</span> 
      Since the expression after the <span class="docEmphasis">while</span> 
      always evaluates true, the body of the loop is entered and the menu is 
      displayed again.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">End of the <span class="docEmphasis">while</span> loop 
      statements.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After the loop is exited, this line is executed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Nested Loops and the repeat Command.</b> Rather than a
<span class="docEmphasis">goto,</span> the <span class="docEmphasis">repeat</span> 
command can be used to break out of nested loops. The <span class="docEmphasis">
repeat</span> command will not do this with the <span class="docEmphasis">
continue</span> command.</p>
<h5 id="ch09list10" class="docExampleTitle">Example 9.103 </h5>
<p class="docText">
<img alt="graphics/09prfig04.gif" src="09prfig04.gif" border="0" width="500" height="210"></p>
<pre>(The Output)
<span class="docEmphasis">Hello, in 1st loop</span>
<span class="docEmphasis">In 2nd loop</span>
<span class="docEmphasis">In 3rd loop</span>
<span class="docEmphasis">Out of all loops</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Start the first <span class="docEmphasis">while</span> 
      loop.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Enter the second nested <span class="docEmphasis">while</span> 
      loop.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Enter the third nested <span class="docEmphasis">while</span> 
      loop.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">repeat</span> command 
      will cause <span class="docEmphasis">break</span> to be executed three 
      times; it will break first out of this innermost loop, then the second 
      loop, and last, the first loop. Control continues at line 5.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Program control starts here after loop terminates.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
continue</span> Command.</span> The <span class="docEmphasis">continue</span> 
statement starts execution at the top of the innermost loop.</p>
<h5 id="ch09list10" class="docExampleTitle">Example 9.104 </h5>
<p class="docText">
<img alt="graphics/09prfig05.gif" src="09prfig05.gif" border="0" width="500" height="113"></p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">done</span> is 
      assigned zero.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The expression is tested. It reads:
      <span class="docEmphasis">while (! 0).</span> <span class="docEmphasis">
      Not 0</span> is evaluated as true (logical <span class="docEmphasis">not</span>).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the user entered <span class="docEmphasis">No,</span>
      <span class="docEmphasis">no,</span> or <span class="docEmphasis">nope</span> 
      (anything starting with <span class="docEmphasis">N</span> or
      <span class="docEmphasis">n</span>), the expression is true and the
      <span class="docEmphasis">continue</span> statement returns control to the 
      top of the loop where the expression is reevaluated.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If <span class="docEmphasis">answer</span> does not 
      start with <span class="docEmphasis">N</span> or <span class="docEmphasis">
      n,</span> the variable <span class="docEmphasis">done</span> is reset to 
      one. When the end of the loop is reached, control starts at the top of the 
      loop and the expression is tested. It reads: <span class="docEmphasis">
      while (! 1).</span> <span class="docEmphasis">Not 1</span> is false. The 
      loop exits.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This marks the end of the <span class="docEmphasis">
      while</span> loop.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch09list10" class="docExampleTitle">Example 9.105 </h5>
<p class="docText">
<img alt="graphics/09prfig06.gif" src="09prfig06.gif" border="0" width="500" height="153"></p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A file check is done. If the file
      <span class="docEmphasis">memo</span> does not exist, the user is sent an 
      error message and the program exits with a status of 1.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The loop will assign each person in the list to the 
      variable <span class="docEmphasis">person,</span> in turn, and then shift 
      off the name in the list to process the next one.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the person's name is <span class="docEmphasis">Karl</span> 
      or <span class="docEmphasis">karl,</span> the <span class="docEmphasis">
      continue</span> statement starts execution at the top of the
      <span class="docEmphasis">foreach</span> loop (<span class="docEmphasis">Karl</span> 
      is not sent the memo because his name was shifted off after being assigned 
      to <span class="docEmphasis">person</span>). The next name in the list is 
      assigned to <span class="docEmphasis">person.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Everyone on the mailing list is sent the memo, except
      <span class="docEmphasis">karl.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec22">9.2.9 Interrupt Handling</h4>
<p class="docText">If a script is interrupted with the Interrupt key, it 
terminates and control is returned to the C shell, that is, you get your prompt 
back. The <span class="docEmphasis">onintr</span> command is used to process 
interrupts within a script. It allows you to ignore the interrupt (^C) or 
transfer control to another part of the program before exiting. Normally, the
<span class="docEmphasis">interrupt</span> command is used with a label to 
&quot;clean up&quot; before exiting. The <span class="docEmphasis">onintr</span> command 
without arguments restores the default action.</p>
<h5 id="ch09list10" class="docExampleTitle">Example 9.106 </h5>
<pre>(The Script)
1   <span class="docEmphStrong">onintr  finish</span>
2      &lt; Script continues here &gt;
3   <span class="docEmphStrong">finish:</span>
4   <span class="docEmphStrong">onintr –</span>        <span class="docEmphasis"># Disable further interrupts</span>
5   echo Cleaning temp files
6   rm $$tmp* ; exit 1
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">onintr</span> command is 
      followed by a label name. The label <span class="docEmphasis">finish</span> 
      is a user-defined label; control will be transferred to the
      <span class="docEmphasis">finish</span> label if an interrupt occurs. 
      Usually this line is at the beginning of the script. It is not in effect 
      until it is executed in the script.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The rest of the script lines are executed unless ^C 
      (Interrupt key) is pressed while the program is in execution, at which 
      time, control is transferred to the label.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This is the label; when the interrupt comes in, the 
      program will continue to run, executing the statements below the label.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">To shield this part of the script from interrupts, the
      <span class="docEmphasis">onintr –</span> is used. If Control-C is entered 
      now, it will be ignored.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This line is echoed to the screen.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All <span class="docEmphasis">tmp</span> files are 
      removed. The <span class="docEmphasis">tmp</span> files are prefixed with 
      the shell's PID (<span class="docEmphasis">$$</span>) number and suffixed 
      with any number of characters. The program exits with a status of 1.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec23">9.2.10 <span class="docEmphasis">setuid</span> 
Scripts</h4>
<p class="docText">Whoever runs a <span class="docEmphasis">setuid</span> 
program temporarily (as long as he or she is running the
<span class="docEmphasis">setuid</span> program) becomes the owner of that 
program and has the same permissions as the owner. The <span class="docEmphasis">
passwd</span> program is a good example of a <span class="docEmphasis">setuid</span> 
program. When you change your password, you temporarily become
<span class="docEmphasis">root,</span> but only during the execution of the
<span class="docEmphasis">passwd</span> program. That is why you are able to 
change your password in the <span class="docEmphasis">/etc/passwd</span> (or
<span class="docEmphasis">/etc/shadow</span>) file, which normally is off-limits 
to regular users.</p>
<p class="docText">Shell programs can be written as <span class="docEmphasis">
setuid</span> programs. You might want to do this if you have a script that is 
accessing a file containing information that should not be accessible to regular 
users, such as salary or personal information. If the script is a
<span class="docEmphasis">setuid</span> script, the person running the script 
can have access to the data, but it is still restricted from others. A
<span class="docEmphasis">setuid</span> program requires the following steps:</p>
<span style="FONT-WEIGHT: bold">
<ol class="docList">
  <li><span style="FONT-WEIGHT: normal" value="1">
  <p class="docList">In the script, the first line is</p>
  <pre>    #!/bin/csh –feb

The –feb options:
    –f   fast start up; don't execute .cshrc
    –e  abort immediately if interrupted
    –b  this is a setuid script
</pre>
  </span></li>
  <li><span style="FONT-WEIGHT: normal" value="2">
  <p class="docList">Next, change the permissions on the script so that it can 
  run as a <span class="docEmphasis">setuid</span> program:</p>
  <pre>% <span class="docEmphStrong">chmod 4755 script_name</span>
            or
% <span class="docEmphStrong">chmod +srx script_name</span>
% <span class="docEmphStrong">ls –l</span>
<span class="docEmphasis">–rwsr–xr–x   2 ellie         512 Oct 10 17:18 script_name</span>
</pre>
  </span></li>
</ol>
</span>
<h4 class="docSection2Title" id="ch09lev2sec24">9.2.11 Storing Scripts</h4>
<p class="docText">After creating successful scripts, it is customary to collect 
them in a common script directory and change your path so that the scripts can 
be executed from any location.</p>
<h5 id="ch09list10" class="docExampleTitle">Example 9.107 </h5>
<pre>1   % <span class="docEmphStrong">mkdir ~/bin</span>
2   % <span class="docEmphStrong">mv myscript ~/bin</span>
3   % <span class="docEmphStrong">vi .login</span>

    In .login reset the path to add <span class="docEmphasis">~/bin.</span>
4      <span class="docEmphStrong">set path = ( /usr/ucb /usr /usr/etc ~/bin . )</span>
5   (At command line)
    % <span class="docEmphStrong">source .login</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Make a directory under your home directory called
      <span class="docEmphasis">bin,</span> or any other name you choose.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Move any error-free scripts into the
      <span class="docEmphasis">bin</span> directory. Putting buggy scripts here 
      will just cause problems.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Go into your <span class="docEmphasis">.login</span> 
      file and reset the path.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The new path contains the directory
      <span class="docEmphasis">~/bin,</span> which is where the shell will look 
      for executable programs. Since it is near the end of the path, a system 
      program that may have the same name as one of your scripts will be 
      executed first.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">By sourcing the <span class="docEmphasis">.login,</span> 
      the <span class="docEmphasis">path</span> changes are affected; it is not 
      necessary to log out and back in again.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch09lev2sec25">9.2.12 Built-In Commands</h4>
<p class="docText">Rather than residing on disk like UNIX commands, built-in 
commands are part of the C shell's internal code and are executed from within 
the shell. If a built-in command occurs as any component of a pipeline except 
the last, it is executed in a subshell. See
<a class="docLink" href="#ch09table16">Table 9.16</a> for a list of built-in 
commands.</p>
<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch09table16" class="docTableTitle">Table 9.16. Built-In Commands and Their Meanings</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Built-In Command</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">:</span>
    </td>
    <td class="docTableCell" vAlign="top">Interpret null command, but perform no 
    action. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">alias</span>
    </td>
    <td class="docTableCell" vAlign="top">A nickname for a command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">bg [%job]</span>
    </td>
    <td class="docTableCell" vAlign="top">Run the current or specified jobs in 
    the background. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">break</span>
    </td>
    <td class="docTableCell" vAlign="top">Break out of the innermost
    <span class="docEmphasis">foreach</span> or <span class="docEmphasis">while</span> 
    loop. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">breaksw</span>
    </td>
    <td class="docTableCell" vAlign="top">Break from a switch, resuming after 
    the <span class="docEmphasis">endsw.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">case label:</span>
    </td>
    <td class="docTableCell" vAlign="top">A label in a switch statement. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">cd [dir]</span>
    <span class="docEmphasis">chdir [dir]</span> </td>
    <td class="docTableCell" vAlign="top">Change the shell's working directory 
    to <span class="docEmphasis">dir.</span> If no argument is given, change to 
    the home directory of the user. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">continue</span>
    </td>
    <td class="docTableCell" vAlign="top">Continue execution of the nearest 
    enclosing <span class="docEmphasis">while</span> or
    <span class="docEmphasis">foreach.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">default:</span>
    </td>
    <td class="docTableCell" vAlign="top">Label the <span class="docEmphasis">
    default</span> case in a switch statement. The <span class="docEmphasis">
    default</span> should come after all case labels. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">dirs [–l]</span>
    </td>
    <td class="docTableCell" vAlign="top">Print the directory stack, most recent 
    to the left; the first directory shown is the current directory. With the
    <span class="docEmphasis">–l</span> argument, produce an unabbreviated 
    printout; use of the ~ notation is suppressed. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">echo [–n] 
    list</span> </td>
    <td class="docTableCell" vAlign="top">Write the words in
    <span class="docEmphasis">list</span> to the shell's standard output, 
    separated by space characters. The output is terminated with a newline 
    unless the <span class="docEmphasis">–n</span> option is used. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">eval command</span>
    </td>
    <td class="docTableCell" vAlign="top">Run <span class="docEmphasis">command</span> 
    as standard input to the shell and execute the resulting commands. This is 
    usually used to execute commands generated as the result of command or 
    variable substitution, since parsing occurs before these substitutions 
    (e.g., <span class="docEmphasis">eval 'tset -s options'</span>). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exec command</span>
    </td>
    <td class="docTableCell" vAlign="top">Execute <span class="docEmphasis">
    command</span> in place of the current shell, which terminates. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exit [(expr)]</span>
    </td>
    <td class="docTableCell" vAlign="top">Exit the shell, either with the value 
    of the status variable or with the value specified by
    <span class="docEmphasis">expr.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">fg [% job]</span>
    </td>
    <td class="docTableCell" vAlign="top">Bring the current or specified
    <span class="docEmphasis">job</span> into the foreground. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">foreach var 
    (wordlist)</span> </td>
    <td class="docTableCell" vAlign="top">See &quot;The foreach Loop&quot; on page 412.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">glob 
    wordlist</span> </td>
    <td class="docTableCell" vAlign="top">Perform filename expansion on 
    wordlist. Like <span class="docEmphasis">echo,</span> but no
    <span class="docEmphasis">escapes</span> (\) are recognized. Words are 
    delimited by null characters in the output. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">goto label</span>
    </td>
    <td class="docTableCell" vAlign="top">See &quot;The goto&quot; on page 405. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">hashstat</span>
    </td>
    <td class="docTableCell" vAlign="top">Print a statistics line indicating how 
    effective the internal hash table has been at locating commands (and 
    avoiding <span class="docEmphasis">execs</span>). An
    <span class="docEmphasis">exec</span> is attempted for each component of the 
    path where the hash function indicates a possible hit, and in each component 
    that does not begin with a backslash. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">history 
    [–hr] [n]</span> </td>
    <td class="docTableCell" vAlign="top">Display the <span class="docEmphasis">
    history</span> list; if <span class="docEmphasis">n</span> is given, display 
    only the <span class="docEmphasis">n</span> most recent events. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–r</span>
    </td>
    <td class="docTableCell" vAlign="top">Reverse the order of the printout to 
    be most recent first rather than oldest first. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–h</span>
    </td>
    <td class="docTableCell" vAlign="top">Display the history list without 
    leading numbers. This is used to produce files suitable for sourcing using 
    the <span class="docEmphasis">–h</span> option to source. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">if (expr)</span>
    </td>
    <td class="docTableCell" vAlign="top">See &quot;<a class="docLink" href="#ch09lev2sec19">Flow 
    Control and Conditional Constructs</a>&quot;. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">else if 
    (expr2) then</span> </td>
    <td class="docTableCell" vAlign="top">See &quot;<a class="docLink" href="#ch09lev2sec19">Flow 
    Control and Conditional Constructs</a>&quot;. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">jobs [–l]</span>
    </td>
    <td class="docTableCell" vAlign="top">List the active
    <span class="docEmphasis">jobs</span> under job control. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–l</span>
    </td>
    <td class="docTableCell" vAlign="top">List IDs in addition to the normal 
    information. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">kill [–sig] 
    [pid]</span> <span class="docEmphasis">[%job] …</span>
    <span class="docEmphasis">kill –l</span> </td>
    <td class="docTableCell" vAlign="top">Send the <span class="docEmphasis">
    TERM</span> (terminate) signal, by default or by the signal specified, to 
    the specified ID, the job indicated, or the current job. Signals are given 
    either by number or name. There is no default. Typing
    <span class="docEmphasis">kill</span> does not send a signal to the current 
    job. If the signal being sent is <span class="docEmphasis">TERM</span> 
    (terminate) or HUP (hangup), then the job or process is sent a CONT 
    (continue) signal as well. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–l</span>
    </td>
    <td class="docTableCell" vAlign="top">List the signal names that can be 
    sent. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">limit [–h] 
    [resource</span> <span class="docEmphasis">max–use]]</span> </td>
    <td class="docTableCell" vAlign="top">Limit the consumption by the current 
    process or any process it spawns, each not to exceed
    <span class="docEmphasis">max–use</span> on the specified
    <span class="docEmphasis">resource.</span> If <span class="docEmphasis">
    max–use</span> is omitted, print the current <span class="docEmphasis">
    limit;</span> if <span class="docEmphasis">resource</span> is omitted, 
    display all <span class="docEmphasis">limits.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–h</span>
    </td>
    <td class="docTableCell" vAlign="top">Use hard limits instead of the current 
    limits. Hard limits impose a ceiling on the values of the current limits. 
    Only the superuser may raise the hard limits. Resource is one of:
    <span class="docEmphasis">cputime,</span> maximum CPU seconds per process;
    <span class="docEmphasis">filesize,</span> largest single file allowed;
    <span class="docEmphasis">datasize,</span> maximum data size (including 
    stack) for the process; <span class="docEmphasis">stacksize,</span> maximum 
    stack size for the process; <span class="docEmphasis">coredump,</span> 
    maximum size of a core dump; and <span class="docEmphasis">descriptors,</span> 
    maximum value for a file descriptor. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">login 
    [username|–p]</span> </td>
    <td class="docTableCell" vAlign="top">Terminate a <span class="docEmphasis">
    login</span> shell and invoke <span class="docEmphasis">login(1).</span> The 
    .<span class="docEmphasis">logout</span> file is not processed. If
    <span class="docEmphasis">username</span> is omitted,
    <span class="docEmphasis">login</span> prompts for the name of a user. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–p</span>
    </td>
    <td class="docTableCell" vAlign="top">Preserve the current environment 
    (variables). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">logout</span>
    </td>
    <td class="docTableCell" vAlign="top">Terminate a <span class="docEmphasis">
    login</span> shell. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">nice [+n|–n]</span>
    <span class="docEmphasis">command]</span> </td>
    <td class="docTableCell" vAlign="top">Increment the process priority value 
    for the shell or <span class="docEmphasis">command</span> by
    <span class="docEmphasis">n.</span> The higher the priority value, the lower 
    the priority of a process and the slower it runs. If
    <span class="docEmphasis">command</span> is omitted,
    <span class="docEmphasis">nice</span> increments the value for the current 
    shell. If no increment is specified, <span class="docEmphasis">nice</span> 
    sets the <span class="docEmphasis">nice</span> value to 4. The range of
    <span class="docEmphasis">nice</span> values is from –20 through 19. Values 
    of <span class="docEmphasis">n</span> outside this range set the value to 
    the lower or higher boundary, respectively. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">+n</span>
    </td>
    <td class="docTableCell" vAlign="top">Increment the process priority value 
    by <span class="docEmphasis">n.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–n</span>
    </td>
    <td class="docTableCell" vAlign="top">Decrement by <span class="docEmphasis">
    n.</span> This argument can be used only by the superuser. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">nohup 
    [command]</span> </td>
    <td class="docTableCell" vAlign="top">Run <span class="docEmphasis">command</span> 
    with <span class="docEmphasis">HUP</span>s (hangups) ignored. With no 
    arguments, ignore <span class="docEmphasis">HUP</span>s throughout the 
    remainder of a script. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">notify 
    [%job]</span> </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">Notify</span> 
    the user asynchronously when the status of the current or of a specified
    <span class="docEmphasis">job</span> changes. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">onintr [– | 
    label]</span> </td>
    <td class="docTableCell" vAlign="top">Control the action of the shell on 
    interrupts. With no arguments, <span class="docEmphasis">onintr</span> 
    restores the default action of the shell on interrupts. (The shell 
    terminates shell scripts and returns to the terminal command input level.) 
    With the minus sign argument, the shell ignores all interrupts. With a
    <span class="docEmphasis">label</span> argument, the shell executes a
    <span class="docEmphasis">goto</span> <span class="docEmphasis">label</span> 
    when an interrupt is received or a child process terminates because it was 
    interrupted. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">popd [+n]</span>
    </td>
    <td class="docTableCell" vAlign="top">Pop the directory stack and
    <span class="docEmphasis">cd</span> to the new top directory. The elements 
    of the directory stack are numbered from zero, starting at the top. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">+n</span>
    </td>
    <td class="docTableCell" vAlign="top">Discard the <span class="docEmphasis">
    n</span>th entry in the stack. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">pushd [+n | 
    dir]</span> </td>
    <td class="docTableCell" vAlign="top">Push a directory onto the directory 
    stack. With no arguments, exchange the top two elements. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">+n</span>
    </td>
    <td class="docTableCell" vAlign="top">Rotate the <span class="docEmphasis">n</span>th 
    entry to the top of the stack and <span class="docEmphasis">cd</span> to it.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">dir</span>
    </td>
    <td class="docTableCell" vAlign="top">Push the current working directory 
    onto the stack and change to <span class="docEmphasis">dir.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">rehash</span>
    </td>
    <td class="docTableCell" vAlign="top">Recompute the internal hash table of 
    the contents of directories listed in the <span class="docEmphasis">path</span> 
    variable to account for new commands added. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">repeat count 
    command</span> </td>
    <td class="docTableCell" vAlign="top">Repeat command
    <span class="docEmphasis">count</span> times. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">set [var [= 
    value]]</span> </td>
    <td class="docTableCell" vAlign="top">See &quot;<a class="docLink" href="_chapter 7.htm#ch07lev1sec1">Variables</a>&quot;.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">setenv [VAR 
    [word]]</span> </td>
    <td class="docTableCell" vAlign="top">See &quot;<a class="docLink" href="_chapter 7.htm#ch07lev1sec1">Variables</a>&quot;. 
    The most commonly used environment variables, <span class="docEmphasis">
    USER, TERM,</span> and <span class="docEmphasis">PATH,</span> are 
    automatically imported to and exported from the <span class="docEmphasis">
    csh</span> variables, <span class="docEmphasis">user,</span>
    <span class="docEmphasis">term,</span> and <span class="docEmphasis">path;</span> 
    there is no need to use <span class="docEmphasis">setenv</span> for these. 
    In addition, the shell sets the <span class="docEmphasis">PWD</span> 
    environment variable from the <span class="docEmphasis">csh</span> variable
    <span class="docEmphasis">cwd</span> whenever the latter changes. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">shift 
    [variable]</span> </td>
    <td class="docTableCell" vAlign="top">The components of
    <span class="docEmphasis">argv,</span> or <span class="docEmphasis">
    variable,</span> if supplied, are shifted to the left, discarding the first 
    component. It is an error for <span class="docEmphasis">variable</span> not 
    to be set, or to have a null value. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">source [–h] 
    name</span> </td>
    <td class="docTableCell" vAlign="top" rowSpan="2">Read commands from
    <span class="docEmphasis">name. Source</span> commands may be nested, but if 
    they are nested too deeply, the shell may run out of file descriptors. An 
    error in a sourced file at any level terminates all nested
    <span class="docEmphasis">source</span> commands. Used commonly to reexecute 
    the .<span class="docEmphasis">login</span> or .<span class="docEmphasis">cshrc</span> 
    files to ensure variable settings are handled within the current shell, 
    i.e., shell does not create a child shell (fork). Place commands from the 
    filename on the history list without executing them. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–h</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">stop [%job] 
    …</span> </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">Stop</span> 
    the current or specified background <span class="docEmphasis">job.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">suspend</span>
    </td>
    <td class="docTableCell" vAlign="top">Stop the shell in its tracks, much as 
    if it had been sent a stop signal with ^Z. This is most often used to stop 
    shells started by <span class="docEmphasis">su.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">switch 
    (string)</span> </td>
    <td class="docTableCell" vAlign="top">See &quot;The switch Command&quot; on page 409.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">time 
    [command]</span> </td>
    <td class="docTableCell" vAlign="top">With no argument, print a summary of
    <span class="docEmphasis">time</span> used by this C shell and its children. 
    With an optional <span class="docEmphasis">command,</span> execute
    <span class="docEmphasis">command</span> and print a summary of the
    <span class="docEmphasis">time</span> it uses. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">umask 
    [value]</span> </td>
    <td class="docTableCell" vAlign="top">Display the file creation mask. With
    <span class="docEmphasis">value,</span> set the file creation mask.
    <span class="docEmphasis">Value,</span> given in octal, is
    <span class="docEmphasis">xor</span>ed with the permissions of 666 for files 
    and 777 for directories to arrive at the permissions for new files. 
    Permissions cannot be added via <span class="docEmphasis">umask.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">unalias 
    pattern</span> </td>
    <td class="docTableCell" vAlign="top">Discard aliases that match (filename 
    substitution) <span class="docEmphasis">pattern.</span> All aliases are 
    removed by <span class="docEmphasis">unalias.</span>* </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">unhash</span>
    </td>
    <td class="docTableCell" vAlign="top">Disable the internal hash table. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">unlimit [–h] 
    [resource]</span> </td>
    <td class="docTableCell" vAlign="top">Remove a limitation on
    <span class="docEmphasis">resource.</span> If no <span class="docEmphasis">
    resource</span> is specified, all resource limitations are removed. See the 
    description of the <span class="docEmphasis">limit</span> command for the 
    list of <span class="docEmphasis">resource</span> names. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">–h</span>
    </td>
    <td class="docTableCell" vAlign="top">Remove corresponding hard limits. Only 
    the superuser may do this. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">unset 
    pattern</span> </td>
    <td class="docTableCell" vAlign="top">Remove variables whose names match 
    (filename substitution) <span class="docEmphasis">pattern.</span> All 
    variables are removed by <span class="docEmphasis">'unset *';</span> this 
    has noticeably distasteful side effects. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">unsetenv 
    variable</span> </td>
    <td class="docTableCell" vAlign="top">Remove <span class="docEmphasis">
    variable</span> from the environment. Pattern matching, as with
    <span class="docEmphasis">unset,</span> is not performed. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">wait</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">Wait</span> 
    for background jobs to finish (or for an interrupt) before prompting. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">while (expr)</span>
    </td>
    <td class="docTableCell" vAlign="top">See &quot;The while Loop&quot; on page 415. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">%[job] [&amp;]</span>
    </td>
    <td class="docTableCell" vAlign="top">Bring the current or indicated
    <span class="docEmphasis">job</span> to the foreground. With the ampersand, 
    continue running <span class="docEmphasis">job</span> in the background.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@ [var =expr]</span>
    <span class="docEmphasis">@ [var[n] =expr]</span> </td>
    <td class="docTableCell" vAlign="top">With no arguments, display the values 
    for all shell variables. With arguments, the variable
    <span class="docEmphasis">var,</span> or the <span class="docEmphasis">n</span>th 
    word in the value of <span class="docEmphasis">var,</span> is set to the 
    value that <span class="docEmphasis">expr</span> evaluates to. </td>
  </tr>
</table>
<h3 class="docSection1Title" id="ch09lev1sec3">C SHELL LAB EXERCISES</h3>
<h4 class="docSection2Title" id="ch09lev2sec26">Lab 19: Getting Started</h4>
<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">What does the <span class="docEmphasis">init</span> 
    process do?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">What is the function of the <span class="docEmphasis">
    login</span> process?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">How do you know what shell you are using?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>4:</b></td>
    <td>
    <p class="docText">How can you change your login shell?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>5:</b></td>
    <td>
    <p class="docText">Explain the difference between the
    <span class="docEmphasis">.cshrc</span> and .<span class="docEmphasis">login</span> 
    files. Which one is executed first?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>6:</b></td>
    <td>
    <p class="docText">Edit your <span class="docEmphasis">.cshrc</span> file as 
    follows:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Create three of your own aliases.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Reset your prompt.</span></li>
    </ol>
    </span>
    <p class="docText">Set the following variables and put a comment after each 
    variable explaining what it does:</p>
    <pre>noclobber    <span class="docEmphasis"># Protects clobbering files from redirection overwriting</span>
history
ignoreeof
savehist
filec</pre>
    </td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>7:</b></td>
    <td>
    <p class="docText">Type the following:</p>
    <pre><span class="docEmphasis">source .cshrc</span></pre>
    <p class="docText">What does the <span class="docEmphasis">source</span> 
    command do?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>8:</b></td>
    <td>
    <p class="docText">Edit your <span class="docEmphasis">.login</span> file as 
    follows:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Welcome the user.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Add your home directory to the path if it is not there.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Source the <span class="docEmphasis">login</span> file.</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>9:</b></td>
    <td>
    <p class="docText">Type <span class="docEmphasis">history.</span> What is 
    the output?</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">How do you reexecute the last command?</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Now type: <span class="docEmphasis">echo a b c</span></span></li>
    </ol>
    </span>
    <p class="docText">Use the <span class="docEmphasis">history</span> command 
    to reexecute the <span class="docEmphasis">echo</span> command with only its 
    last argument, <span class="docEmphasis">c.</span></td>
  </tr>
</table>
<h4 class="docSection2Title" id="ch09lev2sec27">Lab 20: Shell Metacharacters</h4>
<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">Type at the prompt:</p>
    <pre>touch ab abc a1 a2 a3 all a12 ba ba.1 ba.2 filex filey AbC ABC
ABc2 abc</pre>
    </td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">Write and test the command that will do the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files starting with <span class="docEmphasis">
      a.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files ending in at least one digit.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files starting with an
      <span class="docEmphasis">a</span> or <span class="docEmphasis">A.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files ending in a period, followed by a digit.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files containing just two of the letter
      <span class="docEmphasis">a.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List three character files where all letters are 
      uppercase.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List files ending in <span class="docEmphasis">11</span> 
      or <span class="docEmphasis">12.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List files ending in <span class="docEmphasis">x</span> 
      or <span class="docEmphasis">y.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files ending in a digit, an uppercase letter, 
      or a lowercase letter.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files containing a <span class="docEmphasis">
      b.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Remove two character files starting with
      <span class="docEmphasis">a.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>
<h4 class="docSection2Title" id="ch09lev2sec28">Lab 21: Redirection</h4>
<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">What are the names of the three file streams associated 
    with your terminal?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">What is a file descriptor?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">What command would you use to do the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Redirect the output of the <span class="docEmphasis">ls</span> 
      command to a file called <span class="docEmphasis">lsfile?</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Redirect and append the output of the
      <span class="docEmphasis">date</span> command to <span class="docEmphasis">
      lsfile?</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Redirect the output of the <span class="docEmphasis">
      who</span> command to <span class="docEmphasis">lsfile?</span> What 
      happened?</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>4:</b></td>
    <td>
    <p class="docText">What happens when you type <span class="docEmphasis">cp</span> 
    all by itself?</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">How do you save the error message from the above 
      example to a file?</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>5:</b></td>
    <td>
    <p class="docText">Use the <span class="docEmphasis">find</span> command to 
    find all files, starting from the parent directory, and of type
    <span class="docEmphasis">directory.</span> Save the standard output in a 
    file called <span class="docEmphasis">found</span> and any errors in a file 
    called <span class="docEmphasis">found.errs.</span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>6:</b></td>
    <td>
    <p class="docText">What is <span class="docEmphasis">noclobber?</span> How 
    do you override it?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>7:</b></td>
    <td>
    <p class="docText">Take the output of three commands and redirect the output 
    to a file called <span class="docEmphasis">gotemail.</span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>8:</b></td>
    <td>
    <p class="docText">Use a pipe(s) with the <span class="docEmphasis">ps</span> 
    and <span class="docEmphasis">wc</span> commands to find out how many 
    processes you are currently running.</td>
  </tr>
</table>
<h4 class="docSection2Title" id="ch09lev2sec29">Lab 22: First Script</h4>
<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">Write a script called <span class="docEmphasis">greetme</span> 
    that will do the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Greet the user.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Print the date and time.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Print a calendar for this month.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Print the name of your machine.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Print a list of all files in your parent directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Print all the processes you are running.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Print the value of the <span class="docEmphasis">TERM,</span>
      <span class="docEmphasis">PATH,</span> and <span class="docEmphasis">HOME</span> 
      variables.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Print <span class="docEmphasis">Please couldn't you 
      loan me $50.00?</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Tell the user <span class="docEmphasis">Good bye</span> 
      and the current hour. (See <span class="docEmphasis">man</span> pages for 
      the <span class="docEmphasis">date</span> command.)</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">Make sure your script is executable.</p>
    <pre>chmod +x greetme</pre>
    </td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">What was the first line of your script?</td>
  </tr>
</table>
<h4 class="docSection2Title" id="ch09lev2sec30">Lab 23: Getting User Input</h4>
<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">Write a script called <span class="docEmphasis">nosy</span> 
    that will do the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Ask the user's full name—first, last, and middle name.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Greet the user by his or her first name.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Ask the user's year of birth and calculate the user's 
      age.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Ask the user's login name and print user's ID (<span class="docEmphasis">from 
      /etc/passwd</span>).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Tell the user his or her home directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Show the user the processes he or she is running.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Tell the user the day of the week, and the current time 
      in nonmilitary time.</span></li>
    </ol>
    </span>
    <p class="docText">The output should resemble the following:</p>
    <blockquote>
      <p class="docList"><span class="docEmphasis">The day of the week is 
      Tuesday and the current time is 04:07:38 PM.</span></p>
    </blockquote>
    </td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">Create a text file called <span class="docEmphasis">
    datafile</span> (unless this file has already been provided for you.)</p>
    <p class="docText">Each entry consists of fields separated by colons. The 
    fields are:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">First and last name</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Phone number</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Address</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Birth date</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Salary</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">Create a script called <span class="docEmphasis">lookup</span> 
    that will do the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Contain a comment section with the scriptname, your 
      name, the date, and the reason for writing this script. The reason for 
      writing this script is to display the <span class="docEmphasis">datafile</span> 
      in sorted order.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Sort the <span class="docEmphasis">datafile</span> by 
      last names.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Show the user the contents of the
      <span class="docEmphasis">datafile.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Tell the user the number of entries in the file.</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>4:</b></td>
    <td>
    <p class="docText">Try the <span class="docEmphasis">echo</span> and
    <span class="docEmphasis">verbose</span> commands for debugging your script. 
    How did you use these commands?</td>
  </tr>
</table>
<h4 class="docSection2Title" id="ch09lev2sec31">Lab 24: Command Line Arguments</h4>
<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">Write a script called <span class="docEmphasis">rename</span> 
    that will do the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Take two filenames as command line arguments, the first 
      file is the old file and the second file is the new one.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Rename the old filename with the new filename.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List the files in the directory to show the change.</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">Write a script called <span class="docEmphasis">checking</span> 
    that will do the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Take a command line argument, a user's login name.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Test to see if a command line argument was provided.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Check to see if the user is in the
      <span class="docEmphasis">/etc/passwd</span> file. If so, print the 
      following:</p>
      <blockquote>
        <p class="docList"><span class="docEmphasis">Found &lt;user&gt; in the /etc/passwd 
        file.</span></p>
        <p class="docList">Otherwise, print the following:</p>
      </blockquote>
      <blockquote>
        <p class="docList"><span class="docEmphasis">No such user on our system.</span></p>
      </blockquote>
      </span></li>
    </ol>
    </span></td>
  </tr>
</table>
<h4 class="docSection2Title" id="ch09lev2sec32">Lab 25: Conditionals and File Testing</h4>
<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">In the <span class="docEmphasis">lookup</span> script, 
    ask the user if he or she would like to add an entry to the
    <span class="docEmphasis">datafile.</span> If <span class="docEmphasis">yes</span> 
    or <span class="docEmphasis">y:</span></p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Prompt the user for a new name, phone, address, birth 
      date, and salary. Each item will be stored in a separate variable. You 
      will provide the colons between the fields and append the information to 
      the <span class="docEmphasis">datafile.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Sort the file by last names. Tell the user you added 
      the entry, and show the line preceded by the line number.</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">Rewrite <span class="docEmphasis">checking.</span></p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After checking whether the named user is in the
      <span class="docEmphasis">/etc/passwd</span> file, the program will check 
      to see if he or she is logged on. If so, the program will print all the 
      processes that are running; otherwise it will tell the user the following:</p>
      <blockquote>
        <p class="docList"><span class="docEmphasis">&lt;user&gt; is not logged on.&quot;</span></p>
      </blockquote>
      </span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">The <span class="docEmphasis">lookup</span> script 
    depends on the <span class="docEmphasis">datafile</span> in order to run. In 
    the <span class="docEmphasis">lookup</span> script, check to see if the
    <span class="docEmphasis">datafile</span> exists and if it is readable and 
    writeable.</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>4:</b></td>
    <td>
    <p class="docText">Add a menu to the <span class="docEmphasis">lookup</span> 
    script to resemble the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Add entry</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Delete entry</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">View entry</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Exit</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>5:</b></td>
    <td>
    <p class="docText">You already have the <span class="docEmphasis">Add entry</span> 
    part of the script written. The <span class="docEmphasis">Add entry</span> 
    routine should now include code that will check to see if the name is 
    already in the <span class="docEmphasis">datafile</span> and if it is, tell 
    the user so. If the name is not there, add the new entry.</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>6:</b></td>
    <td>
    <p class="docText">Now write the code for the <span class="docEmphasis">
    Delete entry,</span> <span class="docEmphasis">View entry,</span> and
    <span class="docEmphasis">Exit</span> functions.</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>7:</b></td>
    <td>
    <p class="docText">The <span class="docEmphasis">Delete</span> part of the 
    script should first check to see if the entry exists before trying to remove 
    it. If the entry does not exist, notify the user; otherwise, remove the 
    entry and tell the user you removed it. On exit, make sure that you use a 
    digit to represent the appropriate exit status.</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>8:</b></td>
    <td>
    <p class="docText">How do you check the exit status from the command line?</td>
  </tr>
</table>
<h4 class="docSection2Title" id="ch09lev2sec33">Lab 26: The <span class="docEmphasis">switch</span> 
Statement</h4>
<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">Rewrite the following script using a
    <span class="docEmphasis">switch</span> statement.</p>
    <pre>#!/bin/csh –f
<span class="docEmphasis"># Grades program</span>
echo –n &quot;What was your grade on the test? &quot;
set score = $&lt;
if ( $grade &gt;= 90 &amp;&amp; $grade &lt;= 100 ) then
    echo You got an A\!
else if ( $grade &gt;= 80 &amp;&amp; $grade &lt; 89 ) then
    echo You got a B.
else if ( $grade &gt;= 79 &amp;&amp; $grade &lt; 79 ) then
    echo &quot;You're average.&quot;
else if ( $grade &gt;= 69 &amp;&amp; $grade &lt; 69 ) then
    echo Better study harder
else
    echo Better luck next time.
endif
</pre>
    </td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">Rewrite the <span class="docEmphasis">lookup</span> 
    script using switch statements for each of the menu items.</td>
  </tr>
</table>
<h4 class="docSection2Title" id="ch09lev2sec34">Lab 27: Loops</h4>
<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">Write a program called <span class="docEmphasis">picnic</span> 
    that will mail a list of users, one at a time, an invitation to a picnic. 
    The list of users will be in a file called <span class="docEmphasis">
    friends.</span> One of the users listed in the <span class="docEmphasis">
    friends</span> file will be Popeye.</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The invitation will be in another file, called
      <span class="docEmphasis">invite.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Use file testing to check that both files exist and are 
      readable.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A loop will be used to iterate through the list of 
      users. When Popeye is reached, he will be skipped over (i.e., he does not 
      get an invitation), and the next user on the list sent an invitation, and 
      so forth.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Keep a list with the names of each person who received 
      an invitation. Do this by building an array. After everyone on the list 
      has been sent mail, print the number of people who received mail and a 
      list of their names.</span></li>
    </ol>
    </span>
    <p class="docText"><span class="docEmphStrong"><span class="docEmphasis">
    Bonus:</span></span> If you have time, you may want to customize your<span class="docEmphasis">invite</span> 
    file so that each user receives a letter containing his or her name. For 
    example, the message might start:</p>
    <blockquote>
      <p class="docList"><span class="docEmphasis">Dear John,</span></p>
      <p class="docList"><span class="docEmphasis">I hope you can make it to our 
      picnic….</span></p>
    </blockquote>
    <p class="docText">To do this your <span class="docEmphasis">invite</span> 
    file may be written:</p>
    <blockquote>
      <p class="docList"><span class="docEmphasis">Dear XXX,</span></p>
      <p class="docList"><span class="docEmphasis">I hope you can make it to our 
      picnic….</span></p>
    </blockquote>
    <p class="docText">With <span class="docEmphasis">sed</span> or
    <span class="docEmphasis">awk,</span> you could then substitute
    <span class="docEmphasis">XXX</span> with the user name. (It might be tricky 
    putting the capital letter in the user name, since user names are always 
    lowercase.)</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">Add a new menu item to the <span class="docEmphasis">
    lookup</span> script to resemble the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Add entry</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Delete entry</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Change entry</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">View entry</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Exit</span></li>
    </ol>
    </span>
    <p class="docText">After the user has selected a valid entry, when the 
    function has completed, ask the user if he or she would like to see the menu 
    again. If an invalid entry is entered, the program should print the 
    following:</p>
    <blockquote>
      <p class="docList"><span class="docEmphasis">Invalid entry, try again.</span></p>
    </blockquote>
    <p class="docText">The menu will be redisplayed.</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">Create a submenu under <span class="docEmphasis">View 
    entry</span> in the <span class="docEmphasis">lookup</span> script. The user 
    will be asked if he would like to view specific information for a selected 
    individual:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Phone</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Address</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Birth date</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Salary</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>4:</b></td>
    <td>
    <p class="docText">Add the <span class="docEmphasis">onintr</span> command 
    to your script using a label. When the program starts execution at the 
    label, any temporary files will be removed, the user will be told
    <span class="docEmphasis">Good–bye,</span> and the program will exit.</td>
  </tr>
</table>

<blockquote>
<p class="docFootnote" id="EN9-1"><a class="docLink" href="#ENB9-1">[1]</a>&nbsp;&nbsp;Do not confuse 
  the search path variable with the <span class="docEmphasis">cdpath</span> 
  variable set in the <span class="docEmphasis">cshrc</span> file.</p><p class="docFootnote" id="EN9-2"><a class="docLink" href="#ENB9-2">[2]</a>&nbsp;&nbsp;The length of the 
  command line can be 256 characters or more; it can be even higher on different 
  versions of UNIX.</p><p class="docFootnote" id="EN9-3"><a class="docLink" href="#ENB9-3">[3]</a>&nbsp;&nbsp;The
  <span class="docEmphasis">find</span> syntax requires a semicolon at the end 
  of an <span class="docEmphasis">exec</span> statmemt. The semicolon is 
  preceded by a backslash to prevent the shell from interpreting it.</p><p class="docFootnote" id="EN9-4"><a class="docLink" href="#ENB9-4">[4]</a>&nbsp;&nbsp;Programs such as
  <span class="docEmphasis">grep,</span> <span class="docEmphasis">sed,</span> 
  and <span class="docEmphasis">awk</span> have a set of metacharacters, called 
  regular expression metacharac-ters, for pattern matching. These should not be 
  confused with shell metacharacters.</p><p class="docFootnote" id="EN9-5"><a class="docLink" href="#ENB9-5">[5]</a>&nbsp;&nbsp;[ESC] stands for 
  Escape key.</p><p class="docFootnote" id="EN9-6"><a class="docLink" href="#ENB9-6">[6]</a>&nbsp;&nbsp;Another way to 
  read one line of input is <tt>setvariable = 'head -1</tt>'.</p><p class="docFootnote" id="EN9-7"><a class="docLink" href="#ENB9-7">[7]</a>&nbsp;&nbsp;&nbsp;Associativity in 
  arithmetic expressions is right to left in cases of equal precedence.</p><p class="docFootnote" id="EN9-8"><a class="docLink" href="#ENB9-8">[8]</a>&nbsp;&nbsp;The command's 
  exit status is inverted by the shell so that the expression yields a true or 
  false result.</p><p class="docFootnote" id="EN9-9"><a class="docLink" href="#ENB9-9">[9]</a>&nbsp;&nbsp;A common error is 
  to name your script <span class="docEmphasis">tes</span>t. If your search path 
  contains the UNIX <span class="docEmphasis">test</span> command first, itwill 
  execute it. The <span class="docEmphasis">test</span> command either displays 
  an error or nothing at all if the syntax is correct.</p></blockquote>

<table width="100%" border="1" bgcolor="#EBEBFF"><tr><td width="5%" align="left" valign="middle"><a href="_chapter 8.htm"><img src="Larrow.gif" width="17" height="19" border="0"></a></td><td align="center" valign="middle"><a class="docLink" href="Front matter.htm">CONTENTS</a></td><td width="5%" align="right" valign="middle"><a href="_chapter 10.htm"><img src="Rarrow.gif" width="17" height="19" border="0"></a></td></tr></table></body>

</html>