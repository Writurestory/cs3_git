<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Chapter 11</title>
<link rel="stylesheet" type="text/css" href="docsafari.css">
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body><table width="100%" border="1" bgcolor="#EBEBFF"><tr><td width="5%" align="left" valign="middle"><a href="_chapter 10.htm"><img src="Larrow.gif" width="17" height="19" border="0"></a></td><td align="center" valign="middle"><a class="docLink" href="Front matter.htm">CONTENTS</a></td><td width="5%" align="right" valign="middle"><a href="_chapter 12.htm"><img src="Rarrow.gif" width="17" height="19" border="0"></a></td></tr></table>


<h2 class="docChapterTitle">Chapter 11. The Interactive
<span class="docEmphasis">bash</span> Shell</h2><ul><li>&nbsp;<a class="docLink" href="#ch11lev1sec1">11.1 Introduction</a></li>
<li>&nbsp;<a class="docLink" href="#ch11lev1sec2">11.2 Command Line Shortcuts</a></li>
<li>&nbsp;<a class="docLink" href="#ch11lev1sec3">11.3 Variables</a></li>
<li>&nbsp;<a class="docLink" href="#ch11lev1sec4">BASH SHELL LAB EXERCISES</a></li>
</ul>
<p class="docText">
<img alt="graphics/ch11.gif" src="ch11.gif" border="0" width="500" height="448"></p>
<h3 class="docSection1Title" id="ch11lev1sec1">11.1 Introduction</h3>
<p class="docText">With an interactive shell, the standard input, output, and
error are tied to a terminal. When using the Bourne Again (<span class="docEmphasis">bash</span>)
shell interactively, you type UNIX commands at the <span class="docEmphasis">
bash</span> prompt and wait for a response. <span class="docEmphasis">Bash</span>
provides you with a large assortment of built-in commands and command line
shortcuts, such as history, aliases, file and command completion, command line
editing, and many more. Some of the features were present in the standard UNIX
Bourne shell but the GNU project has expanded the shell to include a number of
new features as well adding POSIX compliancy. With the release of
<span class="docEmphasis">bash</span> 2.x, so many features of the UNIX Korn
shell and C shell have been included that the <span class="docEmphasis">bash</span>
shell is a fully functional shell at both the interactive and programming level,
while upwardly compatible with the standard Bourne shell. For UNIX users,
<span class="docEmphasis">bash</span> offers an alternative to the standard
shells, <span class="docEmphasis">sh,</span> <span class="docEmphasis">csh,</span>
and <span class="docEmphasis">ksh.</span><span id="ENB11-1"><a class="docLink" href="#EN11-1"><sup>[1]</sup></a></span></p>
<p class="docText">This chapter focuses on how you interact with
<span class="docEmphasis">bash</span> at the command line and how to customize
your working environment. You will learn how to take advantage of all shortcuts
and built-in features in order to create an efficient and fun working
environment. The next chapter takes you a step further. Then you will be ready
to write <span class="docEmphasis">bash</span> shell scripts to further tailor
the working environment for yourself by automating everyday tasks and developing
sophisticated scripts, and if you are an administrator, doing the same not only
for yourself but also for whole groups of users.</p>
<h4 class="docSection2Title" id="ch11lev2sec1">11.1.1 Versions of <span class="docEmphasis">bash</span></h4>
<p class="docText">The Bourne Again shell is a Capricorn, born on January 10,
1988, fathered by Brian Fox and later adopted by Chet Ramey, who now officially
maintains <span class="docEmphasis">bash,</span> enhances it, and fixes bugs.
The first version of <span class="docEmphasis">bash</span> was 0.99. The current
version (as of this writing) is version 2.04. Major enhancements were completed
in version 2.0, but there are a num ber of operating systems that are still
using version 1.14.7. All versions are freely available under the GNU public
license. To see what version you are using, use the <span class="docEmphasis">-
-version</span> option to <span class="docEmphasis">bash</span> or print the
value of the <span class="docEmphasis">BASH_VERSION</span> environment variable.</p>
<h5 id="ch11list01" class="docExampleTitle">Example 11.1 </h5>
<pre>$ <span class="docEmphStrong">bash --version</span>
<span class="docEmphasis">GNU bash, version 2.03.0(1)-release (sparc-sun-solaris)</span>
<span class="docEmphasis">Copyright 1998 Free Software Foundation, Inc.</span>

$ <span class="docEmphStrong">echo $BASH_VERSION</span>
<span class="docEmphasis">2.03.0(1)-release</span>
</pre>
<h4 class="docSection2Title" id="ch11lev2sec2">11.1.2 Startup</h4>
<p class="docText">If the <span class="docEmphasis">bash</span> shell is your
login shell, it follows a chain of processes before you see a shell prompt.<span id="ENB11-2"><a class="docLink" href="#EN11-2"><sup>[2]</sup></a></span></p>
<center>
<h5 id="ch11fig01" class="docFigureTitle">Figure 11.1. Starting the <span class="docEmphasis">
bash</span> shell.</h5>
<p class="docText">
<img alt="graphics/11fig01.gif" src="11fig01.gif" border="0" width="500" height="602"></p>
</center>
<p class="docText">When the system boots, the first process to run is called
<span class="docEmphasis">init,</span> PID #1. It spawns a
<span class="docEmphasis">getty</span> process. This process opens up the
terminal ports, providing a place where standard input comes from and a place
where standard output and errors go, and puts a login prompt on your screen. The
<span class="docEmphasis">/bin/login</span> program is then executed. The
<span class="docEmphasis">login</span> program prompts for a password, encrypts
and verifies the password, sets up an initial environment, and starts up the
login shell, <span class="docEmphasis">/bin/bash,</span> the last entry in the
<span class="docEmphasis">passwd</span> file. The <span class="docEmphasis">bash</span>
process looks for the system file, <span class="docEmphasis">/etc/profile,</span>
and executes its commands. It then looks in the user's home directory for an
initialization file called <span class="docEmphasis">.bash_profile.</span> After
executing commands from <span class="docEmphasis">bash _profile,</span>
<span id="ENB11-3"><a class="docLink" href="#EN11-3"><sup>[3]</sup></a></span> it
will execute a command from the user's <span class="docEmphasis">ENV</span>
file, usually called <span class="docEmphasis">.bashrc,</span> and finally the
default dollar sign (<span class="docEmphasis">$</span>) prompt appears on your
screen and the shell waits for commands. (For more on initialization files, see
&quot;<a class="docLink" href="#ch11lev2sec3">The Environment</a>&quot;.)</p>
<p class="docText"><b>Changing the Shell at the Command Line.</b> If you want to
start another shell from the command line temporarily (without changing the
<span class="docEmphasis">/etc/passwd</span> file), just type the name of the
shell. For example, if you are currently using the standard Bourne shell and
would rather have <span class="docEmphasis">bash</span> as your shell, you can
change the shell at the command line simply by typing <span class="docEmphasis">
bash.</span></p>
<h5 id="ch11list02" class="docExampleTitle">Example 11.2 </h5>
<pre>1   $ <span class="docEmphStrong">ps</span>
    <span class="docEmphasis">PID   TTY    TIME   CMD</span>
    <span class="docEmphasis">1574  pts/6  0:00   sh</span>

2   $ <span class="docEmphStrong">bash</span>
    <span class="docEmphasis">bash-2.03$</span>

3   bash-2.03$ <span class="docEmphStrong">ps</span>
    <span class="docEmphasis">PID   TTY    TIME    CMD</span>
    <span class="docEmphasis">1574  pts/6  0:00    sh</span>
    <span class="docEmphasis">1576  pts/6  0:00    bash</span>
</pre>
<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">ps</span>
      command shows what processes are running. Currently,
      <span class="docEmphasis">sh</span> (the Bourne shell) is running.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">At the Bourne shell prompt, the user enters
      <span class="docEmphasis">bash</span> and starts up the Bourne Again
      shell. A new prompt appears.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">At the bash prompt, the <span class="docEmphasis">ps</span>
      command is executed. The output shows that two shells are running and the
      current shell is now <span class="docEmphasis">bash.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>
<h4 class="docSection2Title" id="ch11lev2sec3">11.1.3 The Environment</h4>
<p class="docText">The environment of a process consists of variables, open
files, the current working directory, functions, resource limits, signals, and
so forth. It defines those features that are inherited from one shell to the
next and the configuration for the working environment. The configuration for
the user's shell is defined in the shell initialization files.</p>
<p class="docText"><b>The Initialization Files.</b> The
<span class="docEmphasis">bash</span> shell has a number of startup files that
are sourced. Sourcing a file causes all settings in the file to become part of
the current shell; i.e., a subshell is not created. (The source command is
discussed in &quot;The source or dot Command&quot; on page 621.) The initialization files
are sourced depending on the whether the shell is a login shell, an interactive
shell (but not the login shell), or a noninteractive shell (a shell script).</p>
<p class="docText">When you log on, before the shell prompt appears, the
systemwide initialization file, <span class="docEmphasis">etc/profile,</span> is
sourced. Next, if it exists, the <span class="docEmphasis">.bash_profile</span>
in the user's home directory is sourced. It sets the user's aliases and
functions and then sets user-specific environment variables and startup scripts.</p>
<p class="docText">If the user doesn't have a <span class="docEmphasis">.bash_profile,</span>
but does have a file called <span class="docEmphasis">.bash_login,</span> that
file will be sourced, and if he doesn't have a <span class="docEmphasis">.bash_login,</span>
but does have a <span class="docEmphasis">.profile,</span> it will be sourced.
(The <span class="docEmphasis">.bash_login</span> file is similar to the C
shell's <span class="docEmphasis">.login</span> file and the
<span class="docEmphasis">.profile</span> is normally sourced by the Bourne
shell when it starts up.)</p>
<p class="docText">Here is a summary of the order that <span class="docEmphasis">
bash</span> processes its initialization files <span id="ENB11-4"><a class="docLink" href="#EN11-4"><sup>[4]</sup></a></span> (see
<a class="docLink" href="#ch11fig02">figure 11.2</a>):</p>
<center>
<h5 id="ch11fig02" class="docFigureTitle">Figure 11.2. Order of processing initialization
files.</h5>
<p class="docText">
<img alt="graphics/11fig02.gif" src="11fig02.gif" border="0" width="500" height="186"></p>
</center>
<pre>if <span class="docEmphasis">/etc/profile</span> exists, source it,
   if <span class="docEmphasis">~/.bash_profile</span> exists, source it,
      if  <span class="docEmphasis">~/.bashrc</span> exists, source it,
   else if <span class="docEmphasis">~/.bash_login</span> exists, source it,
   else if <span class="docEmphasis">~/.profile</span> exists, source it.
</pre>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
/etc/profile</span> File.</span> The <span class="docEmphasis">/etc/profile</span>
file is a systemwide initialization file set up by the system administrator to
perform tasks when the user logs on. It is executed when the
<span class="docEmphasis">bash</span> shell starts up. It is also available to
all Bourne and Korn shell users on the system and normally performs such tasks
as checking the mail spooler for new mail and displaying the message of the day
from the <span class="docEmphasis">/etc/motd</span> file. (The following
examples will make more sense after you have completed this chapter.)</p>
<h5 id="ch11list03" class="docExampleTitle">Example 11.3 </h5>
<pre>(Sample <span class="docEmphasis">/etc/profile</span>)
<span class="docEmphasis"># /etc/profile</span>
<span class="docEmphasis"># Systemwide environment and startup programs</span>
<span class="docEmphasis"># Functions and aliases go in /etc/bashrc</span>

1  PATH=&quot;$PATH:/usr/X11R6/bin&quot;
2  PS1=&quot;[\u@\h \W]\\$ &quot;

3  ulimit -c 1000000
4  if [ 'id -gn' = 'id -un' -a 'id -u' -gt 14 ]; then
5    umask 002
   else
     umask 022
   fi

6  USER='id -un'
7  LOGNAME=$USER
8  MAIL=&quot;/var/spool/mail/$USER&quot;

9  HOSTNAME='/bin/hostname'
10 HISTSIZE=1000
11 HISTFILESIZE=1000
12 export PATH PS1 HOSTNAME HISTSIZE HISTFILESIZE USER LOGNAME MAIL

13  for i in /etc/profile.d/*.sh ; do
14      if [ -x $i ]; then
15           . $i
        fi
16  done

17  unset i #
</pre>
<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">PATH</span> variable is
      assigned locations where the shell should search for commands.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The primary prompt is assigned. It will be displayed in
      the shell window as the user's name (<span class="docEmphasis">\u</span>),the
      @ symbol, the host machine (<span class="docEmphasis">\W</span>), and a
      dollar sign.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">ulimit</span> command (a
      shell built-in command) is set to limit the maximum size of core files
      created to 1,000,000 bytes. Core files are memory dumps of programs that
      have crashed, and they take up a lot of disk space.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This line reads, <span class="docEmphasis">if the
      user's group name is equal to the user's name and the user's ID number is
      greater than 14… (see 5)</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Then set the <span class="docEmphasis">umask</span> to
      <span class="docEmphasis">002.</span> When directories are created they
      will get <span class="docEmphasis">775</span> permissions and files will
      get <span class="docEmphasis">664</span> permissions. Otherwise, the
      <span class="docEmphasis">umask</span> is set to <span class="docEmphasis">
      022,</span> giving <span class="docEmphasis">755</span> to directories and
      <span class="docEmphasis">644</span> to files.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">USER</span> variable is
      assigned the username (<span class="docEmphasis">id -un</span>).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">LOGNAME</span> variable
      is set to the value in <span class="docEmphasis">$USER.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">MAIL</span> variable is
      assigned the path to the mail spooler where the user's mail is saved.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">HOSTNAME</span> variable
      is assigned the name of the user's host machine.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">HISTSIZE</span> variable
      is set to <span class="docEmphasis">1000.</span> <span class="docEmphasis">
      HISTSIZE</span> controls the number of history items that are remembered
      (from the history list stored in the shell's memory) and saved in the
      history file after the shell exits.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">HISTFILESIZE</span> is
      set to limit the number of commands stored in the history file to
      <span class="docEmphasis">1000,</span> i.e., the history file is truncated
      after it reaches 1,000 lines. (See &quot;<a class="docLink" href="#ch11lev2sec8">History</a>&quot;.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">These variables are exported so that they will be
      available in subshells and child processes.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">For each file (ending in <span class="docEmphasis">.sh</span>)
      in the <span class="docEmphasis">etc/profile.d</span> directory… (see 14)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Check to see if the file is executable, and if it is…
      (see 15)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Execute (source) the file with the dot command. The
      files in the <span class="docEmphasis">/etc/profile.d</span> directory:
      <span class="docEmphasis">lang.sh</span> and <span class="docEmphasis">
      mc.sh,</span> respectively, set the character and font sets and create a
      function called <span class="docEmphasis">mc</span> that starts up a
      visual/browser file manager program called <span class="docEmphasis">
      Midnight Commander.</span> To see how the file manager works, type
      <span class="docEmphasis">mc</span> at the <span class="docEmphasis">bash</span>
      prompt.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">done</span> keyword marks
      the end of the <span class="docEmphasis">for</span> loop.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">i</span> is
      <span class="docEmphasis">unset,</span> i.e., removed from shell's name
      space. The value of <span class="docEmphasis">i</span> is whatever was
      assigned to it while in the <span class="docEmphasis">for</span> loop, if
      anything was assigned at all.</span></li>
    </ol>
    </span></td>
  </tr>
</table>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">~/.bash_profile</span>
File.</span> If the <span class="docEmphasis">~/.bash_profile</span> is found in
the user's home directory, it is sourced after the <span class="docEmphasis">
/etc/profile.</span> If <span class="docEmphasis">~/.bash_profile</span> doesn't
exist, <span class="docEmphasis">bash</span> will look for another user-defined
file, <span class="docEmphasis">~./bash_login,</span> and source it, and if
<span class="docEmphasis">~./bash_login</span> doesn't exist, it will source the
<span class="docEmphasis">~/.profile,</span> if it exists. Only one of the three
files (<span class="docEmphasis">~/.bash_profile,</span>
<span class="docEmphasis">~/.bash_login,</span> or ~/<span class="docEmphasis">.profile</span>)
will be sourced. <span class="docEmphasis">Bash</span> will also check to see if
the user has a <span class="docEmphasis">.bashrc</span> file and then source it.</p>
<h5 id="ch11list04" class="docExampleTitle">Example 11.4 </h5>
<pre>(Sample .<span class="docEmphasis">bash_profile</span>)

    <span class="docEmphasis"># .bash_profile</span>
    <span class="docEmphasis"># The file is sourced by bash only when the user logs on.</span>

    <span class="docEmphasis"># Get the aliases and functions</span>
1   if [ -f ~/.bashrc ]; then
2           . ~/.bashrc
    fi

    <span class="docEmphasis"># User-specific environment and startup programs</span>

3   PATH=$PATH:$HOME/bin
4   ENV=$HOME/.bashrc     <span class="docEmphasis"># or BASH_ENV=$HOME/.bashrc</span>
5   USERNAME=&quot;root&quot;

6   export USERNAME ENV PATH
7   mesg n
8   if [ $TERM = linux ]
    then
           startx    <span class="docEmphasis"># Start the X Window system</span>
    fi
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">If</span> there is a file
      called <span class="docEmphasis">.bashrc</span> in the user's home
      directory… (see 2)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Execute (source) the <span class="docEmphasis">.bashrc</span>
      file for the login shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">PATH</span> variable is
      appended with a path to the user's <span class="docEmphasis">bin</span>
      directory, normally the place where shell scripts are stored.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">BASH_ENV</span><sup class="docFootnote"><a class="docLink" href="#ch11fn05">[a]</a></sup>
      <span class="docEmphasis">(ENV)</span> file is set to the pathname for the
      <span class="docEmphasis">.bashrc</span> file, an initialization file that
      will be sourced for interactive <span class="docEmphasis">bash</span>
      shells and scripts only if the <span class="docEmphasis">BASH_ENV (ENV)</span>
      variable is set. The <span class="docEmphasis">.bashrc</span> file
      contains user-defined aliases and functions.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">USERNAME</span>
      is set to <span class="docEmphasis">root.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variables are exported so that they are available
      to subshells and other processes will know about them.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">mesg</span> command is
      executed with the <span class="docEmphasis">n</span> option, disallowing
      others to write to the terminal.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the value of the <span class="docEmphasis">TERM</span>
      variable is <span class="docEmphasis">linux,</span> then
      <span class="docEmphasis">startx</span> will start the X window system
      (the graphical user interface allowing multiple virtual consoles), rather
      than starting an interactive session in the Linux console window. Because
      the <span class="docEmphasis">~/.bash_profile</span> is only sourced when
      you log in, the login shell would be the best place to start up your X
      windows session.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<blockquote>
  <p class="docFootnote"><sup><a name="ch11fn05">[a]</a></sup>
  <span class="docEmphasis">BASH_ENV</span> is used by versions of
  <span class="docEmphasis">bash</span> starting at 2.0.</p>
</blockquote>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
BASH_ENV</span> (<span class="docEmphasis">ENV</span>) Variable.</span> Before
<span class="docEmphasis">bash</span> version 2.0, the <span class="docEmphasis">
BASH_ENV</span> file was simply called the <span class="docEmphasis">ENV</span>
file (same as in Korn shell). The <span class="docEmphasis">BASH_ENV</span>
<span class="docEmphasis">(ENV</span>) variable is set in the ~<span class="docEmphasis">/.bash_profile.</span>
It is assigned the name of a file that will be executed every time an
interactive <span class="docEmphasis">bash</span> shell or
<span class="docEmphasis">bash</span> script is started. The
<span class="docEmphasis">BASH_ENV (ENV)</span> file will contain special
<span class="docEmphasis">bash</span> variables and aliases. The name is
conventionally <span class="docEmphasis">.bashrc,</span> but you can call it
anything you want. The <span class="docEmphasis">BASH_ENV</span> (<span class="docEmphasis">ENV</span>)
file is not processed when the privileged option is on (<span class="docEmphasis">bash
-p</span> or <span class="docEmphasis">set -o privileged</span>) or the
<span class="docEmphasis">- -norc</span> command line option is used
<span class="docEmphasis">(bash -norc</span> or <span class="docEmphasis">bash -
-norc</span> [<span class="docEmphasis">bash 2.x +</span>]).</p>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">.bashrc</span>
File.</span> The <span class="docEmphasis">BASH_ENV</span> (<span class="docEmphasis">ENV</span>)
variable is assigned (by convention) the name <span class="docEmphasis">.bashrc.</span>
This file is automatically sourced every time a new or interactive
<span class="docEmphasis">bash</span> shell or <span class="docEmphasis">bash</span>
script starts. It contains settings that pertain only to the
<span class="docEmphasis">bash</span> shell.</p>
<h5 id="ch11list05" class="docExampleTitle">Example 11.5 </h5>
<pre>(Sample .bashrc)
<span class="docEmphasis"># If the .bashrc file exists, it is in the user's home directory.</span>
<span class="docEmphasis"># It contains aliases (nicknames for commands) and user-defined</span>
<span class="docEmphasis"># functions.</span>

<span class="docEmphasis"># .bashrc</span>
<span class="docEmphasis"># User-specific aliases and functions</span>


1   set -o vi
2   set -o noclobber
3   set -o ignoreeof
4   alias rm='rm -i'
    alias cp='cp -i'
    alias mv='mv -i'
5   stty erase ^h
   <span class="docEmphasis"># Source global definitions</span>
6  if [ -f /etc/bashrc ]; then
      . /etc/bashrc
   fi
7   case &quot;$-&quot; in
8      *i*) echo This is an interactive bash shell
               ;;
9      *)   echo This shell is noninteractive
               ;;
    esac
10  history_control=ignoredups

11  function cd { builtin cd $1; echo $PWD; }
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">set</span> command with
      the <span class="docEmphasis">-o</span> switch turns on or off special
      built-in options. (See &quot;The set -o Options&quot; on page 610.) If the switch is
      <span class="docEmphasis">-o,</span> a minus sign, the option is turned
      on, and if a plus sign, the option is turned off. The
      <span class="docEmphasis">vi</span> option allows interactive command line
      editing. For example, <span class="docEmphasis">set -o vi</span> turns on
      interactive command-line editing, whereas <span class="docEmphasis">set vi
      +o</span> turns it off. (See <a class="docLink" href="#ch11table01">Table
      11.1</a>.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">noclobber</span> option
      is turned on, which prevents the user from overwriting files when using
      redirection; e.g., <span class="docEmphasis">sort filex &gt; filex.</span>
      (See &quot;<a class="docLink" href="#ch11lev2sec23">Standard
      I/O and Redirection</a>&quot;.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When exiting a shell, normally you can type ^D
      (Control-D). With <span class="docEmphasis">ignoreeof</span> set, you must
      type <span class="docEmphasis">exit.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias for <span class="docEmphasis">rm,</span>
      <span class="docEmphasis">rm -i,</span> causes <span class="docEmphasis">
      rm</span> to be interactive (<span class="docEmphasis">-i</span> ), i.e.,
      it will ask the user if it's OK to remove files before actually removing
      them.The alias for the <span class="docEmphasis">cp,</span>
      <span class="docEmphasis">cp -i,</span> command causes the copy to be
      interactive.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">stty</span> command is
      used to set the terminal backspace key to erase. ^H represents the
      Backspace key.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If a file called <span class="docEmphasis">/etc/bashrc</span>
      exists, source it.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the shell is interactive, the special variable,
      <span class="docEmphasis">$-,</span> will contain an
      <span class="docEmphasis">i.</span> If not, you are probably running a
      script. The <span class="docEmphasis">case</span> command evaluates
      <span class="docEmphasis">$-.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If the value returned from <span class="docEmphasis">$-</span>
      matches <span class="docEmphasis">*i*,</span> i.e., any string containing
      an <span class="docEmphasis">i,</span> then the shell prints
      <span class="docEmphasis">This is an interactive shell.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Otherwise, the shell prints <span class="docEmphasis">
      This shell is noninteractive.</span> If you start up a script, or a new
      shell at the prompt, you will be able to tell whether or not your shell is
      interactive. It is only here to let you test your understanding of the
      terms &quot;interactive&quot; and &quot;noninteractive&quot; shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">history_control</span>
      setting is used to control how commands are saved in the history file.
      This line says, <span class="docEmphasis">Don't save commands in the
      history file if they're already there.;</span> i.e., ignore duplicates.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This is a user-defined function. When the user changes
      directories, the present working directory, <span class="docEmphasis">PWD,</span>
      is printed. The function is named <span class="docEmphasis">cd</span> and
      contains within its definition, the command <span class="docEmphasis">cd.</span>
      The special built-in command, called <span class="docEmphasis">builtin,</span>
      precedes the <span class="docEmphasis">cd</span> command within the
      function definition to prevent the function from going into an infinite
      recursion; i.e., from calling itself indefinitely.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
/etc/bashrc</span> File.</span> Systemwide functions and aliases can be set in
the <span class="docEmphasis">/etc/bashrc</span> file. The primary prompt is
often set here.</p>
<h5 id="ch11list06" class="docExampleTitle">Example 11.6 </h5>
<pre> (Sample /etc/bashrc)

    <span class="docEmphasis"># Systemwide functions and aliases</span>
    <span class="docEmphasis"># Environment stuff goes in /etc/profile</span>

    <span class="docEmphasis"># For some unknown reason bash refuses to inherit</span>
    <span class="docEmphasis"># PS1 in some circumstances that I can't figure out.</span>
    <span class="docEmphasis"># Putting PS1 here ensures that it gets loaded every time.</span>

1   PS1=&quot;[\u@\h \W]\\$ &quot;

2   alias which=&quot;type -path&quot;
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Systemwide functions and aliases are set here. The
      primary <span class="docEmphasis">bash</span> prompt is set to the name of
      the user (\u), and @ symbol, the host machine (\h), the basename of the
      current working directory, and a dollar sign. (See
      <a class="docLink" href="#ch11table02">Table 11.2</a> .) This prompt will
      appear for all interactive shells.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Aliases, nicknames for commands, are usually set in the
      user's <span class="docEmphasis">.bashrc</span> file. The alias was preset
      and is available when <span class="docEmphasis">bash</span> starts up. You
      use it when you want to find out where a program resides on disk; i.e.,
      what directory it is found in; e.g., <span class="docEmphasis">which ls</span>
      will print <span class="docEmphasis">/bin/ls.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
~/.profile</span> File.</span> The <span class="docEmphasis">.profile</span>
file is a user-defined initialization file. It is found in the user's home
directory, and sourced once at login if running <span class="docEmphasis">sh</span>
(Bourne shell). If running <span class="docEmphasis">bash,</span>
<span class="docEmphasis">.profile</span> will be run if
<span class="docEmphasis">bash</span> cannot find any other of the
initialization files listed above. It allows a user to customize and modify his
shell environment. Environment and terminal settings are normally put here, and
if a window application or database application is to be initiated, it is
started here.</p>
<h5 id="ch11list07" class="docExampleTitle">Example 11.7 </h5>
<pre>(Sample .<span class="docEmphasis">profile</span>)
<span class="docEmphasis"># A login initialization file sourced when running as sh or the</span>
<span class="docEmphasis">#.bash_profile or .bash_login are not found.</span>
1  TERM=xterm
2  HOSTNAME='uname -n'
3  EDITOR=/bin/vi
4  PATH=/bin:/usr/ucb:/usr/bin:/usr/local:/etc:/bin:/usr/bin:.
5  PS1=&quot;$HOSTNAME $ &gt; &quot;
6  export TERM HOSTNAME EDITOR PATH PS1
7  stty erase ^h
8  go () { cd $1; PS1='pwd'; PS1='basename $PS1'; }
9  trap '$HOME/.logout' EXIT
10 clear
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">TERM</span> variable is
      assigned the value of the terminal type, <span class="docEmphasis">xterm.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Because the <span class="docEmphasis">uname -n</span>
      command is enclosed in backquotes, the shell will perform command
      substitution, i.e., the output of the command (the name of the host
      machine) will be assigned to the variable <span class="docEmphasis">
      HOSTNAME.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">EDITOR</span> variable is
      assigned <span class="docEmphasis">/bin/vi.</span> Programs such as
      <span class="docEmphasis">mail</span> and <span class="docEmphasis">
      history</span> will now have this variable available when defining an
      editor.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">PATH</span> variable is
      assigned the directory entries that the shell searches in order to find a
      UNIX program. If, for example, you type <span class="docEmphasis">ls,</span>
      the shell will search the <span class="docEmphasis">PATH</span> until it
      finds that program in one of the listed directories. If it never finds the
      program, the shell will tell you so.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The primary prompt is assigned the value of
      <span class="docEmphasis">HOSTNAME,</span> the machine name, and the
      <span class="docEmphasis">$</span> and <span class="docEmphasis">&gt;</span>
      symbols.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All of the variables listed are exported. They will be
      known by child processes started from this shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">stty</span> command sets
      terminal options. The Erase key is set to <span class="docEmphasis">^H,</span>
      so that when you press the Backspace key, the letter typed preceding the
      cursor is erased.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A function called <span class="docEmphasis">go</span>
      is defined. The purpose of this function is to take one argument, a
      directory name, <span class="docEmphasis">cd</span> to that directory, and
      set the primary prompt to the present working directory. The
      <span class="docEmphasis">basename</span> command removes all but the last
      entry of the path. The prompt will show you the current directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">trap</span> command is a
      signal handling command. When you exit the shell, that is, log out, the
      <span class="docEmphasis">.logout</span> file will be executed. The
      <span class="docEmphasis">.logout</span> file is a user-defined file
      containing commands that will be executed just before logging out,
      commands that will clean up temp files or log the time of log out, etc.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">clear</span> command
      clears the screen.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
~/.bash-logout</span> File. </span>When the user logs out (exits the login
shell), if a file called <span class="docEmphasis">~/.bash_logout</span> exists,
it is sourced. This file normally contains commands to clean up temporary files,
truncate the history file, record the time of logout, etc.</p>
<p class="docText"><b>Options to Prevent Startup Files from Being Executed.</b>
If <span class="docEmphasis">bash</span> is invoked with the
<span class="docEmphasis">- -noprofile</span> option (e.g.,
<span class="docEmphasis">bash - -noprofile</span>), then the
<span class="docEmphasis">/etc/profile,</span> <span class="docEmphasis">~/.bash_profile,</span>
<span class="docEmphasis">~/.bash_login,</span> or <span class="docEmphasis">
~/.profile</span> startup files will not be sourced.</p>
<p class="docText">If invoked with the <span class="docEmphasis">-p</span>
option (e.g., <span class="docEmphasis">bash -p</span>),
<span class="docEmphasis">bash</span> will not read the user's
<span class="docEmphasis">~/.profile</span> file.</p>
<p class="docText">If <span class="docEmphasis">bash</span> is invoked as
<span class="docEmphasis">sh</span> (Bourne shell), it tries to mimic the
behavior of the Bourne shell as closely as possible. For a login shell, it
attempts to source only <span class="docEmphasis">/etc/profile</span> and
<span class="docEmphasis">~/.profile,</span> in that order. The -<span class="docEmphasis">noprofile</span>
option may still be used to disable this behavior. If the shell is invoked as
<span class="docEmphasis">sh,</span> it does not attempt to source any other
startup files.</p>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">.inputrc</span>
File.</span> Another default initalization file, <span class="docEmphasis">.inputrc,</span>
is also read when <span class="docEmphasis">bash</span> starts up. This file, if
it exists in the user's home directory, contains variables to customize
keystroke behavior and settings that bind strings, macros, and control functions
to keys. The names for the key bindings and what they do are found in the
Readline library, a library that is used by applications that manipulate text.
The bindings are used particularly by the built-in <span class="docEmphasis">
emacs</span> and <span class="docEmphasis">vi</span> editors, when performing
command line editing. (See &quot;Command Line Editing&quot; on page 641 for more on
<span class="docEmphasis">readline.</span>)</p>
<h4 class="docSection2Title" id="ch11lev2sec4">11.1.4 Setting <span class="docEmphasis">bash</span>
Options with the Built-In <span class="docEmphasis">set</span> and
<span class="docEmphasis">shopt</span> Commands</h4>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">set
-o</span> Options.</span> The <span class="docEmphasis">set</span> command can
take options when the <span class="docEmphasis">-o</span> switch is used.
Options allow you to customize the shell environment. They are either on or off,
and are normally set in the <span class="docEmphasis">BASH_ENV</span> (<span class="docEmphasis">ENV)</span>
file. Many of the options for the <span class="docEmphasis">set</span> command
are set with an abbreviated form. For example, <span class="docEmphasis">set -o
noclobber</span> can also be written, <span class="docEmphasis">set -C.</span>
(See <a class="docLink" href="#ch11table01">Table 11.1</a>.)</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table01" class="docTableTitle">Table 11.1. The Built-In <span class="docEmphasis">
  set</span> Command Options</h5>
  </caption>
  <colgroup span="3" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">Name
    of Option</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Shortcut Switch</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">What
    It Does</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">allexport</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-a</span>
    </td>
    <td class="docTableCell" vAlign="top">Automatically marks new or modified
    variables for export from the time the option is set, until unset. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">braceexpand</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-B</span>
    </td>
    <td class="docTableCell" vAlign="top">Enables brace expansion, and is a
    default setting. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">emacs</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">For command line editing, uses the
    <span class="docEmphasis">emacs</span> built-in editor, and is a default
    setting. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">errexit</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-e</span>
    </td>
    <td class="docTableCell" vAlign="top">If a command returns a nonzero exit
    status (fails), exits. Not set when reading initialization files. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">histexpand</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-H</span>
    </td>
    <td class="docTableCell" vAlign="top">Enables ! and !! when performing
    history substitution, and is a default setting. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">history</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">Enables command line history; on by
    default. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ignoreeof</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">Disables EOF (Control-D) from exiting
    a shell; must type exit. Same as setting shell variable,
    <span class="docEmphasis">IGNOREEOF=10.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">keyword</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-k</span>
    </td>
    <td class="docTableCell" vAlign="top">Places keyword arguments in the
    environment for a command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    interactive-comments</span> </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">For interactive shells, a leading # is
    used to comment out any text remaining on the line. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">monitor</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-m</span>
    </td>
    <td class="docTableCell" vAlign="top">Allows job control. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">noclobber</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-C</span>
    </td>
    <td class="docTableCell" vAlign="top">Protects files from being overwritten
    when redirection is used. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">noexec</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-n</span>
    </td>
    <td class="docTableCell" vAlign="top">Reads commands, but does not execute
    them. Used to check the syntax of scripts. Not on when running
    interactively. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">noglob</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-d</span>
    </td>
    <td class="docTableCell" vAlign="top">Disables pathname expansion; i.e.,
    turns off wildcards. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">notify</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-b</span>
    </td>
    <td class="docTableCell" vAlign="top">Notifies user when background job
    finishes. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">nounset</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-u</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays an error when expanding a
    variable that has not been set. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">onecmd</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-t</span>
    </td>
    <td class="docTableCell" vAlign="top">Exit after reading and executing one
    command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">physical</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-P</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, does not follow symbolic links
    when typing <span class="docEmphasis">cd</span> or <span class="docEmphasis">
    pwd.</span> The physical directory is used instead. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">posix</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">Shell behavior is changed if the
    default operation doesn't match the POSIX standard. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">privileged</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-p</span>
    </td>
    <td class="docTableCell" vAlign="top">When set, the shell does not read the
    <span class="docEmphasis">.profile</span> or <span class="docEmphasis">ENV</span>
    file and shell functions are not inherited from the environment;
    automatically set for <span class="docEmphasis">setuid</span> scripts. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">posix</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">Change the default behavior to POSIX
    1003.2. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">verbose</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-v</span>
    </td>
    <td class="docTableCell" vAlign="top">Turns on the <span class="docEmphasis">
    verbose</span> mode for debugging. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">vi</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">For command line editing, uses the
    <span class="docEmphasis">vi</span> built-in editor. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">xtrace</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-x</span>
    </td>
    <td class="docTableCell" vAlign="top">Turns on the echo mode for debugging.
    </td>
  </tr>
</table>
<p>&nbsp;</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>set -o option  <span class="docEmphasis"># Turns on the option.</span>
set +o option  <span class="docEmphasis"># Turns off the option.</span>
set -[a-z]  <span class="docEmphasis"># Abbreviation for an option; the minus turns it on.</span>
set +[a-z]  <span class="docEmphasis"># Abbreviation for an option; the plus turns it off.</span>
</pre>
    </td>
  </tr>
</table>

<h5 id="ch11list08" class="docExampleTitle">Example 11.8 </h5>
<pre>1   set -o allexport
2   set +o allexport
3   set -a
4   set +a
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Sets the <span class="docEmphasis">allexport</span>
      option. This option causes all variables to be automatically exported to
      subshells.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Unsets the <span class="docEmphasis">allexport</span>
      option. All variables will now be local in the current shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Sets the <span class="docEmphasis">allexport</span>
      option. Same as 1. Not every option has an abbreviation. (See
      <a class="docLink" href="#ch11table01">Table 11.1</a>.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Unsets the <span class="docEmphasis">allexport</span>
      option. Same as 2.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list09" class="docExampleTitle">Example 11.9 </h5>
<pre>1 $ <span class="docEmphStrong">set -o</span>
  <span class="docEmphasis">braceexpand    on</span>
  <span class="docEmphasis">errexit        off</span>
  <span class="docEmphasis">hashall        on</span>
  <span class="docEmphasis">histexpand     on</span>
  <span class="docEmphasis">keyword        off</span>
  <span class="docEmphasis">monitor        on</span>
  <span class="docEmphasis">noclobber      off</span>
  <span class="docEmphasis">noexec         off</span>
  <span class="docEmphasis">noglob         off</span>
  <span class="docEmphasis">notify         off</span>
  <span class="docEmphasis">nounset        off</span>
  <span class="docEmphasis">onecmd         off</span>
  <span class="docEmphasis">physical       off</span>
  <span class="docEmphasis">privileged     off</span>
  <span class="docEmphasis">verbose        off</span>
  <span class="docEmphasis">xtrace         off</span>
  <span class="docEmphasis">history        on</span>
  <span class="docEmphasis">ignoreeof      off</span>
  <span class="docEmphasis">interactive-comments on</span>
  <span class="docEmphasis">posix          off</span>
  <span class="docEmphasis">emacs          off</span>
  <span class="docEmphasis">vi             on</span>

2  $ <span class="docEmphStrong">set -o noclobber</span>
3  $ date &gt; outfile
4  $ ls &gt; outfile
   <span class="docEmphasis">bash: outfile: Cannot clobber existing file.</span>
5  $ <span class="docEmphStrong">set +o noclobber</span>
6  $ ls &gt; outfile
7  $ <span class="docEmphStrong">set -C</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">With the <span class="docEmphasis">-o</span> option,
      the set command lists all the options currently set or not set.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">To set an option, the <span class="docEmphasis">-o</span>
      option is used. The <span class="docEmphasis">noclobber</span> option is
      set. It protects you from overwriting files when using redirection.
      Without <span class="docEmphasis">noclobber,</span> the file to the right
      of the &gt; symbol is truncated if it exists, and created if it doesn't
      exist.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the UNIX <span class="docEmphasis">date</span>
      command is redirected to a file called <span class="docEmphasis">outfile.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This time, the <span class="docEmphasis">outfile</span>
      exists. By attempting to redirect the output of <span class="docEmphasis">
      ls</span> to <span class="docEmphasis">outfile,</span> the shell complains
      that the file already exists. Without <span class="docEmphasis">noclobber</span>
      set, it would be clobbered.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">With the <span class="docEmphasis">+o</span> option to
      the set command, <span class="docEmphasis">noclobber</span> is turned off.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This time, trying to overwrite
      <span class="docEmphasis">outfile</span> is fine because
      <span class="docEmphasis">noclobber</span> is no longer set.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Using the <span class="docEmphasis">-C</span> switch to
      the <span class="docEmphasis">set</span> command is an alternate way of
      turning on <span class="docEmphasis">noclobber.</span>
      <span class="docEmphasis">+C</span> would turn it off.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
shopt</span> Built-In (Version 2.x+).</span> The <span class="docEmphasis">shopt
(shell options)</span> built-in command is used in newer versions of
<span class="docEmphasis">bash</span> as an alternative to the
<span class="docEmphasis">set</span> command. In many ways
<span class="docEmphasis">shopt</span> duplicates the <span class="docEmphasis">
set</span> built-in command, but it adds more options for configuring the shell.
See <a class="docLink" href="#ch11table27">
Table 11.27</a> for a list of all the <span class="docEmphasis">shopt</span>
options. In the following example, <span class="docEmphasis">shopt</span> with
the <span class="docEmphasis">-p</span> option prints all the available options
settings. The <span class="docEmphasis">-u</span> switch indicates an unset
option and <span class="docEmphasis">-s</span> indicates one that is currently
set.</p>
<h5 id="ch11list10" class="docExampleTitle">Example 11.10 </h5>
<pre>1   $ <span class="docEmphStrong">shopt -p</span>
    <span class="docEmphasis">shopt -u cdable_vars</span>
    <span class="docEmphasis">shopt -u cdspell</span>
    <span class="docEmphasis">shopt -u checkhash</span>
    <span class="docEmphasis">shopt -u checkwinsize</span>
    <span class="docEmphasis">shopt -s cmdhist</span>
    <span class="docEmphasis">shopt -u dotglob</span>
    <span class="docEmphasis">shopt -u execfail</span>
    <span class="docEmphasis">shopt -s expand_aliases</span>
    <span class="docEmphasis">shopt -u extglob</span>
    <span class="docEmphasis">shopt -u histreedit</span>
    <span class="docEmphasis">shopt -u histappend</span>
    <span class="docEmphasis">shopt -u histverify</span>
    <span class="docEmphasis">shopt -s hostcomplete</span>
    <span class="docEmphasis">shopt -u huponexit</span>
    <span class="docEmphasis">shopt -s interactive_comments</span>
    <span class="docEmphasis">shopt -u lithist</span>
    <span class="docEmphasis">shopt -u mailwarn</span>
    <span class="docEmphasis">shopt -u nocaseglob</span>
    <span class="docEmphasis">shopt -u nullglob</span>
    <span class="docEmphasis">shopt -s promptvars</span>
    <span class="docEmphasis">shopt -u restricted_shell</span>
    <span class="docEmphasis">shopt -u shift_verbose</span>
    <span class="docEmphasis">shopt -s sourcepath</span>

2   $ <span class="docEmphStrong">shopt -s cdspell</span>
3   $ <span class="docEmphStrong">shopt -p cdspell</span>
    <span class="docEmphasis">shopt -s cdspell</span>
4   $ <span class="docEmphStrong">cd /hame</span>
    <span class="docEmphasis">/home</span>
5   $ <span class="docEmphStrong">pwd</span>
    <span class="docEmphasis">/home</span>
6   $ <span class="docEmphStrong">cd /ur/lcal/ban</span>
    <span class="docEmphasis">/usr/local/man</span>
7   $ <span class="docEmphStrong">shopt -u cdspell</span>
8   $ <span class="docEmphStrong">shopt -p cdspell</span>
    <span class="docEmphasis">shopt -u cdspell</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">With the <span class="docEmphasis">-p</span> (print)
      option, the <span class="docEmphasis">shopt</span> command lists all
      settable shell options and their current values, either set (<span class="docEmphasis">-s</span>)
      or unset (<span class="docEmphasis">-u</span>).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">With the <span class="docEmphasis">-s</span> option,
      <span class="docEmphasis">shopt</span> sets (or turns on) an option. The
      <span class="docEmphasis">cdspell</span> option causes the shell to
      correct minor spelling errors on directory names given as arguments to the
      <span class="docEmphasis">cd</span> command. It will correct simple typos,
      insert missing letters, and even transpose letters if it can.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">With the <span class="docEmphasis">-p</span> option and
      the name of the option, <span class="docEmphasis">shopt</span> indicates
      whether the option is set. The option has been set (<span class="docEmphasis">-s</span>).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">In this example, the user tries to
      <span class="docEmphasis">cd</span> to his home directory, but misspells
      <span class="docEmphasis">home.</span> The shell fixes the spelling; i.e.,
      <span class="docEmphasis">hame</span> becomes <span class="docEmphasis">
      home.</span> The directory is changed to <span class="docEmphasis">/home.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">pwd</span>
      command displays the current working directory, showing that the directory
      was really changed even though the user spelled it wrong.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This time the directory name is missing letters and has
      a misspelling for the last entry, <span class="docEmphasis">ban.</span>
      The shell makes a pretty good attempt to spell out the correct pathname by
      inserting the missing letters, and correcting <span class="docEmphasis">
      ban</span> to <span class="docEmphasis">man.</span> Because the
      <span class="docEmphasis">b</span> in <span class="docEmphasis">ban</span>
      is the first misspelled character, the shell searches in the directory for
      an entry that might end with <span class="docEmphasis">a</span> and
      <span class="docEmphasis">n.</span> It finds <span class="docEmphasis">
      man.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">With the <span class="docEmphasis">-u</span> switch<sup class="docFootnote"><a class="docLink" href="#ch11fn06">[a]</a></sup>,
      <span class="docEmphasis">shopt</span> unsets (or turns off ) the option.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">With the <span class="docEmphasis">-p</span> switch and
      the name of the option, <span class="docEmphasis">shopt</span> indicates
      whether the option is set. The <span class="docEmphasis">cdspell</span>
      option has been unset (<span class="docEmphasis">-u</span>).</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<blockquote>
  <p class="docFootnote"><sup><a name="ch11fn06">[a]</a></sup> The words switch
  or option are interchangeable. They are arguments to a command that contain a
  leading dash.</p>
</blockquote>
<h4 class="docSection2Title" id="ch11lev2sec5">11.1.5 The Prompts</h4>
<p class="docText">When used interactively, the shell prompts you for input.
When you see the prompt, you know that you can start typing commands. The
<span class="docEmphasis">bash</span> shell provides four prompts: the primary
prompt is a dollar sign (<span class="docEmphasis">$</span>), and the secondary
prompt is a right angle bracket symbol (<span class="docEmphasis">&gt;</span>). The
third and fourth prompts, <span class="docEmphasis">PS3</span> and
<span class="docEmphasis">PS4</span> respectively, will be discussed later. The
prompts are displayed when the shell is running interactively. You can change
these prompts.</p>
<p class="docText">The variable <span class="docEmphasis">PS1</span> is set to a
string containing the primary prompt. Its value, the dollar sign, appears when
you log on and waits for user input, normally a UNIX command. The variable
<span class="docEmphasis">PS2</span> is the secondary prompt, initially set to
the right angle bracket character (&gt;). It appears if you have partially typed a
command and then pressed Enter. You can change the primary and secondary
prompts.</p>
<p class="docText"><b>The Primary Prompt.</b> The dollar sign (or
<span class="docEmphasis">bash $</span>) is the default primary prompt. You can
change your prompt. Normally prompts are defined in <span class="docEmphasis">
/etc/bashrc</span> or the user initialization file, <span class="docEmphasis">.bash_profile,</span>
or <span class="docEmphasis">.profile</span> (Bourne shell).</p>
<h5 id="ch11list11" class="docExampleTitle">Example 11.11 </h5>
<pre>1   $ <span class="docEmphStrong">PS1=&quot;$(uname -n) &gt; &quot;</span>
2   <span class="docEmphasis">chargers &gt;</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The default primary prompt is a dollar sign (<span class="docEmphasis">bash</span>
      <span class="docEmphasis">$</span>). The <span class="docEmphasis">PS1</span>
      prompt is being reset to the name of the machine<sup class="docFootnote"><a class="docLink" href="#ch11fn07">[a]</a></sup>(<span class="docEmphasis">uname
      -n</span>) and a <span class="docEmphasis">&gt;</span> symbol.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The new prompt is displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<blockquote>
  <p class="docFootnote"><sup><a name="ch11fn07">[a]</a></sup> The command,
  <span class="docEmphasis">uname -n</span>, is executed because it is enclosed
  in a set of parentheses preceded by a dollar sign. An alternative would be to
  enclose the command in backquotes. See &quot;<a class="docLink" href="#ch11lev2sec18">Command
  Substitution</a>&quot;.)</p>
</blockquote>
<p class="docText"><b>Setting the Prompt with Special Escape Sequences.</b> By
inserting special backslash/escape sequences into the prompt string, you can
customize the prompts. <a class="docLink" href="#ch11table02">Table 11.2</a>
lists the special sequences.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table02" class="docTableTitle">Table 11.2. Prompt String Settings</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Backslash Sequence</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">What
    It Evaluates To</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\t</span>
    </td>
    <td class="docTableCell" vAlign="top">The current time in HH:MM:SS format.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\d</span>
    </td>
    <td class="docTableCell" vAlign="top">The date in &quot;Weekday Month Date&quot;
    format (e.g., Tue May 26). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\n</span>
    </td>
    <td class="docTableCell" vAlign="top">Newline. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\s</span>
    </td>
    <td class="docTableCell" vAlign="top">The name of the shell, the basename of
    $0 (the portion following the final slash). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\w</span>
    </td>
    <td class="docTableCell" vAlign="top">The current working directory. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\W</span>
    </td>
    <td class="docTableCell" vAlign="top">The basename of the current working
    directory. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\u</span>
    </td>
    <td class="docTableCell" vAlign="top">The username of the current user. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\h</span>
    </td>
    <td class="docTableCell" vAlign="top">The hostname. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\#</span>
    </td>
    <td class="docTableCell" vAlign="top">The command number of this command.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\!</span>
    </td>
    <td class="docTableCell" vAlign="top">The history number of this command.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\$</span>
    </td>
    <td class="docTableCell" vAlign="top">If the effective UID is 0, a #,
    otherwise a <span class="docEmphasis">$.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\nnn</span>
    </td>
    <td class="docTableCell" vAlign="top">The character corresponding to the
    octal number <span class="docEmphasis">nnn.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\\</span>
    </td>
    <td class="docTableCell" vAlign="top">Backslash. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\[</span>
    </td>
    <td class="docTableCell" vAlign="top">Begin a sequence of nonprinting
    characters; could be used to embed a terminal control sequence into the
    prompt. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\]</span>
    </td>
    <td class="docTableCell" vAlign="top">End a sequence of nonprinting
    characters. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top" colSpan="2">
    <span class="docEmphBoldItalic">New in bash Version 2.x+:</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\a</span>
    </td>
    <td class="docTableCell" vAlign="top">The ASCII bell character. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\@</span>
    </td>
    <td class="docTableCell" vAlign="top">The current time in 12-hour AM/PM
    format. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\H</span>
    </td>
    <td class="docTableCell" vAlign="top">The hostname. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\T</span>
    </td>
    <td class="docTableCell" vAlign="top">The current time in 12-hour format:
    HH:MM:SS. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\e</span>
    </td>
    <td class="docTableCell" vAlign="top">The ASCII escape character (033). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\v</span>
    </td>
    <td class="docTableCell" vAlign="top">The version of
    <span class="docEmphasis">bash,</span> e.g., 2.03. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\V</span>
    </td>
    <td class="docTableCell" vAlign="top">The release and pathlevel of
    <span class="docEmphasis">bash;</span> e.g., 2.03.0. </td>
  </tr>
</table>

<h5 id="ch11list12" class="docExampleTitle">Example 11.12 </h5>
<pre>1   $  <span class="docEmphStrong">PS1=&quot;[\u@\h \W]\\$ &quot;</span>
    <span class="docEmphasis">[ellie@homebound ellie]$</span>

2   $  <span class="docEmphStrong">PS1=&quot;\W:\d&gt; &quot;</span>
    <span class="docEmphasis">ellie:Tue May 18&gt;</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">You customize the primary <span class="docEmphasis">
      bash</span> prompt using special backslash/escape sequences.
      <span class="docEmphasis">\u</span> evaluates to the user's login name,
      <span class="docEmphasis">\h</span> to the host machine, and
      <span class="docEmphasis">\W</span> is the basename for the current
      working directory. There are two backslashes. The first backslash escapes
      the second backslash, resulting in <span class="docEmphasis">\$.</span>
      The dollar sign is protected from shell interpretation and thus printed
      literally.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The primary prompt is assigned
      <span class="docEmphasis">\W,</span> the escape sequence evaluating to the
      basename of the current working directory, and <span class="docEmphasis">
      \d,</span> the escape sequence evaluating to today's date.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Secondary Prompt.</b> The <span class="docEmphasis">
PS2</span> variable is assigned a string called the secondary prompt. Its value
is displayed to standard error, which is the screen by default. This prompt
appears when you have not completed a command or more input is expected. The
default secondary prompt is <span class="docEmphStrong">&gt;.</span></p>
<h5 id="ch11list13" class="docExampleTitle">Example 11.13 </h5>
<pre>1   $ echo &quot;Hello
2   <span class="docEmphStrong">&gt;</span> there&quot;
3   <span class="docEmphasis">Hello</span>
    <span class="docEmphasis">there</span>
4   $

5   $ <span class="docEmphStrong">PS2=&quot;----&gt; &quot;</span>
6   $ echo 'Hi
7   <span class="docEmphStrong">------&gt;</span>
    <span class="docEmphStrong">------&gt;</span>
    <span class="docEmphStrong">------&gt;</span>there'
     <span class="docEmphasis">Hi</span>


    <span class="docEmphasis">there</span>
    $

8 $ <span class="docEmphStrong">PS2=&quot;\s:PS2 &gt; &quot;</span>
  $ echo 'Hello
   bash:PS2 &gt; what are
   bash:PS2 &gt; you
   bash:PS2 &gt; trying to do?
   bash:PS2 &gt; '
   Hello
   what are
   you
   trying to do?
$
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The double quotes must be matched after the string &quot;<span class="docEmphasis">Hello.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When a newline is entered, the secondary prompt
      appears. Until the closing double quotes are entered, the secondary prompt
      will be displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">echo</span>
      command is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The primary prompt is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The secondary prompt is reset.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The single quote must be matched after the string
      <span class="docEmphasis">'Hi.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When a newline is entered, the new secondary prompt
      appears. Until the closing single quote is entered, the secondary prompt
      will be displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">PS2</span> prompt is set
      to the name of the shell (<span class="docEmphasis">\s</span>) followed by
      a string consisting of a colon, <span class="docEmphasis">PS2</span> and
      &gt;, followed by a space.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Search Path.</b> <span class="docEmphasis">Bash</span>
uses the <span class="docEmphasis">PATH</span> variable to locate commands typed
at the command line. The path is a colon-separated list of directories used by
the shell when searching for commands. The default path is system-dependent, and
is set by the administrator who installs <span class="docEmphasis">bash.</span>
The path is searched from left to right. The dot at the end of the path
represents the current working directory. If the command is not found in any of
the directories listed in the path, the shell sends to standard error the
message <span class="docEmphasis">filename: not found.</span> The path is
normally set in the <span class="docEmphasis">.bash_profile</span> if running
the <span class="docEmphasis">bash shell</span> or <span class="docEmphasis">
.profile</span> file if using <span class="docEmphasis">sh,</span> the Bourne
shell.</p>
<p class="docText">If the dot is not included in the path and you are executing
a command or script from the current working directory, the name of the script
must be preceded with a <span class="docEmphasis">./,</span> such as
<span class="docEmphasis">./program_name,</span> so that shell can find the
program.</p>
<h5 id="ch11list14" class="docExampleTitle">Example 11.14 </h5>
<pre>(Printing the PATH)
1   $ <span class="docEmphStrong">echo $PATH</span>
    <span class="docEmphasis">/usr/gnu/bin:/usr/local/bin:/usr/ucb:/bin:/usr/bin:.</span>

(Setting the PATH)
2   $ <span class="docEmphStrong">PATH=$HOME:/usr/ucb:/usr:/usr/bin:/usr/local/bin:</span>
3   $ <span class="docEmphStrong">export PATH</span>
4   $ <span class="docEmphStrong">runit</span>
    <span class="docEmphasis">bash: runit: command not found</span>
5   $ <span class="docEmphStrong">./runit</span>
    <span class="docEmphasis">&lt; program starts running here &gt;</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">By echoing <span class="docEmphasis">$PATH,</span> the
      value of the <span class="docEmphasis">PATH</span> variable is displayed.
      The path consists of a list of colon-separated elements and is searched
      from left to right. The dot at the end of the path represents the user's
      current working directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">To set the path, a list of colon-separated directories
      are assigned to the <span class="docEmphasis">PATH</span> variable. Note
      that in this path, the dot is not at the end of the path, perhaps as a
      security measure.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">By exporting the path, child processes will have access
      to it. It is not necessary to export the PATH on a separate line: It could
      be written as follows: <span class="docEmphBoldItalic">export PATH=$HOME:/usr/ucb:/bin:.</span>,
      etc., on the same line.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Because the dot is not in the search path, when the
      <span class="docEmphasis">runit</span> program is executed in the present
      working directory, <span class="docEmphasis">bash</span> can't find it.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Because the program name is preceded with a dot and a
      slash (./), the shell will be able to find it, and execute it, if it is
      the current working directory.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
hash</span> Command.</span> The <span class="docEmphasis">hash</span> command
controls the internal hash table used by the shell to improve efficiency in
searching for commands. Instead of searching the path each time a command is
entered, the first time you type a command, the shell uses the search path to
find the command, and then stores it in a table in the shell's memory. The next
time you use the same command, the shell uses the <span class="docEmphasis">hash</span>
table to find it. This makes it much faster to access a command than having to
search the complete path. If you know that you will be using a command often,
you can add the command to the <span class="docEmphasis">hash</span> table. You
can also remove commands from the table. The output of the
<span class="docEmphasis">hash</span> command displays the number of times the
shell has used the table to find a command (<span class="docEmphasis">hits</span>)
and the full pathname of the command. The <span class="docEmphasis">hash</span>
command with the <span class="docEmphasis">-r</span> option clears the hash
table. An argument of - - disables option checking for the rest of the
arguments. Hashing is automatically implemented by <span class="docEmphasis">
bash.</span> Although you can turn it off, if there isn't any compelling reason
to do so, don't.</p>
<h5 id="ch11list15" class="docExampleTitle">Example 11.15 </h5>
<pre>(Printing the PATH)

(Command line)
1   <span class="docEmphStrong">hash</span>
    <span class="docEmphasis">hits   command</span>
    <span class="docEmphasis">1      /usr/bin/mesg</span>
    <span class="docEmphasis">4      /usr/bin/man</span>
    <span class="docEmphasis">2      /bin/ls</span>

2   <span class="docEmphStrong">hash -r</span>
3   <span class="docEmphStrong">hash</span>
    <span class="docEmphasis">No commands in hash table</span>

4   <span class="docEmphStrong">hash find</span>
    <span class="docEmphasis">hits    command</span>
    <span class="docEmphasis">0       /usr/bin/find</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">hash</span> command
      displays the full pathname of commands that have been executed in this
      login session.(Built-in commands are not listed) The number of hits is the
      number of times the <span class="docEmphasis">hash</span> table has been
      used to find the command.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">-r</span> option to the
      <span class="docEmphasis">hash</span> command erases all remembered
      locations in the <span class="docEmphasis">hash</span> table.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After the <span class="docEmphasis">-r</span> option
      was used in the last command, the <span class="docEmphasis">hash</span>
      command reports that there are no commands currently in the table.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If you know you are going to use a command often, you
      can add it to the <span class="docEmphasis">hash</span> table by giving it
      as an argument to the <span class="docEmphasis">hash</span> command. The
      <span class="docEmphasis">find</span> command has been added. The table
      has zero hits because the command hasn't been used yet.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
source</span> or <span class="docEmphasis">dot</span> Command.</span> The
<span class="docEmphasis">source</span> command (from the C shell) is a built-in
<span class="docEmphasis">bash</span> shell command. The
<span class="docEmphasis"><tt>dot</tt></span> command, simply a period, (from
the Bourne shell) is another name for <span class="docEmphasis">source.</span>
Both commands take a scriptname as an argument. The script will be executed in
the environment of the current shell; that is, a child process will not be
started. All variables set in the script will become part of the current shell's
environment. Likewise, all variables set in the current shell will become part
of the script's environment. The <span class="docEmphasis">source</span> (or
<span class="docEmphasis">dot</span>) command is normally used to reexecute any
of the initialization files, e.g., <span class="docEmphasis">.bash_profile,</span>
<span class="docEmphasis">.profile,</span> etc, if they have been modified. For
example, if one of the settings, such as the <span class="docEmphasis">EDITOR</span>
or <span class="docEmphasis">TERM</span> variable, has been changed in the
<span class="docEmphasis">.bash_profile</span> since you logged on, you can use
the <span class="docEmphasis">source</span> command to reexecute commands in the
<span class="docEmphasis">.bash_profile</span> without logging out and then
logging back on. A file, such as <span class="docEmphasis">.bash_profile,</span>
or for that matter any shell script, does not need execute permissions to be
sourced with either the <span class="docEmphasis">dot</span> or the
<span class="docEmphasis">source</span> commands.</p>
<h5 id="ch11list16" class="docExampleTitle">Example 11.16 </h5>
<pre>$ <span class="docEmphStrong">source .bash_profile</span>
$ <span class="docEmphStrong">. .bash_profile</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The <span class="docEmphasis">source or dot</span>
    command executes the initialization file, <span class="docEmphasis">.bash_profile,</span>
    within the context of the current shell. Local and global variables are
    redefined within this shell. The <span class="docEmphasis">dot</span>
    command makes it unnecessary to log out and then log back in again after the
    file has been modified.<sup class="docFootnote"><a class="docLink" href="#ch11fn08">[a]</a></sup></td>
  </tr>
</table>

<blockquote>
  <p class="docFootnote"><sup><a name="ch11fn08">[a]</a></sup> If the
  <span class="docEmphasis">.bash_profile</span> were executed directly as a
  script, a child shell would be started. Then the variables would be set in the
  child shell, and when the child shell exited, the parent shell would not have
  any of the settings available to it.</p>
</blockquote>
<h4 class="docSection2Title" id="ch11lev2sec6">11.1.6 The Command Line</h4>
<p class="docText">After you log on, the <span class="docEmphasis">bash</span>
shell displays its primary prompt, a dollar sign by default. The shell is your
command interpreter. When the shell is running interactively, it reads commands
from the terminal and breaks the command line into words. A command line
consists of one or more words (or tokens), separated by whitespace (blanks
and/or tabs), and terminated with a newline, generated by pressing the Enter
key. The first word is the command, and subsequent words are the command's
arguments. The command may be a UNIX executable program such as
<span class="docEmphasis">ls</span> or <span class="docEmphasis">date,</span> a
user-defined function, a built-in command such as <span class="docEmphasis">cd</span>
or <span class="docEmphasis">pwd,</span> or a shell script. The command may
contain special characters, called metacharacters, which the shell must
interpret while parsing the command line. If a command line is too long, the
backslash character, followed by a newline, will allow you to continue typing on
the next line. The secondary prompt will appear until the command line is
terminated.</p>
<p class="docText"><b>The Order of Processing Commands.</b> The first word on
the command line is the command to be executed. The command may be a keyword, an
alias, a function, a special built-in command or utility, an executable program,
or a shell script. The command is executed according to its type in the
following order:</p>
<span style="FONT-WEIGHT: bold">
<ol class="docList" type="1">
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Aliases</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Keywords (such as <span class="docEmphasis">if, function,
  while, until</span>)</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Functions</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Built-in commands</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Executables and scripts</span></li>
</ol>
</span>
<p class="docText">Special built-in commands and functions are defined within
the shell, and therefore are executed from within the context of the current
shell, making them much faster in execution. Scripts and executable programs
such as <span class="docEmphasis">ls</span> and <span class="docEmphasis">date</span>
are stored on disk, and the shell, in order to execute them, must first locate
them within the directory hierarchy by searching the <span class="docEmphasis">
PATH</span> environment variable; the shell then forks a new shell that executes
the script. To find out the type of command you are using—i.e., a built-in
command, an alias, a function, or an executable, etc.—use the built-in
<span class="docEmphasis">type</span> command. (See
<a class="docLink" href="#ch11list17">Example 11.17</a>.)</p>
<h5 id="ch11list17" class="docExampleTitle">Example 11.17 </h5>
<pre>$ <span class="docEmphStrong">type pwd</span>
<span class="docEmphasis">pwd is a shell builtin</span>
$ <span class="docEmphStrong">type test</span>
<span class="docEmphasis">test is a shell builtin</span>
$ <span class="docEmphStrong">type clear</span>
<span class="docEmphasis">clear is /usr/bin/clear</span>
$ <span class="docEmphStrong">type m</span>
<span class="docEmphasis">m is aliased to 'more'</span>
$ <span class="docEmphStrong">type bc</span>
<span class="docEmphasis">bc is /usr/bin/bc</span>
$ <span class="docEmphStrong">type if</span>
<span class="docEmphasis">if is a shell keyword</span>
$ <span class="docEmphStrong">type -path cal</span>
<span class="docEmphasis">/usr/bin/cal</span>
$ <span class="docEmphStrong">type which</span>
<span class="docEmphasis">which is aliased to 'type -path'</span>
$ <span class="docEmphStrong">type greetings</span>
<span class="docEmphasis">greetings is a function</span>
<span class="docEmphasis">greetings ()</span>
{
       echo &quot;Welcome to my world!&quot;;
}
</pre>
<p class="docText"><span class="docEmphStrong">Built-In Commands and the
<span class="docEmphasis">help</span> Command.</span> Built-in commands are
commands that are part of the internal source code for the shell. They are
built-in and readily available to the shell, whereas commands such as
<span class="docEmphasis">date, cal,</span> and <span class="docEmphasis">finger</span>
are compiled binary programs that reside on the disk. There is less overhead in
executing a built-in because it involves no disk operations. Built-in commands
are executed by the shell before the programs on disk. <span class="docEmphasis">
Bash</span> has added a new online help system so that you can see all the
built-ins, or a description for a particular built-in; <span class="docEmphasis">
help</span> itself is a built-in command. See
<a class="docLink" href="#ch11table28">Table
11.28</a> for a complete list of built-in commands.</p>
<h5 id="ch11list18" class="docExampleTitle">Example 11.18 </h5>
<pre>1   $ <span class="docEmphStrong">help help</span>
    <span class="docEmphasis">help: help [pattern ...]</span>
    <span class="docEmphasis">Display helpful information about built-in commands. if PATTERN</span>
    <span class="docEmphasis">is specified, gives detailed help on all commands matching</span>
    <span class="docEmphasis">PATTERN, otherwise a list of the built-ins is printed.</span>

2   $ <span class="docEmphStrong">help pw</span>
    <span class="docEmphasis">pwd: pwd</span>
        <span class="docEmphasis">Print the current working directory.</span>
</pre>
<p class="docText"><b>Changing the Order of Command Line Processing.</b>
<span class="docEmphasis">Bash</span> provides three built-in commands that can
override the order of command line processing: <span class="docEmphasis">
command,</span> <span class="docEmphasis">builtin,</span> and
<span class="docEmphasis">enable.</span></p>
<p class="docText">The <span class="docEmphasis">command</span> built-in
eliminates aliases and functions from being looked up in the order of
processing. Only built-ins and executables, found in the search path, will be
processed.</p>
<p class="docText">The <span class="docEmphasis">builtin</span> command looks up
only built-ins, ignoring functions and executables found in the path.</p>
<p class="docText">The <span class="docEmphasis">enable</span> built-in command
turns built-ins on and off. By default, built-ins are enabled. Disabling a
built-in allows an executable command found on the disk to be to be executed
without specifying a full pathname, even if it has the same name as a built-in.
(In normal processing, <span class="docEmphasis">bash</span> searches for
built-ins before disk executable commands.) Built-ins become disabled by using
the <span class="docEmphasis">-n</span> switch. For example, a classic confusion
for new shell programmers is naming a script <span class="docEmphasis">test.</span>
Because <span class="docEmphasis">test</span> is a built-in command, the shell
will try to execute it rather than the user's script (a built-in is normally
executed before any executable program). By typing: <span class="docEmphasis">
enable -n test,</span> the <span class="docEmphasis">test</span> built-in is
disabled, and the user's script will take precedence.</p>
<p class="docText">Without options, the <span class="docEmphasis">enable</span>
built-in prints a list of all the built-ins. Each of the following built-ins are
described in &quot;<a class="docLink" href="#ch11lev2sec29">Shell
Built-In Commands</a>&quot;.</p>
<h5 id="ch11list19" class="docExampleTitle">Example 11.19 </h5>
<pre>1   $ <span class="docEmphStrong">enable</span>
    <span class="docEmphasis">enable .</span>
    <span class="docEmphasis">enable :</span>
    <span class="docEmphasis">enable [</span>
    <span class="docEmphasis">enable alias</span>
    <span class="docEmphasis">enable bg</span>
    <span class="docEmphasis">enable bind</span>
    <span class="docEmphasis">enable break</span>
    <span class="docEmphasis">enable builtin</span>
    <span class="docEmphasis">enable cd</span>
    <span class="docEmphasis">enable command</span>
    <span class="docEmphasis">enable continue</span>
    <span class="docEmphasis">enable declare</span>
    <span class="docEmphasis">enable dirs</span>
        <span class="docEmphasis">.....</span>
    <span class="docEmphasis">enable read</span>
    <span class="docEmphasis">enable readonly</span>
    <span class="docEmphasis">enable return</span>
    <span class="docEmphasis">enable set</span>
    <span class="docEmphasis">enable shift</span>
    <span class="docEmphasis">enable shopt</span>
       <span class="docEmphasis">.....</span>
    <span class="docEmphasis">enable type</span>
    <span class="docEmphasis">enable typeset</span>
    <span class="docEmphasis">enable ulimit</span>
    <span class="docEmphasis">enable umask</span>
    <span class="docEmphasis">enable unalias</span>
    <span class="docEmphasis">enable unset</span>
    <span class="docEmphasis">enable wait</span>

2   <span class="docEmphStrong">enable -n test</span>

3   <span class="docEmphStrong">function cd</span> { <span class="docEmphStrong">builtin cd;</span> <span class="docEmphStrong">echo $PWD;</span> }
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">enable</span> built-in,
      without any options, displays a complete list of all
      <span class="docEmphasis">bash</span> shell built-in commands. This
      example shows just part of that list.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">With the <span class="docEmphasis">-n</span> switch,
      the <span class="docEmphasis">test</span> built-in command is disabled.
      Now, you execute your script named <span class="docEmphasis">test</span>
      without worrying about the built-in <span class="docEmphasis">test</span>
      being executed instead. It's not good practice to name a script by the
      same name as an operating system command, because if you try to run the
      same script in another shell, the disabling of built-ins doesn't exist.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The function is called <span class="docEmphasis">cd.</span>
      The <span class="docEmphasis">builtin</span> command causes the
      <span class="docEmphasis">cd</span> within the function definition to be
      called instead of the function <span class="docEmphasis">cd,</span> which
      would cause an endless recursive loop.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Exit Status.</b> After a command or program
terminates, it returns an exit status to the parent process. The exit status is
a number between 0 and 255. By convention, when a program exits, if the status
returned is zero, the command was successful in its execution. When the exit
status is nonzero, the command failed in some way. If a command is not found by
the shell, the exit status returned is 127. If a fatal signal causes the command
to terminate, the exit status is 128 plus the value of the signal that caused it
to die.</p>
<p class="docText">The shell status variable, <span class="docEmphasis">?,</span>
is set to the value of the exit status of the last command that was executed.
Success or failure of a program is determined by the programmer who wrote the
program.</p>
<h5 id="ch11list20" class="docExampleTitle">Example 11.20 </h5>
<pre>1   $ <span class="docEmphStrong">grep ellie /etc/passwd</span>
    <span class="docEmphasis">ellie:MrHJEFd2YpkJY:501:501::/home/ellie:/bin/bash</span>
2   $ <span class="docEmphStrong">echo $?</span>
    <span class="docEmphasis">0</span>

3   $ <span class="docEmphStrong">grep nicky /etc/passwd</span>
4   $ <span class="docEmphStrong">echo $?</span>
    <span class="docEmphasis">1</span>

5   $ <span class="docEmphStrong">grep ellie /junk</span>
    <span class="docEmphasis">grep: /junk: No such file or directory</span>
6   $ <span class="docEmphStrong">echo $?</span>
    <span class="docEmphasis">2</span>

7   $ <span class="docEmphStrong">grip ellie /etc/passwd</span>
    <span class="docEmphasis">bash: grip: command not found</span>
8   $ <span class="docEmphStrong">echo $?</span>
    <span class="docEmphasis">127</span>

9   $ <span class="docEmphStrong">find / -name core</span> <span class="docEmphasis">^C    User presses Control-C</span>
10  $ <span class="docEmphStrong">echo $?</span>
    <span class="docEmphasis">130</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> program
      searches for the pattern <span class="docEmphasis">ellie</span> in the
      <span class="docEmphasis">/etc/passwd</span> file and is successful. The
      line from <span class="docEmphasis">/etc/passwd</span> is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">?</span> variable is set
      to the exit value of the <span class="docEmphasis">grep</span> command.
      Zero indicates successful status.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> program
      cannot find user <span class="docEmphasis">nicky</span> in the
      <span class="docEmphasis">/etc/passwd</span> file.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> program
      cannot find the pattern; the <span class="docEmphasis">?</span> variable
      return value is nonzero. An exit status of <span class="docEmphasis">1</span>
      indicates failure.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> fails because
      the <span class="docEmphasis">/junk</span> file cannot be opened.The
      <span class="docEmphasis">grep</span> error message is sent to standard
      error, the screen.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If <span class="docEmphasis">grep</span> cannot find
      the file, it returns an exit status of <span class="docEmphasis">2.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grip</span> command is
      not found by the shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Because the command is not found, the exit status,
      <span class="docEmphasis">127,</span> is returned.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The find command is interrupted when the
      <span class="docEmphasis">SIGINT</span> signal is sent by pressing
      Control-C. The signal number for Ctrl-C is 2.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The status returned from a process that has been killed
      is 128 + the number of the signal; i.e., 128 + 2.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Multiple Commands at the Command Line.</b> A command line
can consist of multiple commands. Each command is separated by a semicolon, and
the command line is terminated with a newline. The exit status is that of the
last command in the chain of commands.</p>
<h5 id="ch11list21" class="docExampleTitle">Example 11.21 </h5>
<pre>$ <span class="docEmphStrong">ls; pwd; date</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The commands are executed from left to right, one after
    the other, until the newline is reached.</td>
  </tr>
</table>

<p class="docText"><b>Grouping Commands.</b> Commands may also be grouped so
that all of the output is either piped to another command or redirected to a
file.</p>
<h5 id="ch11list22" class="docExampleTitle">Example 11.22 </h5>
<pre>$ <span class="docEmphStrong">( ls; pwd; date ) &gt; outputfile</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The output of each of the commands is sent to the file
    called <span class="docEmphasis">outputfile.</span> The spaces inside the
    parentheses are necessary.</td>
  </tr>
</table>

<p class="docText"><b>Conditional Execution of Commands.</b> With conditional
execution, two command strings are separated by the special metacharacters,
double ampersands (<span class="docEmphasis">&amp;&amp;</span>) and double vertical bars
(||). The command on the right of either of these metacharacters will or will
not be executed based on the exit condition of the command on the left.</p>
<h5 id="ch11list23" class="docExampleTitle">Example 11.23 </h5>
<pre>$ <span class="docEmphStrong">cc prgm1.c -o prgm1 &amp;&amp; prgm1</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">If the first command is successful (has a zero exit
    status), the command after the <span class="docEmphasis">&amp;&amp;</span> is
    executed; i.e., if the <span class="docEmphasis">cc</span> program can
    successfully compile <span class="docEmphasis">prgm1.c,</span> the resulting
    executable program, <span class="docEmphasis">prgm1,</span> will be
    executed.</td>
  </tr>
</table>

<h5 id="ch11list24" class="docExampleTitle">Example 11.24 </h5>
<pre>$ <span class="docEmphStrong">cc prog.c &gt;&amp; err || mail bob &lt; err</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">If the first command fails (has a nonzero exit status),
    the command after the <span class="docEmphasis">||</span> is executed; i.e.,
    if the <span class="docEmphasis">cc</span> program cannot compile
    <span class="docEmphasis">prog.c,</span> the errors are sent to a file
    called <span class="docEmphasis">err,</span> and user
    <span class="docEmphasis">bob</span> will be mailed the
    <span class="docEmphasis">err</span> file.</td>
  </tr>
</table>

<p class="docText"><b>Commands in the Background.</b> Normally, when you execute
a command, it runs in the foreground, and the prompt does not reappear until the
command has completed execution. It is not always convenient to wait for the
command to complete. When you place an ampersand (<span class="docEmphasis">&amp;</span>)
at the end of the command line, the shell will return the shell prompt
immediately and execute the command in the background concurrently. You do not
have to wait to start up another command. The output from a background job will
be sent to the screen as it processes. Therefore, if you intend to run a command
in the background, the output of that command might be redirected to a file or
piped to another device, such as a printer, so that the output does not
interfere with what you are doing.</p>
<p class="docText">The <span class="docEmphasis">!</span> variable contains the
PID number of the last job put in the background. (See &quot;<a class="docLink" href="#ch11lev2sec7">Job
Control</a>&quot; for more on background processing.)</p>
<h5 id="ch11list25" class="docExampleTitle">Example 11.25 </h5>
<pre>1   $ <span class="docEmphStrong">man sh | lp&amp;</span>
2   <span class="docEmphasis">[1] 1557</span>
3   $ <span class="docEmphStrong">kill -9 $!</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">man</span>
      command (the manual pages for the UNIX command) is piped to the printer.
      The ampersand at the end of the command line puts the job in the
      background.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">There are two numbers that appear on the screen: the
      number in square brackets indicates that this is the first job to be
      placed in the background; the second number is the PID, or the process
      identification number of this job.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The shell prompt appears immediately. While your
      program is running in the background, the shell is waiting for another
      command in the foreground. The <span class="docEmphasis">!</span> variable
      evaluates to the PID of the job most recently put in the background. If
      you get it in time, you will kill this job before it goes to the print
      queue.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec7">11.1.7 Job Control</h4>
<p class="docText">Job control is a powerful feature of the
<span class="docEmphasis">bash</span> shell that allows you to selectivly run
programs, called <span class="docEmphasis">jobs,</span> in the background or
foreground. A running program is called a process or a job and each process has
a process ID number, called the PID. Normally, a command typed at the command
line is running in the foreground and will continue until it has finished unless
you send a signal by pressing Ctrl-C or Ctrl-\ to terminate it. With job control
you can send a job to the background and let it keep running; you can stop a job
by pressing Ctrl-Z, which sends the job to the background and suspends it; you
can cause a stopped job to run in the background; you can bring a background job
back to the foreground; and you can even kill the jobs you have running in the
background or foreground. For a list of job commands, see
<a class="docLink" href="#ch11table03">Table 11.3</a>.</p>
<p class="docText">By default, job control is already set (some older versions
of UNIX do not support this feature). If disabled, it can be reset by any one of
the following commands:</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>set -m           <span class="docEmphasis"># set job control in the .bashrc file</span>
set -o monitor   <span class="docEmphasis"># set job control in the .bashrc file</span>
bash -m -i       <span class="docEmphasis"># set job control when invoking interactive bash</span>
</pre>
    </td>
  </tr>
</table>

<h5 id="ch11list26" class="docExampleTitle">Example 11.26 </h5>
<pre>1   $ <span class="docEmphStrong">vi</span>
    <span class="docEmphasis">[1]+  Stopped     vi</span>

2   $ <span class="docEmphStrong">sleep 25&amp;</span>
    <span class="docEmphasis">[2] 4538</span>

3   $ <span class="docEmphStrong">jobs</span>
    <span class="docEmphasis">[2]+  Running     sleep 25&amp;</span>
    <span class="docEmphasis">[1]-  Stopped       vi</span>

4   $ <span class="docEmphStrong">jobs -l</span>
    <span class="docEmphasis">[2]+ 4538   Running      sleep 25&amp;</span>
    <span class="docEmphasis">[1]- 4537   Stopped        vi</span>

5   $ <span class="docEmphStrong">jobs %%</span>
    <span class="docEmphasis">[2]+ 4538   Running       sleep 25&amp;</span>

6   $ <span class="docEmphStrong">fg %1</span>

7   $ <span class="docEmphStrong">jobs -x echo %1</span>
    <span class="docEmphasis">4537</span>

8   $ <span class="docEmphStrong">kill %1</span>         <span class="docEmphasis"># or</span>  <span class="docEmphBoldItalic">kill 4537</span>
    <span class="docEmphasis">[1]+   Stopped      vi</span>
    <span class="docEmphasis">Vim: Caught deadly signal TERM</span>
    <span class="docEmphasis">Vim: Finished.</span>
    <span class="docEmphasis">[1]+   Exit 1      vi</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After the <span class="docEmphasis">vi</span> editor is
      invoked, you can press ^Z (Control-Z) to suspend the
      <span class="docEmphasis">vi</span> session. The editor will be suspended
      in the background, and after the message <span class="docEmphasis">Stopped</span>
      appears, the shell prompt will appear immediately.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The ampersand at the end of the command causes the
      <span class="docEmphasis">sleep</span> command, with an argument of
      <span class="docEmphasis">25,</span> to execute in the background. The
      notation [<span class="docEmphasis">2</span>] means that this is the
      second job to be run in the background and the PID of this job is
      <span class="docEmphasis">4538.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">jobs</span> command
      displays the jobs currently in the background.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">jobs</span> command with
      the <span class="docEmphasis">-l</span> option displays the processes
      (jobs) running in the background and the PID numbers of those jobs.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The %% argument causes <span class="docEmphasis">jobs</span>
      to display the most recent command put in the job table.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">fg</span> command
      followed by a percent sign and the job number will bring that numbered job
      into the foreground. Without a number, <span class="docEmphasis">fg</span>
      brings the most recently backgrounded job back into the foreground.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">-x</span> option can be
      used to print just the PID number of the job. <span class="docEmphasis">%1</span>
      refers to the <span class="docEmphasis">vi</span> session that was stopped
      in the first example.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">kill</span> command sends
      a <span class="docEmphasis">TERM</span> signal to the process and kills
      it. The <span class="docEmphasis">vi</span> program is killed. You can
      specify either the job number or the PID number as arguments to the
      <span class="docEmphasis">kill</span> command.</span></li>
    </ol>
    </span></td>
  </tr>
</table>
<p>&nbsp;</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table03" class="docTableTitle">Table 11.3. Job Control Commands</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Command</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">jobs</span>
    </td>
    <td class="docTableCell" vAlign="top">Lists all the jobs running. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">^Z (Ctrl-Z)</span>
    </td>
    <td class="docTableCell" vAlign="top">Stops (suspends) the job; the prompt
    appears on the screen. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">bg</span>
    </td>
    <td class="docTableCell" vAlign="top">Starts running the stopped job in the
    background. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">fg</span>
    </td>
    <td class="docTableCell" vAlign="top">Brings a background job to the
    foreground. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">stop</span>
    </td>
    <td class="docTableCell" vAlign="top">Suspends a background job. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">stty tostop</span>
    </td>
    <td class="docTableCell" vAlign="top">Suspends a background job if it sends
    output to the terminal. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">kill</span>
    </td>
    <td class="docTableCell" vAlign="top">Sends the <span class="docEmphasis">
    kill</span> signal to a specified job. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">wait [n]</span>
    </td>
    <td class="docTableCell" vAlign="top">Waits for a specified job and returns
    its exit status, where <span class="docEmphasis">n</span> is a PID or job
    number. </td>
  </tr>
</table>

<p>&nbsp;</p>
<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Argument to</span> <span class="docEmphBoldItalic">jobs</span>
    <span class="docEmphBoldItalic">command</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Represents</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">%n</span>
    </td>
    <td class="docTableCell" vAlign="top">Job number <span class="docEmphasis">
    n.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">%sting</span>
    </td>
    <td class="docTableCell" vAlign="top">Job name starting with string. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">%?string</span>
    </td>
    <td class="docTableCell" vAlign="top">Job name containing string. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">%%</span>
    </td>
    <td class="docTableCell" vAlign="top">Current job. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">%+</span>
    </td>
    <td class="docTableCell" vAlign="top">Current job. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">%-</span>
    </td>
    <td class="docTableCell" vAlign="top">Previous job, before current job. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-r</span>
    </td>
    <td class="docTableCell" vAlign="top">Lists all running jobs. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-s</span>
    </td>
    <td class="docTableCell" vAlign="top">Lists all suspended jobs. </td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">New <span class="docEmphasis">
jobs</span> Options.</span> Two new options were added to the
<span class="docEmphasis">jobs</span> command in <span class="docEmphasis">bash</span>
versions 2.x. They are the <span class="docEmphasis">-r</span> and
<span class="docEmphasis">-s</span> options. The <span class="docEmphasis">-r</span>
option lists all running jobs, and the <span class="docEmphasis">-s</span>
option lists all stopped jobs.</p>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
disown</span> Built-In.</span> The <span class="docEmphasis">disown</span>
built-in command (<span class="docEmphasis">bash</span> 2.x) removes a specified
job from the job table. After the job has been removed, the shell will no longer
recognize it as a viable job process and it can only be referenced by its
process ID number.</p>
<h3 class="docSection1Title" id="ch11lev1sec2">11.2 Command Line Shortcuts</h3>
<h4 class="docSection2Title" id="ch11lev2sec8">11.2.1 Command and Filename Completion</h4>
<p class="docText">To save typing, <span class="docEmphasis">bash</span>
implements command and filename completion, a mechanism that allows you to type
part of a command or filename, press the Tab key, and the rest of the word will
be completed for you.</p>
<p class="docText">If you type the first letters in a command and press the Tab
key, <span class="docEmphasis">bash</span> will attempt to complete the command
and execute it. If <span class="docEmphasis">bash</span> cannot complete the
filename or command, because neither exists, the terminal may beep and the
cursor will stay at the end of the command. If there is more than one command
starting with those characters and you press the Tab key a second time, all
commands that start with those characters will be listed.</p>
<p class="docText">If there are several files starting with the same letters,
<span class="docEmphasis">bash</span> will complete the shortest name that
matches, expand out the filename until the characters differ, and then flash the
cursor for you to complete the rest.</p>
<h5 id="ch11list27" class="docExampleTitle">Example 11.27 </h5>
<pre>1   $ <span class="docEmphStrong">ls</span>
    <span class="docEmphasis">file1 file2 foo foobarckle fumble</span>

2   $ ls <span class="docEmphStrong">fu</span><span class="docEmphasis">[tab]</span>       <span class="docEmphasis"># Expands to filename to</span> <span class="docEmphBoldItalic">fumble</span>

3   $ ls <span class="docEmphStrong">fx</span><span class="docEmphasis">[tab]</span>       <span class="docEmphasis"># Terminal beeps, nothing happens</span>

4   $ ls <span class="docEmphStrong">fi</span><span class="docEmphasis">[tab]</span>       <span class="docEmphasis"># Expands to</span> <span class="docEmphBoldItalic">file</span><span class="docEmphasis">_  (_ is a cursor)</span>

5   $ ls <span class="docEmphStrong">fi</span><span class="docEmphasis">[tab][tab]  # Lists all possibilities</span>
    <span class="docEmphasis">file1 file2</span>

6   $ ls <span class="docEmphStrong">foob</span><span class="docEmphasis">[tab]</span>     <span class="docEmphasis"># Expands to</span> <span class="docEmphBoldItalic">foobarckle</span>

7   $ <span class="docEmphStrong">da</span><span class="docEmphasis">[tab]          # Completes the</span> <span class="docEmphBoldItalic">date</span> <span class="docEmphasis">command</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">Tue Feb 28 18:53:40 PST 2001</span>

8   $ <span class="docEmphStrong">ca</span><span class="docEmphasis">[tab][tab]      # Lists all commands starting with</span> <span class="docEmphBoldItalic">ca</span>
    <span class="docEmphasis">cal    captoinfo  case   cat</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All files are listed for the current working directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">After <span class="docEmphasis">fu</span> is typed, the
      Tab key is pressed, causing the spelling of the filename to be completed
      to <span class="docEmphasis">fumble,</span> and listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Because none of the files start with
      <span class="docEmphasis">fx,</span> the terminal beeps and the cursor
      remains but does nothing. (The terminal may not beep if that feature has
      been disabled.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">There are a number of files starting with
      <span class="docEmphasis">fi;</span> the filenames are completed until the
      letters are no longer the same. If another Tab key is pressed, all files
      with that spelling are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">By pressing two Tab keys, a list of all files beginning
      with <span class="docEmphasis">file</span> is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When the Tab key is pressed, the filename is expanded
      to <span class="docEmphasis">foobarckle.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When the Tab key is pressed after
      <span class="docEmphasis">da,</span> the only command that begins with
      <span class="docEmphasis">da</span> is the <span class="docEmphasis">date</span>
      command. The command name is expanded and executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When the Tab key is pressed after
      <span class="docEmphasis">ca,</span> nothing happens because more than one
      command starts with <span class="docEmphasis">ca.</span> Pressing the Tab
      key twice lists all commands starting with <span class="docEmphasis">ca.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec9">11.2.2 History</h4>
<p class="docText">The history mechanism keeps a history list, a numbered record
of the commands that you have typed at the command line. During a login session,
the commands you type are stored in the the shell's memory in a history
<span class="docEmphasis">list</span> and then appended to the history
<span class="docEmphasis">file</span> when you exit. You can recall a command
from the history list and reexecute it without retyping the command. The
<span class="docEmphasis">history</span> built-in command displays the history
list. The default name for the history file is <span class="docEmphasis">.bash_history,</span>
and it is located in your home directory.</p>
<p class="docText">When <span class="docEmphasis">bash</span> starts accessing
the history file, the <span class="docEmphasis">HISTSIZE</span> variable
specifies how many commands can be copied from the history file into the history
list. The default size is 500. The <span class="docEmphasis">HISTFILE</span>
variable specifies the name of the command history file (<span class="docEmphasis">~/.bash_history</span>
is the default) where commands are stored. If unset, the command history is not
saved when an interactive shell exits.</p>
<p class="docText">The history file grows from one login session to the next.
The <span class="docEmphasis">HISTFILESIZE</span> variable controls the maximum
number of lines contained in the history file. When this variable is assigned a
value, the history file is truncated when it surpasses that number of lines. The
default size is 500.</p>
<p class="docText">The <span class="docEmphasis">fc -l</span> command can be
used to display or edit commands in the history list.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table04" class="docTableTitle">Table 11.4. History Variables</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">FCEDIT</span>
    </td>
    <td class="docTableCell" vAlign="top">The pathname of the UNIX editor that
    uses the <span class="docEmphasis">fc</span> command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTCMD</span>
    </td>
    <td class="docTableCell" vAlign="top">The history number, or index in the
    history list, of the current command. If HISTCMD is unset, it loses its
    special properties, even if it is subsequently reset. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTCONTROL</span>
    </td>
    <td class="docTableCell" vAlign="top">If set to a value of
    <span class="docEmphasis">ignorespace,</span> lines that begin with a space
    character are not entered on the history list. If set to a value of
    <span class="docEmphasis">ignoredups,</span> lines matching the last history
    line are not entered. A value of <span class="docEmphasis">ignoreboth</span>
    combines the two options. If unset, or if set to any other value than those
    above, all lines read by the parser are saved on the history list. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTFILE</span>
    </td>
    <td class="docTableCell" vAlign="top">Specifies file in which to store
    command history. The default value is ~/.<span class="docEmphasis">bash_history.</span>
    If unset, the command history is not saved when an interactive shell exits.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTFILESIZE</span>
    </td>
    <td class="docTableCell" vAlign="top">The maximum number of lines contained
    in the history file. When this variable is assigned a value, the history
    file is truncated, if necessary, to contain no more than that number of
    lines. The default value is 500. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTIGNORE</span>
    </td>
    <td class="docTableCell" vAlign="top">A colon-separated list of patterns
    used to decide which command lines should be saved on the history list. Each
    pattern is anchored to the beginning of the line and consists of normal
    shell pattern matching characters. An &amp; can be used in the pattern causing
    the <span class="docEmphasis">history</span> command to ignore duplicates;
    e.g., <span class="docEmphasis">ty??:&amp;</span> would match for any command
    line starting with <span class="docEmphasis">ty</span> followed by two
    characters, and any duplicates of that command. Those commands would not be
    placed in the history list. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTSIZE</span>
    </td>
    <td class="docTableCell" vAlign="top">The number of commands to remember in
    the command history. The default value is 500. </td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec10">11.2.3 Accessing Commands from the History File</h4>
<p class="docText"><b>The Arrow Keys.</b> To access commands from the history
file, you can use the arrow keys on the keyboard to move up and down through the
history file, and from left to right. You can edit any of the lines from the
history file by using the standard keys for deleting, updating, backspacing,
etc. As soon as you have edited the line, pressing the Enter key will cause the
command line to be reexecuted.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table05" class="docTableTitle">Table 11.5. The Arrow Keys</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <td class="docTableCell" vAlign="top">
    <img src="U2191.GIF" border="0" width="7" height="13">
    </td>
    <td class="docTableCell" vAlign="top">Up arrow moves up the history list.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">
    <img src="U2193.GIF" border="0" width="9" height="17">
    </td>
    <td class="docTableCell" vAlign="top">Down arrow moves down the history
    list. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">
    <img src="U2192.GIF" border="0" width="25" height="13">
    </td>
    <td class="docTableCell" vAlign="top">Right arrow moves cursor to right on
    <span class="docEmphasis">history</span> command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">
    <img src="U2190.GIF" border="0" width="17" height="9">
    </td>
    <td class="docTableCell" vAlign="top">Left arrow moves left on
    <span class="docEmphasis">history</span> command. </td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
history</span> Built-In Command.</span> The <span class="docEmphasis">history</span>
built-in command displays the history of commands typed preceded by an event
number.</p>
<h5 id="ch11list28" class="docExampleTitle">Example 11.28 </h5>
<pre>1   $ <span class="docEmphStrong">history</span>
    <span class="docEmphasis">982  ls</span>
    <span class="docEmphasis">983  for i in 1 2 3</span>
    <span class="docEmphasis">984  do</span>
    <span class="docEmphasis">985  echo $i</span>
    <span class="docEmphasis">986  done</span>
    <span class="docEmphasis">987  echo $i</span>
    <span class="docEmphasis">988  man xterm</span>
    <span class="docEmphasis">989  adfasdfasdfadfasdfasdfadfasdfasdf</span>
    <span class="docEmphasis">990  id -gn</span>
    <span class="docEmphasis">991  id -un</span>
    <span class="docEmphasis">992  id -u</span>
    <span class="docEmphasis">993  man id</span>
    <span class="docEmphasis">994  more /etc/passwd</span>
    <span class="docEmphasis">995  man ulimit</span>
    <span class="docEmphasis">996  man bash</span>
    <span class="docEmphasis">997  man baswh</span>
    <span class="docEmphasis">998  man bash</span>
    <span class="docEmphasis">999  history</span>
    <span class="docEmphasis">1000  history</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The built-in <span class="docEmphasis">history</span>
      command displays a list of numbered commands from the history list. Any
      lines listed with an * have been modified.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">fc</span>
Command.</span> The <span class="docEmphasis">fc</span> command, also called the
<span class="docEmphasis">fix</span> command, can be used in two ways: (1) to
select commands from the history list, and (2) to edit the commands in either
the <span class="docEmphasis">vi</span> or <span class="docEmphasis">emacs</span>
editor, or for that matter, any editor on your system.</p>
<p class="docText">In the first form, <span class="docEmphasis">fc</span> with
the <span class="docEmphasis">-l</span> option can select specific lines or
ranges of lines from the history list. When the <span class="docEmphasis">-l</span>
switch is on, the output goes to the screen. For example,
<span class="docEmphasis">fc -l,</span> the default, prints the last 16 lines
from the history list, <span class="docEmphasis">fc -l 10</span> selects lines
numbered 10 through the end of the list, and <span class="docEmphasis">fc -l -3</span>
selects the last three lines. The -<span class="docEmphasis">n</span> switch
turns off the numbering of commands in the history list. With this option on,
you could select a range of commands and redirect them to a file, which in turn
could be executed as a shell script. The <span class="docEmphasis">-r</span>
switch reverses the order of the commands.</p>
<p class="docText">The second form of <span class="docEmphasis">fc</span> is
described in &quot;Command Line Editing&quot; on page 641.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table06" class="docTableTitle">Table 11.6. The <span class="docEmphasis">fc</span>
  Command</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphStrong">fc</span>
    <span class="docEmphBoldItalic">Argument</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-e editor</span>
    </td>
    <td class="docTableCell" vAlign="top">Puts history list into editor. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-l n-m</span>
    </td>
    <td class="docTableCell" vAlign="top">Lists commands in range from
    <span class="docEmphasis">n</span> to <span class="docEmphasis">m.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-n</span>
    </td>
    <td class="docTableCell" vAlign="top">Turns off numbering of history list.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-r</span>
    </td>
    <td class="docTableCell" vAlign="top">Reverses the order of the history
    list. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-s string</span>
    </td>
    <td class="docTableCell" vAlign="top">Accesses command starting with string.
    </td>
  </tr>
</table>

<h5 id="ch11list29" class="docExampleTitle">Example 11.29 </h5>
<pre>1  $ <span class="docEmphStrong">fc -l</span>
   <span class="docEmphasis">4       ls</span>
   <span class="docEmphasis">5       history</span>
   <span class="docEmphasis">6       exit</span>
   <span class="docEmphasis">7       history</span>
   <span class="docEmphasis">8       ls</span>
   <span class="docEmphasis">9       pwd</span>
  <span class="docEmphasis">10       clear</span>
  <span class="docEmphasis">11       cal 2000</span>
  <span class="docEmphasis">12       history</span>
  <span class="docEmphasis">13       vi file</span>
  <span class="docEmphasis">14       history</span>
  <span class="docEmphasis">15       ls -l</span>
  <span class="docEmphasis">16       date</span>
  <span class="docEmphasis">17       more file</span>
  <span class="docEmphasis">18       echo a b c d</span>
  <span class="docEmphasis">19       cd</span>
  <span class="docEmphasis">20       history</span>
2 $ <span class="docEmphStrong">fc -l -3</span>
  <span class="docEmphasis">19       cd</span>
  <span class="docEmphasis">20       history</span>
  <span class="docEmphasis">21       fc -l</span>
3 $  <span class="docEmphStrong">fc -ln</span>
         <span class="docEmphasis">exit</span>
         <span class="docEmphasis">history</span>
         <span class="docEmphasis">ls</span>
         <span class="docEmphasis">pwd</span>
         <span class="docEmphasis">clear</span>
         <span class="docEmphasis">cal 2000</span>
         <span class="docEmphasis">history</span>
         <span class="docEmphasis">vi file</span>
         <span class="docEmphasis">history</span>
         <span class="docEmphasis">ls -l</span>
         <span class="docEmphasis">date</span>
         <span class="docEmphasis">more file</span>
         <span class="docEmphasis">echo a b c d</span>
         <span class="docEmphasis">cd</span>
         <span class="docEmphasis">history</span>
         <span class="docEmphasis">fc -l</span>
         <span class="docEmphasis">fc -l -3</span>

4 $ <span class="docEmphStrong">fc -ln -3 &gt; saved</span>

5 $ <span class="docEmphStrong">more saved</span>
         <span class="docEmphasis">fc -l</span>
         <span class="docEmphasis">fc -l -3</span>
         <span class="docEmphasis">fc -ln</span>
6 $ <span class="docEmphStrong">fc -l 15</span>
  <span class="docEmphasis">15       ls -l</span>
  <span class="docEmphasis">16       date</span>
  <span class="docEmphasis">17       more file</span>
  <span class="docEmphasis">18       echo a b c d</span>
  <span class="docEmphasis">19       cd</span>
  <span class="docEmphasis">20       history</span>
  <span class="docEmphasis">21       fc -l</span>
  <span class="docEmphasis">22       fc -l -3</span>
  <span class="docEmphasis">23       fc -ln</span>
  <span class="docEmphasis">24       fc -ln -3 &gt; saved</span>
  <span class="docEmphasis">25       more saved</span>
  <span class="docEmphasis">26       history</span>
7 $ <span class="docEmphStrong">fc -l 15 20</span>
  <span class="docEmphasis">15       ls -l</span>
  <span class="docEmphasis">16       date</span>
  <span class="docEmphasis">17       more file</span>
  <span class="docEmphasis">18       echo a b c d</span>
  <span class="docEmphasis">19       cd</span>
  <span class="docEmphasis">20       history</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">fc -l</span> selects the last
      16 commands from the history list.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">fc -l -3</span> selects the
      last three commands from the history list.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">fc</span> with the
      <span class="docEmphasis">-ln</span> options prints the history list
      without line numbers.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The last three commands, without line numbers, from the
      history list are redirected to a file called <span class="docEmphasis">
      saved.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The contents of the file <span class="docEmphasis">
      saved</span> are displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Commands from the history list, starting at number 15,
      are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Commands numbered 15 through 20 are displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText">If <span class="docEmphasis">fc</span> is given the
<span class="docEmphasis">-s</span> option, a string pattern can be used to
reexecute a previous command; e.g., <span class="docEmphasis">fc -s rm</span>
will cause the most previous line containing the pattern
<span class="docEmphasis">rm</span> to be reexecuted. To emulate the Korn
shell's <span class="docEmphasis">redo</span> command, you can create a
<span class="docEmphasis">bash</span> alias called <span class="docEmphasis">r,</span>
e.g., <span class="docEmphasis">alias r='fc -s'</span> so that if you type
<span class="docEmphasis">r vi</span> at the command line, the last history item
containing that pattern will be reexecuted; in this case, the
<span class="docEmphasis">vi</span> editor will be started just as it was the
last time it started, including any arguments passed.</p>
<h5 id="ch11list30" class="docExampleTitle">Example 11.30 </h5>
<pre>1   $ <span class="docEmphStrong">history</span>
    <span class="docEmphasis">1    ls</span>
    <span class="docEmphasis">2    pwd</span>
    <span class="docEmphasis">3    clear</span>
    <span class="docEmphasis">4    cal 2000</span>
    <span class="docEmphasis">5    history</span>
    <span class="docEmphasis">6    ls -l</span>
    <span class="docEmphasis">7    date</span>
    <span class="docEmphasis">8    more file</span>
    <span class="docEmphasis">9    echo a b c d</span>

2   $ <span class="docEmphStrong">fc -s da</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">Thu Jul  15 12:33:25 PST 2001</span>

3   $ <span class="docEmphStrong">alias r=&quot;fc -s&quot;</span>
4   $ <span class="docEmphStrong">date +%T</span>
    <span class="docEmphasis">18:12:32</span>

5   $ <span class="docEmphStrong">r d</span>
    <span class="docEmphasis">date +%T</span>
    <span class="docEmphasis">18:13:19</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The built-in <span class="docEmphasis">history</span>
      command displays the history list.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">fc</span> with the
      <span class="docEmphasis">-s</span> option searches for the last command
      that began with string <span class="docEmphasis">da.</span> The
      <span class="docEmphasis">date</span> command is found in the history list
      and is reexecuted.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">An alias (a user-defined nickname) called
      <span class="docEmphasis">r</span> is assigned the command
      <span class="docEmphasis">fc -s.</span> This means that any time
      <span class="docEmphasis">r</span> is typed at the command line, it will
      be substituted with <span class="docEmphasis">fc -s.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">date</span> command is
      executed. It will print the current time.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias is used as a shortcut to the
      <span class="docEmphasis">fs -s</span> command. The last command beginning
      with a <span class="docEmphasis">d</span> is reexecuted.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Reexecuting History Commands (bang! bang!).</b> To
reexecute a command from the history list, the exclamation point (called bang)
is used. If you type two exclamation points (<span class="docEmphasis">!!</span>)
<span class="docEmphasis">bang, bang,</span> the last command in the history
list is reexecuted. If you type an exclamation point, followed by a number, the
command listed by that number is reexecuted. If you type an exclamation point
and a letter or string, the last command that started with that letter or string
is reexecuted. The caret (^) is also used as a shortcut method for editing the
previous command. See <a class="docLink" href="#ch11table07">Table 11.7</a> for
a complete list of history substitution characters.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table07" class="docTableTitle">Table 11.7. Substitution and History</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Event Designator</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!</span>
    </td>
    <td class="docTableCell" vAlign="top">Indicates the start of history
    substitution. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!!</span>
    </td>
    <td class="docTableCell" vAlign="top">Reexecutes the previous command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!N</span>
    </td>
    <td class="docTableCell" vAlign="top">Reexecutes the
    <span class="docEmphasis">N</span>th command from the history list. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!-N</span>
    </td>
    <td class="docTableCell" vAlign="top">Reexecutes the
    <span class="docEmphasis">N</span>th command back from present command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!string</span>
    </td>
    <td class="docTableCell" vAlign="top">Reexecutes the last command starting
    with <span class="docEmphasis">string.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!?string?</span>
    </td>
    <td class="docTableCell" vAlign="top">Reexecutes the last command containing
    <span class="docEmphasis">string.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!?string?%</span>
    </td>
    <td class="docTableCell" vAlign="top">Reexecutes the most recent command
    line argument from the history list containing <span class="docEmphasis">
    string.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!$</span>
    </td>
    <td class="docTableCell" vAlign="top">Uses the last argument from the last
    history command in the current command line. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!! string</span>
    </td>
    <td class="docTableCell" vAlign="top">Appends string to the previous command
    and executes. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!N string</span>
    </td>
    <td class="docTableCell" vAlign="top">Appends string to
    <span class="docEmphasis">N</span>th command in history list and executes.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!N:s/old/new/</span>
    </td>
    <td class="docTableCell" vAlign="top">In previous <span class="docEmphasis">
    N</span>th command, substitutes the first occurrence of old string with new
    string. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!N:gs/old/new/</span>
    </td>
    <td class="docTableCell" vAlign="top">In previous <span class="docEmphasis">
    N</span>th command, globally substitutes old string with new string. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">^old^new^</span>
    </td>
    <td class="docTableCell" vAlign="top">In last <span class="docEmphasis">
    history</span> command, substitutes old string with new string. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command !N:wn</span>
    </td>
    <td class="docTableCell" vAlign="top">Executes current command appending an
    argument <span class="docEmphasis">(wn</span>) from the
    <span class="docEmphasis">N</span>th previous command.
    <span class="docEmphasis">Wn</span> is a number starting at 0, 1, 2, …
    designating the number of the word from the previous command; word
    <span class="docEmphasis">0</span> is the command itself, and
    <span class="docEmphasis">1</span> is its first argument, etc. (See
    <a class="docLink" href="#ch11list32">Example 11.32</a>.) </td>
  </tr>
</table>

<h5 id="ch11list31" class="docExampleTitle">Example 11.31 </h5>
<pre>1   $ <span class="docEmphStrong">date</span>
    <span class="docEmphasis">Mon Jul  12 12:27:35 PST 2001</span>

2   $ <span class="docEmphStrong">!!</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">Mon Jul  12 12:28:25 PST 2001</span>

3   $ <span class="docEmphStrong">!106</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">Mon Jul  12 12:29:26 PST 2001</span>

4   $ <span class="docEmphStrong">!d</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">Mon Jul  12 12:30:09 PST 2001</span>

5   $ <span class="docEmphStrong">dare</span>
    <span class="docEmphasis">dare: Command not found.</span>

6   $ <span class="docEmphStrong">^r^t</span>
    <span class="docEmphasis">date</span>
    <span class="docEmphasis">Mon Jul  12 12:33:25 PST 2001</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The UNIX <span class="docEmphasis">date</span> command
      is executed at the command line. The history list is updated. This is the
      last command on the list.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">!!</span> (bang bang)
      gets the last command from the history list; the command is reexecuted.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Command number 106 from the history list is reexecuted.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The last command on the history list that started with
      the letter <span class="docEmphasis">d</span> is reexecuted.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The command is mistyped. It should be
      <span class="docEmphasis">date,</span> not <span class="docEmphasis">dare.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The carets are used to substitute letters from the last
      command on the history list. The first occurrence of an
      <span class="docEmphasis">r</span> is replaced with a
      <span class="docEmphasis">t;</span> i.e., <span class="docEmphasis">dare</span>
      becomes <span class="docEmphasis">date.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list32" class="docExampleTitle">Example 11.32 </h5>
<pre>1   $ <span class="docEmphStrong">ls  file1 file2 file3</span>
    <span class="docEmphasis">file1 file2 file3</span>

    $ <span class="docEmphStrong">vi !:1</span>
    <span class="docEmphasis">vi file1</span>

2   $ <span class="docEmphStrong">ls file1 file2 file</span>
    <span class="docEmphasis">file1 file2 file3</span>

    $ <span class="docEmphStrong">ls !:2</span>
    <span class="docEmphasis">ls file2</span>
    <span class="docEmphasis">file2</span>

3   $ <span class="docEmphStrong">ls file1 file2 file3</span>
    $ <span class="docEmphStrong">ls  !:3</span>
    <span class="docEmphasis">ls file3</span>
    <span class="docEmphasis">file3</span>

4   $ <span class="docEmphStrong">echo a b c</span>
    <span class="docEmphasis">a b c</span>
    $ <span class="docEmphStrong">echo !$</span>
    <span class="docEmphasis">echo c</span>
    <span class="docEmphasis">c</span>

5   $ <span class="docEmphStrong">echo a b c</span>
    <span class="docEmphasis">a b c</span>
    $ <span class="docEmphStrong">echo !^</span>
    <span class="docEmphasis">echo a</span>
    <span class="docEmphasis">a</span>

6   % <span class="docEmphStrong">echo a b c</span>
    <span class="docEmphasis">a b c</span>
    % <span class="docEmphStrong">echo !*</span>
    <span class="docEmphasis">echo a b c</span>
    <span class="docEmphasis">a b c</span>

7   % <span class="docEmphStrong">!!:p</span>
    <span class="docEmphasis">echo a b c</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">ls</span> command lists
      <span class="docEmphasis">file1, file2,</span> and
      <span class="docEmphasis">file3.</span> The history list is updated. The
      command line is broken into words, starting with word number zero. If the
      word number is preceded by a colon, that word can be extracted from the
      history list. The <span class="docEmphasis">!:1</span> notation means,
      <span class="docEmphasis">get the first argument from the last command on
      the history list and replace it in the command string.</span> The first
      argument from the last command is <span class="docEmphasis">file1.</span>
      (Word <span class="docEmphasis">0</span> is the command itself.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">!:2</span> is replaced
      with the second argument of the last command, <span class="docEmphasis">
      file2,</span> and given as an argument to <span class="docEmphasis">ls.
      file2</span> is printed. (<span class="docEmphasis">file2</span> is the
      third word.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">ls !:3</span> reads,
      <span class="docEmphasis">go to the last command on the history list and
      get the fourth word (words start at zero) and pass it to the</span> ls
      <span class="docEmphasis">command as an argument.</span> (<span class="docEmphasis">file3</span>
      is the fourth word.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The bang (<span class="docEmphasis">!</span>) with the
      dollar sign (<span class="docEmphasis">$</span>) refers to the last
      argument of the last command on the history list. The last argument is
      <span class="docEmphasis">c.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The caret (<span class="docEmphasis">^</span>)
      represents the first argument after the command. The bang (<span class="docEmphasis">!</span>)
      with the <span class="docEmphasis">^</span> refers to the first argument
      of the last command on the history list. The first argument of the last
      command is <span class="docEmphasis">a.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The asterisk (<span class="docEmphasis">*</span>)
      represents all arguments after the command. The <span class="docEmphasis">
      !</span> with the <span class="docEmphasis">*</span> refers to all of the
      arguments of the last command on the history list.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The last command from the history list is printed but
      not executed. The history list is updated. You could now perform caret
      substitutions on that line.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Command Line Editing.</b> The <span class="docEmphasis">
bash</span> shell provides two built-in editors, <span class="docEmphasis">emacs</span>
and <span class="docEmphasis">vi,</span> that allow you to interactively edit
your history list. When you use the editing features at the command line,
whether in <span class="docEmphasis">vi</span> or <span class="docEmphasis">
emacs</span> mode, the <span class="docEmphasis">readline</span> functions
determine which keys will perform certain functions. For example, if using
<span class="docEmphasis">emacs,</span> Ctrl-P allows you to scroll upward in
the command line history, whereas if using <span class="docEmphasis">vi,</span>
the K key moves upward through the history list. <span class="docEmphasis">
Readline</span> also controls the arrow keys, cursor movement, changing,
deleting, inserting text, and redoing or undoing corrections. Another feature of
<span class="docEmphasis">readline</span> is the completion feature previously
discussed in &quot;<a class="docLink" href="#ch11lev2sec8">Command and Filename
Completion</a>&quot;. This allows you to type part of a command, filename, or
variable, and then, by pressing the Tab key, the rest of the word is completed.
There are many more features provided by the Readline library designed to help
manipulate text at the command line.</p>
<p class="docText">The <span class="docEmphasis">emacs</span> built-in editor is
the default built-in editor and is modeless, whereas the
<span class="docEmphasis">vi</span> built-in editor works in two modes, one to
execute commands on lines and the other to enter text. If you use UNIX, you are
probably familiar with at least one of these editors. To enable the
<span class="docEmphasis">vi</span> editor, add the <span class="docEmphasis">
set</span> command listed below<span id="ENB11-5"><a class="docLink" href="#EN11-5"><sup>[5]</sup></a></span>
and put this line in your <span class="docEmphasis">~/.bashrc</span> file. To
set <span class="docEmphasis">vi,</span> type what's shown in the following
example, at either the prompt or in the <span class="docEmphasis">~/.bashrc</span>
file.</p>
<h5 id="ch11list33" class="docExampleTitle">Example 11.33 </h5>
<pre><span class="docEmphStrong">set -o vi</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">Sets the built-in <span class="docEmphasis">vi</span>
    editor for command line editing of the history list.</td>
  </tr>
</table>

<p class="docText">To switch to the <span class="docEmphasis">emacs</span>
editor, type:</p>
<h5 id="ch11list34" class="docExampleTitle">Example 11.34 </h5>
<pre><span class="docEmphStrong">set -o emacs</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">Sets the built-in <span class="docEmphasis">emacs</span>
    editor for command line editing of the history list.</td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">vi</span>
Built-In Editor.</span> To edit the history list, go to the command line and
press the Esc key. Then press the <span class="docEmphasis">K</span> key if you
want to scroll upward in the history list, and the <span class="docEmphasis">J</span>
key<span id="ENB11-6"><a class="docLink" href="#EN11-6"><sup>[6]</sup></a></span> to
move downward, just like standard <span class="docEmphasis">vi</span> motion
keys. When you find the command that you want to edit, use the standard keys
that you would use in <span class="docEmphasis">vi</span> for moving left and
right, deleting, inserting, and changing text. (See
<a class="docLink" href="#ch11table08">Table 11.8</a>.) After making the edit,
press the Enter key. The command will be executed and added to the bottom of the
history list. </p>


<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table08" class="docTableTitle">Table 11.8. <span class="docEmphasis">vi</span>
  Commands</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Command</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Function</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top" colSpan="2">
    <span class="docEmphBoldItalic">Moving Through the History File:</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Esc k <span class="docEmphasis">or</span>
    + </td>
    <td class="docTableCell" vAlign="top">Move up the history list. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Esc j <span class="docEmphasis">or</span>
    - </td>
    <td class="docTableCell" vAlign="top">Move down the history list. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">G </td>
    <td class="docTableCell" vAlign="top">Move to first line in history file.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">5G </td>
    <td class="docTableCell" vAlign="top">Move to fifth command in history file
    for <span class="docEmphasis">string.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">/string </td>
    <td class="docTableCell" vAlign="top">Search upward through history file.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">? </td>
    <td class="docTableCell" vAlign="top">String search downward through history
    file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top" colSpan="2">
    <span class="docEmphBoldItalic">Moving Around on a Line:</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">h </td>
    <td class="docTableCell" vAlign="top">Move left on a line. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">l </td>
    <td class="docTableCell" vAlign="top">Move right on a line. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">b </td>
    <td class="docTableCell" vAlign="top">Move backward a word. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">e <span class="docEmphasis">or</span>
    w </td>
    <td class="docTableCell" vAlign="top">Move forward a word. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">^ <span class="docEmphasis">or</span>
    0 </td>
    <td class="docTableCell" vAlign="top">Move to beginning of first character
    on the line. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">$ </td>
    <td class="docTableCell" vAlign="top">Move to end of line. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top" colSpan="2">
    <span class="docEmphBoldItalic">Editing with</span>
    <span class="docEmphBoldItalic">vi:</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">a A </td>
    <td class="docTableCell" vAlign="top">Append text. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">i I </td>
    <td class="docTableCell" vAlign="top">Insert text. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">dd dw x </td>
    <td class="docTableCell" vAlign="top">Delete text into a buffer (line, word,
    or character). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">cc C </td>
    <td class="docTableCell" vAlign="top">Change text. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">u U </td>
    <td class="docTableCell" vAlign="top">Undo. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">yy Y </td>
    <td class="docTableCell" vAlign="top">Yank (copy a line into buffer). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">p P </td>
    <td class="docTableCell" vAlign="top">Put yanked or deleted line down below
    or above the line. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">r R </td>
    <td class="docTableCell" vAlign="top">Replace a letter or any amount of text
    on a line. </td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
emacs</span> Built-In Editor.</span> If using the <span class="docEmphasis">
emacs</span> built-in editor, like <span class="docEmphasis">vi,</span> start at
the command line. To start moving upward through the history file, press ^P. To
move down, press ^N. Use <span class="docEmphasis">emacs</span> editing commands
to change or correct text, then press Enter and the command will be reexecuted.
See <a class="docLink" href="#ch11table09">Table 11.9</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table09" class="docTableTitle">Table 11.9. <span class="docEmphasis">emacs</span>
  Commands</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Command</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Function</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-P </td>
    <td class="docTableCell" vAlign="top">Move up history file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-N </td>
    <td class="docTableCell" vAlign="top">Move down history file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-B </td>
    <td class="docTableCell" vAlign="top">Move backward one character. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-R </td>
    <td class="docTableCell" vAlign="top">Search backward for string. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Esc B </td>
    <td class="docTableCell" vAlign="top">Move backward one word. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-F </td>
    <td class="docTableCell" vAlign="top">Move forward one character. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Esc F </td>
    <td class="docTableCell" vAlign="top">Move forward one word. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-A </td>
    <td class="docTableCell" vAlign="top">Move to the beginning of the line.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-E </td>
    <td class="docTableCell" vAlign="top">Move to the end of the line. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Esc &lt; </td>
    <td class="docTableCell" vAlign="top">Move to the first line of the history
    file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Esc &gt; </td>
    <td class="docTableCell" vAlign="top">Move to the last line of the history
    file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top" colSpan="2">
    <span class="docEmphBoldItalic">Editing with</span>
    <span class="docEmphBoldItalic">emacs:</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-U </td>
    <td class="docTableCell" vAlign="top">Delete the line. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-Y </td>
    <td class="docTableCell" vAlign="top">Put the line back. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-K </td>
    <td class="docTableCell" vAlign="top">Delete from cursor to the end line.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-D </td>
    <td class="docTableCell" vAlign="top">Delete a letter. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Esc D </td>
    <td class="docTableCell" vAlign="top">Delete one word forward. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Esc H </td>
    <td class="docTableCell" vAlign="top">Delete one word backward. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Esc space </td>
    <td class="docTableCell" vAlign="top">Set a mark at cursor position. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-X Ctrl-X </td>
    <td class="docTableCell" vAlign="top">Exchange cursor and mark. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">Ctrl-P Ctrl-Y </td>
    <td class="docTableCell" vAlign="top">Push region from cursor to mark into a
    buffer (Ctrl-P) and put it down (Ctrl-Y). </td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong"><span class="docEmphasis">FCEDIT</span>
and Editing Commands.</span> If the <span class="docEmphasis">fc</span> command
is given the <span class="docEmphasis">-e</span> option followed by the name of
a UNIX editor, that editor is invoked containing history commands selected from
the history list; e.g., <span class="docEmphasis">fc -e vi -1 -3</span> will
invoke the <span class="docEmphasis">vi</span> editor, create a temporary file
in <span class="docEmphasis">/tmp,</span> with the last three commands from the
history list in the <span class="docEmphasis">vi</span> buffer. The commands can
be edited or commented out. (Preceding the command with a # will comment it.) If
the user quits the editor, the commands will all be echoed and executed.<span id="ENB11-7"><a class="docLink" href="#EN11-7"><sup>[7]</sup></a></span>
</p>

<p class="docText">If the editor name is not given, the value of the
<span class="docEmphasis">FCEDIT</span> variable is used (typically set in the
initialization files, either <span class="docEmphasis">bash_profile</span> or
<span class="docEmphasis">.profile</span>), and the value of the
<span class="docEmphasis">EDITOR</span> variable is used if
<span class="docEmphasis">FCEDIT</span> is not set. When editing is complete,
and you exit the editor, all of the edited commands are echoed and executed.</p>
<h5 id="ch11list35" class="docExampleTitle">Example 11.35 </h5>
<p class="docText">
<img alt="graphics/11prfig01.gif" src="11prfig01.gif" border="0" width="500" height="366"></p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">FCEDIT</span> variable
      can be assigned the pathname for any of the UNIX text editors you have on
      your system, such as <span class="docEmphasis">vi, emacs,</span> etc. If
      not set, the <span class="docEmphasis">vi</span> editor is the default.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">pwd</span> command is
      typed at the command line. It will be placed in the
      <span class="docEmphasis">history</span> file.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">fc</span> command caused
      the editor (set in <span class="docEmphasis">FCEDIT</span>) to be invoked
      with the last command typed in the editor window. After the user writes
      and quits the editor, any commands typed there will be executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">history</span> command
      lists recently typed commands.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">fc</span> command is used
      to start up the editor with the last three commands from the
      <span class="docEmphasis">history</span> file in the editor's buffer.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec11">11.2.4 Aliases</h4>
<p class="docText">An <span class="docEmphasis">alias</span> is a
<span class="docEmphasis">bash</span> user-defined abbreviation for a command.
Aliases are useful if a command has a number of options and arguments or the
syntax is difficult to remember. Aliases set at the command line are not
inherited by subshells. Aliases are normally set in the
<span class="docEmphasis">.bashrc</span> file. Because the
<span class="docEmphasis">.bashrc</span> is executed when a new shell is
started, any aliases set there will be reset for the new shell. Aliases may also
be passed into shell scripts but will cause potential portability problems
unless they are set directly within the script.</p>
<p class="docText"><b>Listing Aliases.</b> The <span class="docEmphasis">alias</span>
built-in command lists all set aliases. The alias is printed first, followed by
the real command or commands it represents.</p>
<h5 id="ch11list36" class="docExampleTitle">Example 11.36 </h5>
<pre>$ <span class="docEmphStrong">alias</span>
<span class="docEmphasis">alias co='compress</span>'
<span class="docEmphasis">alias cp='cp -i'</span>
<span class="docEmphasis">alias mroe='more'</span>
<span class="docEmphasis">alias mv='mv -i'</span>
<span class="docEmphasis">alias ls='ls --colorztty'</span>
<span class="docEmphasis">alias uc='uncompress'</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The <span class="docEmphasis">alias</span> command lists
    the alias (nickname) for the command and the real command the alias
    represents after the = sign.</td>
  </tr>
</table>

<p class="docText"><b>Creating Aliases.</b> The <span class="docEmphasis">alias</span>
command is used to create an alias. The first argument is the name of the alias,
the nickname for the command. The rest of the line consists of the command or
commands that will be executed when the alias is executed.
<span class="docEmphasis">Bash</span> aliases cannot take arguments (see
&quot;Defining Functions&quot; on page 693). Multiple commands are separated by a
semicolon, and commands containing spaces and metacharacters are surrounded by
single quotes.</p>
<h5 id="ch11list37" class="docExampleTitle">Example 11.37 </h5>
<pre>1   $ <span class="docEmphStrong">alias m=more</span>
2   $ <span class="docEmphStrong">alias mroe=more</span>
3   $ <span class="docEmphStrong">alias lF='ls -alF'</span>
4   $ <span class="docEmphStrong">alias r='fc -s</span>'
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The nickname for the <span class="docEmphasis">more</span>
      command is set to <span class="docEmphasis">m.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias for the <span class="docEmphasis">more</span>
      command is set to <span class="docEmphasis">mroe.</span> This is handy if
      you can't spell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias definition is enclosed in quotes because of
      the whitespace. The alias <span class="docEmphasis">lF</span> is a
      nickname for the command <span class="docEmphasis">ls -alF.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias <span class="docEmphasis">r</span> will be
      used instead of <span class="docEmphasis">fc -s</span> to recall commands
      from the history list by a specified pattern; e.g.,
      <span class="docEmphasis">r vi</span> will reexecute the last command in
      the history list containing the pattern <span class="docEmphasis">vi.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Deleting Aliases.</b> The <span class="docEmphasis">
unalias</span> command is used to delete an alias. To temporarily turn off an
alias, precede the alias name by a backslash.</p>
<h5 id="ch11list38" class="docExampleTitle">Example 11.38 </h5>
<pre>1   $ <span class="docEmphStrong">unalias mroe</span>
2   $ <span class="docEmphStrong">\ls</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">unalias</span> command
      deletes the alias <span class="docEmphasis">mroe</span> from the list of
      defined aliases.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The alias <span class="docEmphasis">ls</span> is
      temporarily turned off for this execution of the command only.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec12">11.2.5 Manipulating the Directory Stack</h4>
<p class="docText">If you find that as you work, you <span class="docEmphasis">
cd</span> up and down the directory tree into many of the same directories, you
can make it easy to access those directories by pushing them onto a directory
stack and manipulating the stack. The <span class="docEmphasis">pushd</span>
built-in command pushes directories onto a stack and the
<span class="docEmphasis">popd</span> command removes them. (See
<a class="docLink" href="#ch11list39">Example 11.39</a>.) The stack is a list of
directories with the directory at the left being the most recent directory
pushed onto the stack. The directories can be listed with the built-in
<span class="docEmphasis">dirs</span> command.</p>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
dirs</span> Built-In Command.</span> The built-in command
<span class="docEmphasis">dirs,</span> with a <span class="docEmphasis">-l</span>
option, displays the directory stack with each of its directories in full
pathname format; without an option, <span class="docEmphasis">dirs</span> uses a
tilde to denote the home directory. With a <span class="docEmphasis">+n</span>
option, <span class="docEmphasis">dirs</span> displays the
<span class="docEmphasis">nth</span> directory entry counting from the left in
the directory list, starting at 0. With <span class="docEmphasis">-n</span>
option, it does the same thing, but starts at the right-hand side of the
directory list with 0.</p>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
pushd</span> and <span class="docEmphasis">popd</span> Commands.</span> The
<span class="docEmphasis">pushd</span> command, with a directory as an argument,
causes the new directory to be added to the directory stack and, at the same
time, changes to that directory. If the argument is a <span class="docEmphasis">
+n</span> where <span class="docEmphasis">n</span> is a number,
<span class="docEmphasis">pushd</span> rotates the stack so that the
<span class="docEmphasis">n</span>th directory from the stack, starting at the
left-hand side, is pushed onto the top of the stack. With a
<span class="docEmphasis">-n</span> option, it does the same thing but starts at
the right-hand side. Without arguments, <span class="docEmphasis">pushd</span>
exchanges the top two elements of the directory stack, making it easy to switch
back and forth between directories.</p>
<p class="docText">The <span class="docEmphasis">popd</span> command removes a
directory from the top of the stack, and changes to that directory. With
<span class="docEmphasis">+n,</span> where <span class="docEmphasis">n</span> is
a number, <span class="docEmphasis">popd</span> removes the
<span class="docEmphasis">n</span>th entry, starting at the left of the list
shown by <span class="docEmphasis">dirs.</span></p>
<h5 id="ch11list39" class="docExampleTitle">Example 11.39 </h5>
<pre>1   $ <span class="docEmphStrong">pwd</span>
    <span class="docEmphasis">/home/ellie</span>

    $ <span class="docEmphStrong">pushd ..</span>
    <span class="docEmphasis">/home ~</span>

    $ <span class="docEmphStrong">pwd</span>
    <span class="docEmphasis">/home</span>

2   $ <span class="docEmphStrong">pushd</span>       <span class="docEmphasis"># Swap the two top directories on the stack</span>
    <span class="docEmphasis">~ /home</span>

    $ <span class="docEmphStrong">pwd</span>
    <span class="docEmphasis">/home/ellie</span>

3   $ <span class="docEmphStrong">pushd perlclass</span>
    <span class="docEmphasis">~/perlclass  ~  /home</span>

4   $ <span class="docEmphStrong">dirs</span>
    <span class="docEmphasis">~/perlclass ~ /home</span>

5   $ <span class="docEmphStrong">dirs -l</span>
    <span class="docEmphasis">/home/ellie/perlclass /home/ellie  /home</span>

6   $ <span class="docEmphStrong">popd</span>
    <span class="docEmphasis">~/home</span>

    $ <span class="docEmphStrong">pwd</span>
    <span class="docEmphasis">/home/ellie</span>

7   $ <span class="docEmphStrong">popd</span>
    <span class="docEmphasis">/home</span>

    $ <span class="docEmphStrong">pwd</span>
    <span class="docEmphasis">/home</span>

8   $ <span class="docEmphStrong">popd</span>
    <span class="docEmphasis">bash: popd: Directory stack empty.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">First the <span class="docEmphasis">pwd</span> command
      displays the present working directory, <span class="docEmphasis">/home/ellie.</span>
      Next the <span class="docEmphasis">pushd</span> command with
      <span class="docEmphStrong">..</span> as its argument, pushes the parent
      directory (<span class="docEmphStrong">..</span>) onto the directory
      stack. The output of <span class="docEmphasis">pushd</span> indicates that
      <span class="docEmphasis">/home</span> is at the top of the directory
      stack (starting at the left-hand side of the displayed list) and the
      user's home directory, represented by the tilde character (~) is at the
      bottom of the stack. <span class="docEmphasis">pushd</span> also changes
      the directory to the one that was pushed onto the stack; i.e.,
      <span class="docEmphStrong">..</span> which translates to
      <span class="docEmphasis">/home.</span> The new directory is displayed
      with the second <span class="docEmphasis">pwd</span> command.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">Pushd,</span> without
      arguments, exchanges the two top directory entries on the stack and
      changes to the swapped directory; in this example, the directory is
      switched back to the user's home directory, <span class="docEmphasis">
      /home/ellie.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">pushd</span> command will
      push its argument, <span class="docEmphasis">~/perlclass,</span> onto the
      stack, and change to that directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The built-in <span class="docEmphasis">dirs</span>
      command displays the directory stack, with the top level starting at
      left-hand side of the listing. The tilde expands to the user's home
      directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">With the <span class="docEmphasis">-l</span> option,
      <span class="docEmphasis">dirs</span> list displays the directory stack
      with full pathnames instead of using tilde expansion.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">popd</span> command
      removes a directory from the top of the stack, and changes to that
      directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">popd</span> command
      removes another directory from the top of the stack, and changes to that
      directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">popd</span> command
      cannot remove any more directory entries because the stack is empty, and
      issues an error message saying so.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec13">11.2.6 Metacharacters (Wildcards)</h4>
<p class="docText">Metacharacters are special characters used to represent
something other than themselves. Shell metacharacters are called
<span class="docEmphasis">wildcards.</span>
<a class="docLink" href="#ch11table10">Table 11.10</a> lists metacharacters and
what they do.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table10" class="docTableTitle">Table 11.10. Metacharacters</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Metacharacter</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\</span>
    </td>
    <td class="docTableCell" vAlign="top">Literally interprets the following
    character. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&amp;</span>
    </td>
    <td class="docTableCell" vAlign="top">Processes in the background. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">; </td>
    <td class="docTableCell" vAlign="top">Separates commands. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$</span>
    </td>
    <td class="docTableCell" vAlign="top">Substitutes variables. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">?</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches for a single character. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">[abc]</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches for one character from a set
    of characters; e.g., <span class="docEmphasis">a,</span>
    <span class="docEmphasis">b,</span> or <span class="docEmphasis">c.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">[!abc]</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches for one character not from the
    set of characters; e.g., not <span class="docEmphasis">a,</span>
    <span class="docEmphasis">b,</span> or <span class="docEmphasis">c.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">*</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches for zero or more characters.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">(cmds)</span>
    </td>
    <td class="docTableCell" vAlign="top">Executes commands in a subshell. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">{cmds}</span>
    </td>
    <td class="docTableCell" vAlign="top">Executes commands in current shell.
    </td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec14">11.2.7 Filename Substitution (Globbing)</h4>
<p class="docText">When evaluating the command line, the shell uses
metacharacters to abbreviate filenames or pathnames that match a certain set of
characters. The filename substitution metacharacters listed in
<a class="docLink" href="#ch11table11">Table 11.11</a> are expanded into an
alphabetically listed set of filenames. The process of expanding the
metacharacter into filenames is also called <span class="docEmphasis">filename
substitution,</span> or <span class="docEmphasis">globbing.</span> If a
metacharacter is used and there is no filename that matches it, the shell treats
the metacharacter as a literal character.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table11" class="docTableTitle">Table 11.11. Shell Metacharacters and Filename
  Substitution</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Metacharacter</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">*</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches zero or more characters. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">?</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches exactly one character. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">[abc]</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches one character in the set
    <span class="docEmphasis">a, b,</span> or <span class="docEmphasis">c.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">[!abc]</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches one character not in the set,
    not <span class="docEmphasis">a,</span> <span class="docEmphasis">b,</span>
    or <span class="docEmphasis">c.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">{a,ile,ax}</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches for a character or set of
    characters. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">[! a–z]</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches one character
    <span class="docEmphasis">not</span> in the range from
    <span class="docEmphasis">a</span> to <span class="docEmphasis">z.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\</span>
    </td>
    <td class="docTableCell" vAlign="top">Escapes or disables the metacharacter.
    </td>
  </tr>
</table>

<p class="docText"><b>The Asterisk.</b> The asterisk is a wildcard that matches
for zero or more of any characters in a filename.</p>
<h5 id="ch11list40" class="docExampleTitle">Example 11.40 </h5>
<pre>1   $ <span class="docEmphStrong">ls  *</span>
    <span class="docEmphasis">abc abc1 abc122 abc123 abc2 file1 file1.bak file2 file2.bak none</span>
    <span class="docEmphasis">nonsense nobody nothing nowhere one</span>
2   $ <span class="docEmphStrong">ls  *.bak</span>
    <span class="docEmphasis">file1.bak file2.bak</span>
3   $ <span class="docEmphStrong">echo a*</span>
    <span class="docEmphasis">ab abc1 abc122 abc123 abc2</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The asterisk expands to all of the files in the present
      working directory. All of the files are passed as arguments to
      <span class="docEmphasis">ls</span> and displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All files starting with zero or more characters and
      ending with <span class="docEmphasis">.bak</span> are matched and listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All files starting with <span class="docEmphasis">a,</span>
      followed by zero or more characters, are matched and passed as arguments
      to the <span class="docEmphasis">echo</span> command.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Question Mark.</b> The question mark represents a
single character in a filename. When a filename contains one or more question
marks, the shell performs filename substitution by replacing the question mark
with the character it matches in the filename.</p>
<h5 id="ch11list41" class="docExampleTitle">Example 11.41 </h5>
<pre>1   $ <span class="docEmphStrong">ls</span>
    <span class="docEmphasis">abc  abc122  abc2  file1.bak  file2.bak  nonsense  nothing  one</span>
    <span class="docEmphasis">abc1  abc123  file1  file2  none  noone  nowhere</span>

2   $ <span class="docEmphStrong">ls a?c?</span>
    <span class="docEmphasis">abc1 abc2</span>

3   $ <span class="docEmphStrong">ls ??</span>
    <span class="docEmphasis">ls: ??: No such file or directory</span>

4   $ <span class="docEmphStrong">echo  abc???</span>
    <span class="docEmphasis">abc122 abc123</span>

5   $ <span class="docEmphStrong">echo ??</span>
    <span class="docEmphasis">??</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The files in the current directory are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Filenames starting with <span class="docEmphasis">a,</span>
      followed by a single character, followed by <span class="docEmphasis">c</span>
      and a single character, are matched and listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Filenames containing exactly two characters are listed,
      if found. Because there are not any two-character files, the question
      marks are treated as a literal filename. Such a file is not found, and the
      error message is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Filenames starting with <span class="docEmphasis">abc</span>
      and followed by exactly three characters are expanded and displayed by the
      <span class="docEmphasis">echo</span> command.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">There are no files in the directory that contain
      exactly two characters. The shell treats the question mark as a literal
      question mark if it cannot find a match.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>The Square Brackets.</b> The brackets are used to match
filenames containing <span class="docEmphasis">one</span> character in a set or
range of characters.</p>
<h5 id="ch11list42" class="docExampleTitle">Example 11.42 </h5>
<pre>1   $ <span class="docEmphStrong">ls</span>
    <span class="docEmphasis">abc abc122 abc2 file1.bak file2.bak nonsense nothing</span>
    <span class="docEmphasis">one abc1 abc123 file1 file2 none noone nowhere</span>

2   $ <span class="docEmphStrong">ls abc[123]</span>
    <span class="docEmphasis">abc1  abc2</span>

3   $ <span class="docEmphStrong">ls abc[1–3]</span>
    <span class="docEmphasis">abc1  abc2</span>

4   $ <span class="docEmphStrong">ls [a–z][a–z][a–z]</span>
    <span class="docEmphasis">abc one</span>

5   $ <span class="docEmphStrong">ls [!f–z]???</span>
    <span class="docEmphasis">abc1  abc2</span>

6   $ <span class="docEmphStrong">ls abc12[23]</span>
    <span class="docEmphasis">abc122 abc123</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All of the files in the present working directory are
      listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All filenames containing four characters are matched
      and listed if the filename starts with <span class="docEmphasis">abc,</span>
      followed by <span class="docEmphasis">1,</span> <span class="docEmphasis">
      2,</span> or <span class="docEmphasis">3.</span> Only one character from
      the set in the brackets is matched.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All filenames containing four characters are matched
      and listed, if the filename starts with <span class="docEmphasis">abc</span>
      and is followed by a number in the range from <span class="docEmphasis">1</span>
      to <span class="docEmphasis">3.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All filenames containing three characters are matched
      and listed, if the filename contains exactly three lowercase alphabetic
      characters.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All filenames containing four characters are listed if
      the first character is <span class="docEmphasis">not</span> a letter
      between <span class="docEmphasis">f</span> and <span class="docEmphasis">z
      ([!f–z],</span> followed by three of any characters, where
      <span class="docEmphasis">?</span> represents a single character.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Files are listed if the filenames contain
      <span class="docEmphasis">abc12</span> followed by
      <span class="docEmphasis">2</span> or <span class="docEmphasis">3.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Brace Expansion.</b> The curly braces match for any of a
list of comma-separated strings. Normally the strings are filenames. Any
characters prepended to the opening curly brace are called the
<span class="docEmphasis">preamble,</span> and any characters appended to the
closing curly brace are called the <span class="docEmphasis">postamble.</span>
Both the <span class="docEmphasis">preamble</span> and <span class="docEmphasis">
postamble</span> are optional. There can be no unquoted whitespace within the
braces.</p>
<h5 id="ch11list43" class="docExampleTitle">Example 11.43 </h5>
<pre>1   $ <span class="docEmphStrong">ls</span>
    <span class="docEmphasis">a.c b.c abc ab3 ab4 ab5 file1 file2 file3 file4 file5 foo</span>
    <span class="docEmphasis">faa fumble</span>

2   $ <span class="docEmphStrong">ls f{oo,aa,umble}</span>
    <span class="docEmphasis">foo faa fumble</span>

3   $ <span class="docEmphStrong">ls a{.c,c,b[3-5]}</span>
    <span class="docEmphasis">a.c ab3 ab4 ab5</span>

4   $ <span class="docEmphStrong">mkdir /usr/local/src/bash/{old,new,dist,bugs}</span>

5   $ <span class="docEmphStrong">chown root /usr/{ucb/{ex,edit},lib/{ex?.?*,how_ex}}</span>

6   $ <span class="docEmphStrong">echo fo{o, um}*</span>
    <span class="docEmphasis">fo{o, um}*</span>

7   $ <span class="docEmphStrong">echo {mam,pap,ba}a</span>
    <span class="docEmphasis">mama papa baa</span>

8   $ <span class="docEmphStrong">echo post{script,office,ure}</span>
    <span class="docEmphasis">postscript postoffice posture</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All the files in the current directory are listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Files starting with <span class="docEmphasis">f</span>
      and followed by the strings <span class="docEmphasis">oo,</span>
      <span class="docEmphasis">aa,</span> or <span class="docEmphasis">umble</span>
      are listed. Spaces inside the curly braces will cause the error message
      <span class="docEmphasis">Missing }.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Files starting with <span class="docEmphasis">a</span>
      followed by <span class="docEmphasis">.c, c,</span> or
      <span class="docEmphasis">b3, b4,</span> or <span class="docEmphasis">b5</span>
      are listed. (The square brackets can be used inside the curly braces.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Four new directories will be made in
      <span class="docEmphasis">/usr/local/src/bash: old, new, dist,</span> and
      <span class="docEmphasis">bugs.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Root ownership will be given to files,
      <span class="docEmphasis">ex</span> and <span class="docEmphasis">edit,</span>
      in directory <span class="docEmphasis">/usr /ucb</span> and to files named
      <span class="docEmphasis">ex</span> followed by one character, a period,
      and at least one more character, and a file called
      <span class="docEmphasis">how_ex</span> in directory
      <span class="docEmphasis">/usr/lib.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Brace expansion will not occur if there are any
      unquoted spaces within the braces.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Brace expansion does not necessarily always cause
      expansion of filenames. In this example the postamble
      <span class="docEmphasis">a</span> is added to each of the strings within
      the curly braces and echoed back after the expansion.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The preamble is the string <span class="docEmphasis">
      post,</span> followed by a comma-separated list enclosed within braces.
      Brace expansion is performed and the resulting strings are displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Escaping Metacharacters.</b> To use a metacharacter as a
literal character, use the backslash to prevent the metacharacter from being
interpreted.</p>
<h5 id="ch11list44" class="docExampleTitle">Example 11.44 </h5>
<pre>1   $ <span class="docEmphStrong">ls</span>
    <span class="docEmphasis">abc file1 youx</span>

2   $ <span class="docEmphStrong">echo How are you?</span>
    <span class="docEmphasis">How are youx</span>

3   $ <span class="docEmphStrong">echo How are you\?</span>
    <span class="docEmphasis">How are you?</span>

4   $ <span class="docEmphStrong">echo  When does this line \</span>
    <span class="docEmphStrong">&gt; ever end\?</span>
    <span class="docEmphasis">When does this line ever end?</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The files in the present working directory are listed.
      (Note the file <span class="docEmphasis">youx.</span>)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The shell will perform filename expansion on the
      <span class="docEmphasis">?.</span> Any files in the current directory
      starting with <span class="docEmphasis">y</span>-<span class="docEmphasis">o</span>-<span class="docEmphasis">u</span>
      and followed by exactly one character are matched and substituted in the
      string. The filename <span class="docEmphasis">youx</span> will be
      substituted in the string to read <span class="docEmphasis">How are youx</span>
      (probably not what you wanted to happen).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">By preceding the question mark with a backslash, it is
      escaped, meaning that the shell will not try to interpret it as a
      wildcard.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The newline is escaped by preceding it with a
      backslash. The secondary prompt is displayed until the string is
      terminated with a newline. The question mark (<span class="docEmphasis">?</span>)
      is escaped to protect it from filename expansion.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Tilde and Hyphen Expansion.</b> The tilde character was
adopted by the <span class="docEmphasis">bash</span> shell (from the C shell)
for pathname expansion. The tilde by itself evaluates to the full pathname of
the user's home directory.<span id="ENB11-8"><a class="docLink" href="#EN11-8"><sup>[8]</sup></a></span>
When the tilde is appended with a username, it expands to the full pathname of
that user. </p>

<p class="docText">When the plus sign follows the tilde, the value of the
<span class="docEmphasis">PWD</span> (present working directory) replaces the
tilde. The tilde followed by the hyphen character is replaced with the previous
working directory; <span class="docEmphasis">OLDPWD</span> also refers to the
previous working directory.</p>
<h5 id="ch11list45" class="docExampleTitle">Example 11.45 </h5>
<pre>1   $ <span class="docEmphStrong">echo ~</span>
    <span class="docEmphasis">/home/jody/ellie</span>

2   $ <span class="docEmphStrong">echo ~joe</span>
    <span class="docEmphasis">/home/joe</span>

3   $ <span class="docEmphStrong">echo ~+</span>
    <span class="docEmphasis">/home/jody/ellie/perl</span>

4   $ <span class="docEmphStrong">echo ~-</span>
    <span class="docEmphasis">/home/jody/ellie/prac</span>

5   $ <span class="docEmphStrong">echo $OLDPWD</span>
   <span class="docEmphasis">/home/jody/ellie/prac</span>

6   $ <span class="docEmphStrong">cd -</span>
    <span class="docEmphasis">/home/jody/ellie/prac</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The tilde evaluates to the full pathname of the user's
      home directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The tilde preceding the username evaluates to the full
      pathname of <span class="docEmphasis">joe's</span> home directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">~+</span> notation
      evaluates to the full pathname of the working directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">~-</span> notation
      evaluates to the previous working directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">OLDPWD</span> variable
      contains the previous working directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The hyphen refers to the previous working directory;
      <span class="docEmphasis">cd</span> to go to the previous working
      directory and display the directory.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Controlling Wildcards (Globbing).</b> If the
<span class="docEmphasis">bash</span> <span class="docEmphasis">noglob</span>
variable is set or if the <span class="docEmphasis">set</span> command is given
a <span class="docEmphasis">-f</span> option, filename substitution, called
globbing, is turned off, meaning that all metacharacters represent themselves;
they are not used as wildcards. This can be useful when searching for patterns
containing metacharacters in programs like <span class="docEmphasis">grep, sed,</span>
or <span class="docEmphasis">awk.</span> If globbing is not set, all
metacharacters must be escaped with a backslash to turn off wildcard
interpretation.</p>
<p class="docText">The built-in <span class="docEmphasis">shopt</span> command (<span class="docEmphasis">bash</span>
versions 2.x) also supports options for controlling globbing.</p>
<h5 id="ch11list46" class="docExampleTitle">Example 11.46 </h5>
<pre>1   $ <span class="docEmphStrong">set noglob</span> <span class="docEmphasis">or</span> <span class="docEmphStrong">set -f</span>

2   $ <span class="docEmphStrong">print * ?? [] ~ $LOGNAME</span>
    <span class="docEmphasis">* ?? [] /home/jody/ellie ellie</span>

3   $ <span class="docEmphStrong">unset noglob</span> <span class="docEmphasis">or</span> <span class="docEmphStrong">set +f</span>

4   $ <span class="docEmphStrong">shopt -s dotglob</span>   <span class="docEmphasis"># Only available in bash versions 2.x</span>

5   $ <span class="docEmphStrong">echo *bash*</span>
    <span class="docEmphasis">.bash_history .bash_logout .bash_profile .bashrc bashnote</span>
    <span class="docEmphasis">bashtest</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">-f</span> option is given
      as an argument to the <span class="docEmphasis">set</span> command. It
      turns off the special meaning of wildcards used for filename expansion.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The filename expansion metacharacters are displayed as
      themselves without any interpretation. Note that the tilde and the dollar
      sign are still expanded, because they are not used for filename expansion.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If either <span class="docEmphasis">noglob</span> is
      <span class="docEmphUl">unset</span> or the <span class="docEmphasis">+f</span>
      option is set, filename metacharacters <span class="docEmphUl">will be
      expanded.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">shopt</span> built-in
      allows you to set options for the shell. The <span class="docEmphasis">
      dotglob</span> option allows filenames to be matched with globbing
      metacharacters, even if they start with a dot. Normally the files starting
      with a dot are invisible and not recognized when performing filename
      expansion.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Because the <span class="docEmphasis">dotglob</span>
      option was set in line 4, when the wildcard * is used for filename
      expansion, the filenames starting with a dot are also expanded if the
      filename contains the pattern <span class="docEmphasis">bash.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">Extended Filename Globbing (<span class="docEmphasis">bash
2.x</span>).</span> Derived from Korn shell pattern matching,
<span class="docEmphasis">bash 2.x</span> has included this extended
functionality, allowing regular expression-type syntax. The regular expression
operators are not recognized unless the <span class="docEmphasis">extglob</span>
option to the <span class="docEmphasis">shopt</span> command is turned on:</p>
<pre><span class="docEmphStrong">shopt -s extglob</span>
</pre>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table12" class="docTableTitle">Table 11.12. Extended Pattern Matching</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Regular Expression</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">abc?(2|9)1</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">?</span>
    matches zero or one occurrences of any pattern in the parentheses. The
    vertical bar represents an <span class="docEmphasis">or</span> condition;
    e.g., either <span class="docEmphasis">2</span> or <span class="docEmphasis">
    9.</span> Matches <span class="docEmphasis">abc21,</span>
    <span class="docEmphasis">abc91,</span> or <span class="docEmphasis">abc1.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">abc*([0–9])</span>
    </td>
    <td class="docTableCell" vAlign="top">* matches zero or more occurrences of
    any pattern in the parentheses. Matches <span class="docEmphasis">abc</span>
    followed by zero or more digits; e.g., <span class="docEmphasis">abc,</span>
    <span class="docEmphasis">abc1234,</span> <span class="docEmphasis">abc3,</span>
    <span class="docEmphasis">abc2,</span> etc. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">abc+([0–9])</span>
    </td>
    <td class="docTableCell" vAlign="top">+ matches one or more occurrences of
    any pattern in the parentheses. Matches <span class="docEmphasis">abc</span>
    followed by one or more digits; e.g., <span class="docEmphasis">abc3,</span>
    <span class="docEmphasis">abc123,</span> etc. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">no@(one|ne)</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">@</span>
    matches exactly one occurrence of any pattern in the parentheses. Matches
    <span class="docEmphasis">noone</span> or <span class="docEmphasis">none.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    no!(thing|where)</span> </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!</span>
    matches all strings <span class="docEmphasis">except</span> those matched by
    any of the patterns in the parentheses. Matches <span class="docEmphasis">
    no,</span> <span class="docEmphasis">nobody,</span> or
    <span class="docEmphasis">noone,</span> but not <span class="docEmphasis">
    nothing</span> or <span class="docEmphasis">nowhere.</span> </td>
  </tr>
</table>

<h5 id="ch11list47" class="docExampleTitle">Example 11.47 </h5>
<pre>1   $ <span class="docEmphStrong">shopt -s extglob</span>

2   $ <span class="docEmphStrong">ls</span>
    <span class="docEmphasis">abc      abc122    f1    f3     nonsense   nothing   one</span>
    <span class="docEmphasis">abc1     abc2      f2    none   noone      nowhere</span>

3   $ ls <span class="docEmphStrong">abc?(1|2)</span>
    <span class="docEmphasis">abc      abc1      abc2</span>

4   $ ls <span class="docEmphStrong">abc*([1-5])</span>
    <span class="docEmphasis">abc      abc1      abc122     abc2</span>

5   $ ls <span class="docEmphStrong">abc+([0-5])</span>
    <span class="docEmphasis">abc1     abc122    abc2</span>

6   $ ls <span class="docEmphStrong">no@(thing|ne)</span>
    <span class="docEmphasis">none     nothing</span>

7   $ ls <span class="docEmphStrong">no!(thing)</span>
    <span class="docEmphasis">none     nonsense   noone     nowhere</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">shopt</span> built-in is
      used to set the <span class="docEmphasis">extglob</span> (extended
      globbing) option, allowing <span class="docEmphasis">bash</span> to
      recognize extended pattern matching characters.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All the files in the present working directory are
      listed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Matches filenames starting with
      <span class="docEmphasis">abc</span> and followed by
      <span class="docEmphasis">zero characters or one</span> of either of the
      patterns in parentheses. Matches <span class="docEmphasis">abc,</span>
      <span class="docEmphasis">abc1,</span> or <span class="docEmphasis">abc2.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Matches filenames starting with
      <span class="docEmphasis">abc</span> and followed by
      <span class="docEmphasis">zero or more</span> numbers between
      <span class="docEmphasis">1</span> and <span class="docEmphasis">5.</span>
      Matches <span class="docEmphasis">abc, abc1, abc122, abc123,</span> and
      <span class="docEmphasis">abc2.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Matches filenames starting with
      <span class="docEmphasis">abc</span> and followed by
      <span class="docEmphasis">one or more</span> numbers between
      <span class="docEmphasis">0</span> and <span class="docEmphasis">5.</span>
      Matches <span class="docEmphasis">abc1, abc122, abc123,</span> and
      <span class="docEmphasis">abc2.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Matches filenames starting with
      <span class="docEmphasis">no</span> and followed by
      <span class="docEmphasis">exactly</span> <span class="docEmphasis">thing</span>
      or <span class="docEmphasis">ne.</span> Matches <span class="docEmphasis">
      nothing</span> or <span class="docEmphasis">none.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Matches filenames starting with
      <span class="docEmphasis">no</span> and followed by anything except
      <span class="docEmphasis">thing.</span> Matches <span class="docEmphasis">
      none, nonsense, noone,</span> and <span class="docEmphasis">nowhere.</span>
      The <span class="docEmphasis">!</span> means <span class="docEmphasis">
      not.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h3 class="docSection1Title" id="ch11lev1sec3">11.3 Variables</h3>
<p class="docText"><b>Types of Variables.</b> There are two types of variables:
local and environment. Local variables are known only to the shell in which they
were created. Environment variables are available to any child processes spawned
from the shell from which they were created. Some variables are created by the
user and others are special shell variables.</p>
<p class="docText"><b>Naming Conventions.</b> Variable names must begin with an
alphabetic or underscore character. The remaining characters can be alphabetic,
decimal digits (0 to 9), or an underscore character. Any other characters mark
the termination of the variable name. Names are case-sensitive. When assigning a
value to a variable, do not include any whitespace surrounding the equal sign.
To set the variable to null, follow the equal sign with a newline. The simplest
format for creating a local variable is to assign a value to a variable in the
following format.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>variable=value
</pre>
    </td>
  </tr>
</table>

<h5 id="ch11list48" class="docExampleTitle">Example 11.48 </h5>
<pre>name=Tommy
</pre>
<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
declare</span> Built-In.</span> There are two built-in commands,
<span class="docEmphasis">declare</span> and <span class="docEmphasis">typeset,</span>
used to create variables, with options to control the way the variable is set.
The <span class="docEmphasis">typeset</span> command (from Korn shell) is
exactly the same as the <span class="docEmphasis">declare</span> command (<span class="docEmphasis">bash</span>).
The <span class="docEmphasis">bash</span> documentation says, &quot;The
<span class="docEmphasis">typeset</span> command is supplied for compatibility
with the Korn shell; however, it has been deprecated in favor of the
<span class="docEmphasis">declare</span> built-in command.&quot;<span id="ENB11-9"><a class="docLink" href="#EN11-9"><sup>[9]</sup></a></span>
So from this point on we'll use the <span class="docEmphasis">declare</span>
built-in (even though we could just as easily have chosen to use
<span class="docEmphasis">typeset</span>). </p>

<p class="docText">Without arguments, <span class="docEmphasis">declare</span>
lists all set variables. Normally read-only variables cannot be reassigned or
unset. If read-only variables are created with <span class="docEmphasis">
declare,</span> they <span class="docEmphasis">cannot</span> be unset, but they
<span class="docEmphasis">can</span> be reassigned. Integer-type variables can
also be assigned with <span class="docEmphasis">declare.</span></p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>declare variable=value
</pre>
    </td>
  </tr>
</table>

<h5 id="ch11list49" class="docExampleTitle">Example 11.49 </h5>
<pre>declare name=Tommy
</pre>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table13" class="docTableTitle">Table 11.13. <span class="docEmphasis">declare</span>
  Options</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Option</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-f</span>
    </td>
    <td class="docTableCell" vAlign="top">Lists functions names and definitions.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-r</span>
    </td>
    <td class="docTableCell" vAlign="top">Makes variables read-only. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-x</span>
    </td>
    <td class="docTableCell" vAlign="top">Exports variable names to subshells.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-i</span>
    </td>
    <td class="docTableCell" vAlign="top">Makes variables integer types. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-a</span><sup class="docFootnote"><a class="docLink" href="#ch11tabfn01">[a]</a></sup>
    </td>
    <td class="docTableCell" vAlign="top">Treats variable as an array; i.e.,
    assigns elements. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-F</span><sup class="docFootnote"><a class="docLink" href="#ch11tabfn01">[a]</a></sup>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">Lists just
    function names.</span> </td>
  </tr>
</table>

<blockquote>
  <p class="docFootnote"><sup><a name="ch11tabfn01">[a]</a></sup>
  <span class="docEmphasis">a</span> and <span class="docEmphasis">-F</span> are
  implemented only on versions of <span class="docEmphasis">bash</span> 2.x.</p>
</blockquote>
<h4 class="docSection2Title" id="ch11lev2sec15">11.3.1 Local Variables and Scope</h4>
<p class="docText">The scope of a variable refers to where the variable is
visible within a program. For the shell, the scope of local variables is
confined to the shell in which the variable is created.</p>
<p class="docText">When assigning a value, there can be no whitespace
surrounding the equal sign. To set the variable to null, the equal sign is
followed by a newline.<span id="ENB11-10"><a class="docLink" href="#EN11-10"><sup>[10]</sup></a></span></p>
<p class="docText">A dollar sign is used in front of a variable to extract the
value stored there.</p>
<p class="docText">The <span class="docEmphasis">local</span> function can be
used to create local variables, but this is only used within functions. (See
&quot;Defining Functions&quot; on page 693.)</p>
<p class="docText"><b>Setting Local Variables.</b> Local variables can be set by
simply assigning a value to a variable name, or by using the
<span class="docEmphasis">declare</span> built-in function as shown in
<a class="docLink" href="#ch11list50">Example 11.50</a>.</p>
<h5 id="ch11list50" class="docExampleTitle">Example 11.50 </h5>
<pre>1   $ <span class="docEmphStrong">round=world</span> <span class="docEmphasis">or</span> <span class="docEmphStrong">declare round=world</span>
    $ <span class="docEmphStrong">echo $round</span>
    <span class="docEmphasis">world</span>

2   $ <span class="docEmphStrong">name=&quot;Peter Piper&quot;</span>
    $ <span class="docEmphStrong">echo $name</span>
    <span class="docEmphasis">Peter Piper</span>

3   $ <span class="docEmphStrong">x=</span>
    $ <span class="docEmphStrong">echo $x</span>

4   $ <span class="docEmphStrong">file.bak=&quot;$HOME/junk&quot;</span>
    <span class="docEmphasis">bash: file.bak=/home/jody/ellie/junk: not found</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">round</span>
      is assigned the value <span class="docEmphasis">world.</span> When the
      shell encounters the dollar sign preceding a variable name, it performs
      variable substitution. The value of the variable is displayed. (Don't
      confuse the prompt (<span class="docEmphasis">$</span>) with the
      <span class="docEmphasis">$</span> used to perform variable substitution.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">name</span>
      is assigned the value <span class="docEmphasis">&quot;Peter Piper&quot;.</span> The
      quotes are needed to hide the whitespace so that the shell will not split
      the string into separate words when it parses the command line. The value
      of the variable is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">x</span>
      is not assigned a value. It will be assigned null. The null value, an
      empty string, is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The period in the variable name is illegal. The only
      characters allowed in a variable name are numbers, letters, and the
      underscore. The shell tries to execute the string as a command.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list51" class="docExampleTitle">Example 11.51 </h5>
<pre>1   $ <span class="docEmphStrong">echo $$</span>
    <span class="docEmphasis">1313</span>
2   $ <span class="docEmphStrong">round=world</span>
    $ <span class="docEmphStrong">echo $round</span>
    <span class="docEmphasis">world</span>
3   $ <span class="docEmphStrong">bash</span>                <span class="docEmphasis"># Start a subshell</span>

4   $ <span class="docEmphStrong">echo $$</span>
    <span class="docEmphasis">1326</span>
5   $ <span class="docEmphStrong">echo $round</span>
6   $ <span class="docEmphStrong">exit</span>                <span class="docEmphasis"># Exits this shell, returns to parent shell</span>

7   $ <span class="docEmphStrong">echo $$</span>
    <span class="docEmphasis">1313</span>
8   $ <span class="docEmphStrong">echo $round</span>
    <span class="docEmphasis">world</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of the double dollar sign variable evaluates
      to the PID of the current shell. The PID of this shell is
      <span class="docEmphasis">1313.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">round</span>
      is assigned the string value <span class="docEmphasis">world,</span> and
      the value of the variable is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A new <span class="docEmphasis">bash</span> shell is
      started. This is called a <span class="docEmphasis">subshell,</span> or
      <span class="docEmphasis">child shell.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The PID of this shell is <span class="docEmphasis">
      1326.</span> The parent shell's PID is <span class="docEmphasis">1313.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">round</span>
      is not defined in this shell. A blank line is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">exit</span> command
      terminates this shell and returns to the parent shell. (Control-D will
      also exit this shell.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The parent shell returns. Its PID is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of the variable <span class="docEmphasis">
      round</span> is displayed. It is local to this shell.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Setting Read-Only Variables.</b> A read-only variable is a
special variable that cannot be redefined or unset. If, however, the
<span class="docEmphasis">declare</span> function is used, a read-only variable
can be redefined, but not unset.</p>
<h5 id="ch11list52" class="docExampleTitle">Example 11.52 </h5>
<pre>1   $ <span class="docEmphStrong">name=Tom</span>
2   $ <span class="docEmphStrong">readonly name</span>
    $ <span class="docEmphStrong">echo $name</span>
    <span class="docEmphasis">Tom</span>

3   $ <span class="docEmphStrong">unset name</span>
    <span class="docEmphasis">bash: unset: name: cannot unset: readonly variable</span>
4   $ <span class="docEmphStrong">name=Joe</span>
    <span class="docEmphasis">bash: name: readonly variable</span>

5   $ <span class="docEmphStrong">declare -r city='Santa Clara'</span>
6   $ <span class="docEmphStrong">unset city</span>
    <span class="docEmphasis">bash:</span> <span class="docEmphasis">unset: city: cannot unset: readonly variable</span>

7   $ <span class="docEmphStrong">declare city='San Francisco'</span>    <span class="docEmphasis"># What happened here?</span>
    $ <span class="docEmphStrong">echo $city</span>
    <span class="docEmphasis">San Francisco</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">name</span>
      is assigned the value <span class="docEmphasis">Tom.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable is made read-only.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A read-only variable cannot be unset.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A read-only variable cannot be redefined.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">declare</span> built-in
      command assigns a read-only variable, <span class="docEmphasis">city,</span>
      the value <span class="docEmphasis">Santa</span> <span class="docEmphasis">
      Clara.</span> Quotes are necessary when assigning a string containing
      whitespace.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Since it is read-only, the variable cannot be unset.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When a read-only variable is created with the
      <span class="docEmphasis">declare</span> command, it cannot be unset, but
      it can be reassigned.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec16">11.3.2 Environment Variables</h4>
<p class="docText">Environment variables are available to the shell in which
they are created and any subshells or processes spawned from that shell. They
are often called global variables to differentiate them from local variables. By
convention, environment variables are capitalized. Environment variables are
variables that have been exported with the <span class="docEmphasis">export</span>
built-in command.</p>
<p class="docText">The shell in which a variable is created is called the
<span class="docEmphasis">parent shell.</span> If a new shell is started from
the parent shell, it is called the <span class="docEmphasis">child shell.</span>
Environment variables are passed to any child process started from the shell
where the environment variables were created. They are passed from parent to
child to grandchild, etc., but not the other direction; i.e., a child process
can create an environment variable, but cannot pass it back to its parent, only
to its children.<span id="ENB11-11"><a class="docLink" href="#EN11-11"><sup>[11]</sup></a></span>
Some of the environment variables, such as <span class="docEmphasis">HOME,
LOGNAME, PATH,</span> and <span class="docEmphasis">SHELL,</span> are set before
you log on by the <span class="docEmphasis">/bin/login</span> program. Normally,
environment variables are defined and stored in the <span class="docEmphasis">.bash_profile</span>
file in the user's home directory. See <a class="docLink" href="#ch11table15">
Table 11.15</a> for a list of environment variables.</p>
<p class="docText"><b>Setting Environment Variables.</b> To set environment
variables, the <span class="docEmphasis">export</span> command is used either
after assigning a value or when the variable is set. The
<span class="docEmphasis">declare</span> built-in, given the
<span class="docEmphasis">-x</span> option, will do the same. (Do not use the
<span class="docEmphasis">$</span> on a variable when exporting it.)</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>export variable=value
variable=value; export variable
declare -x variable=value
</pre>
    </td>
  </tr>
</table>

<h5 id="ch11list53" class="docExampleTitle">Example 11.53 </h5>
<pre>export NAME=john
PS1= '\d:\W:$USER&gt; ' ; export PS1
declare -x TERM=sun
</pre>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table14" class="docTableTitle">Table 11.14. The <span class="docEmphasis">export</span>
  Command and Its Options</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Option</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Value</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -</span>
    </td>
    <td class="docTableCell" vAlign="top">Marks the end of option processing;
    the remaining parameters are arguments. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-f</span>
    </td>
    <td class="docTableCell" vAlign="top">Name-value pairs are treated as
    functions, not variables. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-n</span>
    </td>
    <td class="docTableCell" vAlign="top">Converts a global (exported) variable
    to a local variable. The variable will not be exported to child processes.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-p</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays all the global variables.
    </td>
  </tr>
</table>

<h5 id="ch11list54" class="docExampleTitle">Example 11.54 </h5>
<pre>1   $ <span class="docEmphStrong">export</span> <span class="docEmphStrong">TERM=sun</span>    <span class="docEmphasis"># or</span> <span class="docEmphStrong">declare -x TERM=sun</span>

2   $ <span class="docEmphStrong">NAME=&quot;John Smith&quot;</span>
    $ <span class="docEmphStrong">export NAME</span>
    $ <span class="docEmphStrong">echo $NAME</span>
    <span class="docEmphasis">John Smith</span>

3   $ <span class="docEmphStrong">echo $$</span>
    <span class="docEmphasis">319             # pid number for parent shell</span>

4   $ <span class="docEmphStrong">bash</span>          <span class="docEmphasis"># Start a subshell</span>

5   $ <span class="docEmphStrong">echo $$</span>
    <span class="docEmphasis">340             # pid number for new shell</span>

6   $ <span class="docEmphStrong">echo $NAME</span>
    <span class="docEmphasis">John Smith</span>

7   $ <span class="docEmphStrong">declare -x</span> <span class="docEmphStrong">NAME=&quot;April Jenner&quot;</span>
    $ <span class="docEmphStrong">echo $NAME</span>
    <span class="docEmphasis">April Jenner</span>

8   $ <span class="docEmphStrong">exit</span>
                    <span class="docEmphasis"># Exit the</span> <span class="docEmphasis">subshell and go back to parent shell</span>
9   $ <span class="docEmphStrong">echo $$</span>
    <span class="docEmphasis">319             # pid number for parent shell</span>
10  $ <span class="docEmphStrong">echo $NAME</span>
    <span class="docEmphasis">John Smith</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">TERM</span> variable is
      assigned <span class="docEmphasis">sun.</span> The variable is exported at
      the same time. Now, processes started from this shell will inherit the
      variable. You can use <span class="docEmphasis">declare</span>
      <span class="docEmphasis">-x</span> to do the same thing.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">NAME</span> is
      defined and exported to make it available to subshells started from the
      shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of this shell's PID is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A new <span class="docEmphasis">bash</span> shell is
      started. The new shell is called the <span class="docEmphasis">child.</span>
      The original shell is its <span class="docEmphasis">parent.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The PID of the new <span class="docEmphasis">bash</span>
      shell is stored in the <span class="docEmphasis">$$</span> variable and
      its value is echoed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable, set in the parent shell, was exported to
      this new shell and is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The built-in <span class="docEmphasis">declare</span>
      function is another way to set a variable. With the
      <span class="docEmphasis">-x</span> switch, <span class="docEmphasis">
      declare</span> marks the variable for export. The variable is reset to
      <span class="docEmphasis">April Jenner.</span> It is exported to all
      subshells, but will not affect the parent shell. Exported values are not
      propagated upward to the parent shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This <span class="docEmphasis">bash</span> child shell
      is exited.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The PID of the parent is displayed again.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable NAME contains its original value.
      Variables retain their values when exported from parent to child shell.
      The child cannot change the value of a variable for its parent.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p>&nbsp;</p>
<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table15" class="docTableTitle">Table 11.15. <span class="docEmphasis">Bash</span>
  Environment Variables</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Variable Name</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top">_ (underscore) </td>
    <td class="docTableCell" vAlign="top">The last argument to the previous
    command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">BASH</span>
    </td>
    <td class="docTableCell" vAlign="top">Expands to the full pathname used to
    invoke this instance of <span class="docEmphasis">bash.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">BASH_ENV</span>
    </td>
    <td class="docTableCell" vAlign="top">Same as <span class="docEmphasis">ENV</span>
    but set only in <span class="docEmphasis">bash</span> versions 2.0 or above.<sup class="docFootnote"><a class="docLink" href="#ch11tabfn02">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    BASH_VERSINFO</span> </td>
    <td class="docTableCell" vAlign="top">Version information about this version
    of <span class="docEmphasis">bash</span> if the version is 2.0 or above.<sup class="docFootnote"><a class="docLink" href="#ch11tabfn02">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">BASH_VERSION</span>
    </td>
    <td class="docTableCell" vAlign="top">Expands to the version number of this
    instance of <span class="docEmphasis">bash.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">CDPATH</span>
    </td>
    <td class="docTableCell" vAlign="top">The search path for the
    <span class="docEmphasis">cd</span> command. This is a colon-separated list
    of directories in which the shell looks for destination directories
    specified by the <span class="docEmphasis">cd</span> command. A sample value
    is <span class="docEmphasis">.:~:/usr.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">COLUMNS</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, defines the width of the edit
    window for shell edit modes and the select command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">DIRSTACK</span>
    </td>
    <td class="docTableCell" vAlign="top">The current contents of the directory
    stack if the <span class="docEmphasis">bash</span> version is 2.0 or above.<sup class="docFootnote"><a class="docLink" href="#ch11tabfn02">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">EDITOR</span>
    </td>
    <td class="docTableCell" vAlign="top">Pathname for a built-in editor:
    <span class="docEmphasis">emacs,</span> <span class="docEmphasis">gmacs,</span>
    or <span class="docEmphasis">vi.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ENV</span>
    </td>
    <td class="docTableCell" vAlign="top">The environment file that is executed
    every time a new <span class="docEmphasis">bash</span> shell is started,
    including a script. Normally the filename assigned to this variable is
    <span class="docEmphasis">.bashrc.</span> The value of
    <span class="docEmphasis">ENV</span> is subjected to parameter expansion,
    command substitution, and arithmetic expansion before being interpreted as a
    pathname. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">EUID</span>
    </td>
    <td class="docTableCell" vAlign="top">Expands to the effective user ID of
    the current user, initialized at shell startup. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">FCEDIT</span>
    </td>
    <td class="docTableCell" vAlign="top">Default editor name for the
    <span class="docEmphasis">fc</span> command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">FIGNORE</span>
    </td>
    <td class="docTableCell" vAlign="top">A colon-separated list of suffixes to
    ignore when performing filename completion. A filename whose suffix matches
    one of the entries in <span class="docEmphasis">FIGNORE</span> is excluded
    from the list of matched filenames. A sample value is
    <span class="docEmphasis">.o:~.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">FORMAT</span>
    </td>
    <td class="docTableCell" vAlign="top">Used to format the output of the
    <span class="docEmphasis">time</span> reserved word on a command pipeline.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">GLOBIGNORE</span>
    </td>
    <td class="docTableCell" vAlign="top">A list of files that will be ignored
    during filename expansion (called globbing).<sup class="docFootnote"><a class="docLink" href="#ch11tabfn02">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">GROUPS</span>
    </td>
    <td class="docTableCell" vAlign="top">An array of groups to which the
    current user belongs.<sup class="docFootnote"><a class="docLink" href="#ch11tabfn02">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTCMD</span>
    </td>
    <td class="docTableCell" vAlign="top">The history number, or index in the
    history list, of the current command. If <span class="docEmphasis">HISTCMD</span>
    is unset, it loses its special properties, even if it is subsequently reset.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTCONTROL</span>
    </td>
    <td class="docTableCell" vAlign="top">If set to a value of
    <span class="docEmphasis">ignorespace,</span> lines that begin with a space
    character are not entered on the history list. If set to a value of
    <span class="docEmphasis">ignoredups,</span> lines matching the last history
    line are not entered. A value of <span class="docEmphasis">ignoreboth</span>
    combines the two options. If unset, or if set to any other value than those
    above, all lines read by the parser are saved on the history list. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTFILE</span>
    </td>
    <td class="docTableCell" vAlign="top">Specifies file in which to store
    command history. The default value is <span class="docEmphasis">~/.bash_history.</span>
    If unset, the command history is not saved when an interactive shell exits.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTFILESIZE</span>
    </td>
    <td class="docTableCell" vAlign="top">The maximum number of lines contained
    in the history file. When this variable is assigned a value, the history
    file is truncated, if necessary, to contain no more than that number of
    lines. The default value is <span class="docEmphasis">500.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HISTSIZE</span>
    </td>
    <td class="docTableCell" vAlign="top">The number of commands to remember in
    the command history. The default value is <span class="docEmphasis">500.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HOME</span>
    </td>
    <td class="docTableCell" vAlign="top">Home directory; used by
    <span class="docEmphasis">cd</span> when no directory is specified. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HOSTFILE</span>
    </td>
    <td class="docTableCell" vAlign="top">Contains the name of a file in the
    same format as in <span class="docEmphasis">/etc/hosts</span> that should be
    read when the shell needs to complete a hostname. The file may be changed
    interactively; the next time hostname completion is attempted,
    <span class="docEmphasis">bash</span> adds the contents of the new file to
    the already existing database. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">HOSTTYPE</span>
    </td>
    <td class="docTableCell" vAlign="top">Automatically set to the type of
    machine on which <span class="docEmphasis">bash</span> is executing. The
    default is system-dependent. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">IFS</span>
    </td>
    <td class="docTableCell" vAlign="top">Internal field separators, normally
    SPACE, TAB, and NEWLINE, used for field splitting of words resulting from
    command substitution, lists in loop constructs, and reading input. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">IGNOREEOF</span>
    </td>
    <td class="docTableCell" vAlign="top">Controls the action of the shell on
    receipt of an <span class="docEmphasis">EOF</span> character as the sole
    input. If set, the value is the number of consecutive
    <span class="docEmphasis">EOF</span> characters typed as the first
    characters on an input line before <span class="docEmphasis">bash</span>
    exits. If the variable exists but does not have a numeric value, or has no
    value, the default value is <span class="docEmphasis">10.</span> If it does
    not exist, <span class="docEmphasis">EOF</span> signifies the end of input
    to the shell. This is only in effect for interactive shells. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">INPUTRC</span>
    </td>
    <td class="docTableCell" vAlign="top">The filename for the
    <span class="docEmphasis">readline</span> startup file, overriding the
    default of <span class="docEmphasis">~./inputrc.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">LANG</span>
    </td>
    <td class="docTableCell" vAlign="top">Used to determine the locale category
    for any category not specifically selected with a variable starting with
    <span class="docEmphasis">LC_.</span><sup class="docFootnote"><a class="docLink" href="#ch11tabfn02">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">LC_ALL</span>
    </td>
    <td class="docTableCell" vAlign="top">Overrides the value of
    <span class="docEmphasis">LANG</span> and any other
    <span class="docEmphasis">LC_</span> variable.<sup class="docFootnote"><a class="docLink" href="#ch11tabfn02">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">LC_COLLATE</span>
    </td>
    <td class="docTableCell" vAlign="top">Determines the collation order used
    when sorting the results of pathname expansion and the behavior of range
    expressions, equivalence classes, and collating sequences when matching
    pathnames and patterns.<sup class="docFootnote"><a class="docLink" href="#ch11tabfn02">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">LC_MESSAGES</span>
    </td>
    <td class="docTableCell" vAlign="top">Determines the locale used to
    translate double-quoted strings preceded by a <span class="docEmphasis">$.</span><sup class="docFootnote"><a class="docLink" href="#ch11tabfn02">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">LINENO</span>
    </td>
    <td class="docTableCell" vAlign="top">Each time this parameter is
    referenced, the shell substitutes a decimal number representing the current
    sequential line number (starting with 1) within a script or function. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">MACHTYPE</span>
    </td>
    <td class="docTableCell" vAlign="top">Contains a string describing the
    system on which <span class="docEmphasis">bash</span> is executing.<sup class="docFootnote"><a class="docLink" href="#ch11tabfn02">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">MAIL</span>
    </td>
    <td class="docTableCell" vAlign="top">If this parameter is set to the name
    of a mail file and the <span class="docEmphasis">MAILPATH</span> parameter
    is not set, the shell informs the user of the arrival of mail in the
    specified file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">MAIL_WARNING</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, and a file that
    <span class="docEmphasis">bash</span> is checking for mail has been accessed
    since the last time it was checked, the message <span class="docEmphasis">
    The mail in [filename where mail is stored] has been read</span> is printed.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">MAILCHECK</span>
    </td>
    <td class="docTableCell" vAlign="top">This parameter specifies how often (in
    seconds) the shell will check for the arrival of mail in the files specified
    by the <span class="docEmphasis">MAILPATH</span> or
    <span class="docEmphasis">MAIL</span> parameters. The default value is 600
    seconds (10 minutes). If set to zero, the shell will check before issuing
    each primary prompt. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">MAILPATH</span>
    </td>
    <td class="docTableCell" vAlign="top">A colon-separated list of filenames.
    If this parameter is set, the shell informs the user of the arrival of mail
    in any of the specified files. Each filename can be followed by a
    <span class="docEmphasis">%</span> and a message that will be printed when
    the modification time changes. The default message is
    <span class="docEmphasis">You have mail.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">OLDPWD</span>
    </td>
    <td class="docTableCell" vAlign="top">Last working directory. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">OPTARG</span>
    </td>
    <td class="docTableCell" vAlign="top">The value of the last option argument
    processed by the <span class="docEmphasis">getopts</span> built-in command.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">OPTERR</span>
    </td>
    <td class="docTableCell" vAlign="top">If set to <span class="docEmphasis">1,</span>
    displays error messages from the <span class="docEmphasis">getopts</span>
    built-in. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">OPTIND</span>
    </td>
    <td class="docTableCell" vAlign="top">The index of the next argument to be
    processed by the <span class="docEmphasis">getopts</span> built-in command.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">OSTYPE</span>
    </td>
    <td class="docTableCell" vAlign="top">Automatically set to a string that
    describes the operating system on which <span class="docEmphasis">bash</span>
    is executing. The default is system-dependent. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">PATH</span>
    </td>
    <td class="docTableCell" vAlign="top">The search path for commands. It is a
    colon-separated list of directories in which the shell looks for commands.
    The default path is system-dependent, and is set by the administrator who
    installs <span class="docEmphasis">bash.</span> A common value is
    <span class="docEmphasis">/usr/gnu/bin:/usr/local/bin:/usr/ucb:/bin:/usr/bin:.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">PIPESTATUS</span>
    </td>
    <td class="docTableCell" vAlign="top">An array containing a list of exit
    status values from processes in the most recently executed foreground jobs
    in a pipeline. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">PPID</span>
    </td>
    <td class="docTableCell" vAlign="top">Process ID of the parent process. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    PROMPT_COMMAND</span> </td>
    <td class="docTableCell" vAlign="top">The command assigned to this variable
    is executed before the primary prompt is displayed. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">PS1</span>
    </td>
    <td class="docTableCell" vAlign="top">Primary prompt string, by default
    <span class="docEmphasis">$.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">PS2</span>
    </td>
    <td class="docTableCell" vAlign="top">Secondary prompt string, by default &gt;.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">PS3</span>
    </td>
    <td class="docTableCell" vAlign="top">Selection prompt string used with the
    <span class="docEmphasis">select</span> command, by default
    <span class="docEmphasis">#?.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">PS4</span>
    </td>
    <td class="docTableCell" vAlign="top">Debug prompt string used when tracing
    is turned on, by default +. Tracing can be turned on with
    <span class="docEmphasis">set -x.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">PWD</span>
    </td>
    <td class="docTableCell" vAlign="top">Present working directory; set by
    <span class="docEmphasis">cd.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">RANDOM</span>
    </td>
    <td class="docTableCell" vAlign="top">Each time this parameter is
    referenced, a random integer is generated. The sequence of random numbers
    may be initialized by assigning a value to <span class="docEmphasis">RANDOM.</span>
    If <span class="docEmphasis">RANDOM</span> is unset, it loses its special
    properties, even if it is subsequently reset. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">REPLY</span>
    </td>
    <td class="docTableCell" vAlign="top">Set when <span class="docEmphasis">
    read</span> is not supplied arguments. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">SECONDS</span>
    </td>
    <td class="docTableCell" vAlign="top">Each time <span class="docEmphasis">
    SECONDS</span> is referenced, the number of seconds since shell invocation
    is returned. If a value is assigned to <span class="docEmphasis">SECONDS,</span>
    the value returned upon subsequent references is the number of seconds since
    the assignment plus the value assigned. If <span class="docEmphasis">SECONDS</span>
    is unset, it loses its special properties, even if it is subsequently reset.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">SHELL</span>
    </td>
    <td class="docTableCell" vAlign="top">When the shell is invoked, it scans
    the environment for this name. The shell gives default values to
    <span class="docEmphasis">PATH,</span> <span class="docEmphasis">PS1,</span>
    <span class="docEmphasis">PS2,</span> <span class="docEmphasis">MAILCHECK,</span>
    and <span class="docEmphasis">IFS.</span> <span class="docEmphasis">HOME</span>
    and <span class="docEmphasis">MAIL</span> are set by
    <span class="docEmphasis">login(1).</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">SHELLOPTS</span>
    </td>
    <td class="docTableCell" vAlign="top">Contains a list of enabled shell
    options, such as <span class="docEmphasis">braceexpand,</span>
    <span class="docEmphasis">hashall,</span> <span class="docEmphasis">monitor,</span>
    etc. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">SHLVL</span>
    </td>
    <td class="docTableCell" vAlign="top">Incremented by one each time an
    instance of <span class="docEmphasis">bash</span> is started. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">TMOUT</span>
    </td>
    <td class="docTableCell" vAlign="top">Specifies number of seconds to wait
    for input before exiting. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">UID</span>
    </td>
    <td class="docTableCell" vAlign="top">Expands to the user ID of the current
    user, initialized at shell startup. </td>
  </tr>
</table>

<blockquote>
  <p class="docFootnote"><sup><a name="ch11tabfn02">[a]</a></sup> Not available
  in <span class="docEmphasis">bash</span> versions prior to 2.x.</p>
</blockquote>
<p class="docText"><b>Unsetting Variables.</b> Both local and environment
variables can be unset by using the <span class="docEmphasis">unset</span>
command, unless the variables are set as read-only.</p>
<h5 id="ch11list55" class="docExampleTitle">Example 11.55 </h5>
<pre><span class="docEmphStrong">unset name; unset TERM</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <p class="docText">The <span class="docEmphasis">unset</span> command
    removes the variable from the shell's memory.</td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">Printing the Values of Variables:
The <span class="docEmphasis">echo</span> Command.</span> The built-in
<span class="docEmphasis">echo</span> command prints its arguments to standard
output. <span class="docEmphasis">Echo,</span> with the
<span class="docEmphasis">-e</span> option, allows the use of numerous escape
sequences that control the appearance of the output.
<a class="docLink" href="#ch11table16">Table 11.16</a> lists the
<span class="docEmphasis">echo</span> options and escape sequences.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table16" class="docTableTitle">Table 11.16. <span class="docEmphasis">echo</span>
  Options and Escape Sequences</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Option</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-e</span>
    </td>
    <td class="docTableCell" vAlign="top">Allows interpretation of the escape
    sequences shown below. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-n</span>
    </td>
    <td class="docTableCell" vAlign="top">Suppresses newline at the end of a
    line of output. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-E</span><sup class="docFootnote"><a class="docLink" href="#ch11tabfn03">[a]</a></sup>
    </td>
    <td class="docTableCell" vAlign="top">Disables the interpretation of these
    escape characters, even on systems where they are interpreted by default (<span class="docEmphasis">bash</span>
    2.x). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top" colSpan="2">
    <span class="docEmphBoldItalic">Escape Sequence</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\a</span><sup class="docFootnote"><a class="docLink" href="#ch11tabfn03">[a]</a></sup>
    </td>
    <td class="docTableCell" vAlign="top">Alert (bell). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\b</span>
    </td>
    <td class="docTableCell" vAlign="top">Backspace. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\c</span>
    </td>
    <td class="docTableCell" vAlign="top">Prints the line without a newline.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\f</span>
    </td>
    <td class="docTableCell" vAlign="top">Form feed. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\n</span>
    </td>
    <td class="docTableCell" vAlign="top">Newline. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\r</span>
    </td>
    <td class="docTableCell" vAlign="top">Return. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\t</span>
    </td>
    <td class="docTableCell" vAlign="top">Tab. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\v</span>
    </td>
    <td class="docTableCell" vAlign="top">Vertical tab. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\\</span>
    </td>
    <td class="docTableCell" vAlign="top">Backslash. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\nnn</span>
    </td>
    <td class="docTableCell" vAlign="top">The character whose ASCII code is
    <span class="docEmphasis">nnn</span> (octal). </td>
  </tr>
</table>

<blockquote>
  <p class="docFootnote"><sup><a name="ch11tabfn03">[a]</a></sup> Not available
  in <span class="docEmphasis">bash</span> versions prior to 2.x.</p>
</blockquote>
<p class="docText">When using the escape sequences, don't forget to use the
<span class="docEmphasis">-e</span> switch!</p>
<h5 id="ch11list56" class="docExampleTitle">Example 11.56 </h5>
<pre>1   $ <span class="docEmphStrong">echo The username is $LOGNAME.</span>
    <span class="docEmphasis">The username is ellie.</span>

2   $ <span class="docEmphStrong">echo -e &quot;\t\tHello there\c&quot;</span>
                <span class="docEmphasis">Hello there$</span>

3   $ <span class="docEmphStrong">echo -n &quot;Hello there&quot;</span>
    <span class="docEmphasis">Hello there$</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">echo</span> command
      prints its arguments to the screen. Variable substitution is performed by
      the shell before the echo command is executed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">echo</span> command, with
      the <span class="docEmphasis">-e</span> option, supports escape sequences
      similar to those of the C programming language. The
      <span class="docEmphasis">$</span> is the shell prompt.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When the <span class="docEmphasis">-n</span> option is
      on, the line is printed without the newline. The escape sequences are not
      supported by this version of <span class="docEmphasis">echo.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
printf</span> Command.</span> The GNU version of <span class="docEmphasis">
printf</span><span id="ENB11-12"><a class="docLink" href="#EN11-12"><sup>[12]</sup></a></span>
can be used to format printed output. It prints the formatted string in the same
way as the C <span class="docEmphasis">printf</span> function. The format
consists of a string that may contain formatting instructions to describe how
the printed output will look. The formatting instructions are designated with a
<span class="docEmphasis">%</span> followed by specifiers (<span class="docEmphasis">diouxXfeEgGcs</span>)
where <span class="docEmphasis">%f</span> would represent a floating point
number and <span class="docEmphasis">%d</span> would represent a whole (decimal)
number. </p>

<p class="docText">To see a complete listing of <span class="docEmphasis">printf</span>
specifiers and how to use them, type at the command line prompt:
<span class="docEmphasis">printf - -help.</span> To see what version of
<span class="docEmphasis">printf</span> you are using, type:
<span class="docEmphasis">printf - -version.</span> If you are using
<span class="docEmphasis">bash 2.x,</span> the built-in
<span class="docEmphasis">printf</span> command uses the same format as the
executable version in <span class="docEmphasis">/usr/bin.</span></p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>printf format [argument...]
</pre>
    </td>
  </tr>
</table>

<h5 id="ch11list57" class="docExampleTitle">Example 11.57 </h5>
<pre>printf &quot;%10.2f%5d\n&quot; 10.5  25
</pre>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table17" class="docTableTitle">Table 11.17. Format Specifiers for the
  <span class="docEmphasis">printf</span> Command</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Format Specifier</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Value</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\&quot;</span>
    </td>
    <td class="docTableCell" vAlign="top">Double quote. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\0NNN</span>
    </td>
    <td class="docTableCell" vAlign="top">An octal character where
    <span class="docEmphasis">NNN</span> represents 0 to 3 digits. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\\</span>
    </td>
    <td class="docTableCell" vAlign="top">Backslash. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\a</span>
    </td>
    <td class="docTableCell" vAlign="top">Alert or beep. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\b</span>
    </td>
    <td class="docTableCell" vAlign="top">Backspace. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\c</span>
    </td>
    <td class="docTableCell" vAlign="top">Produce no further output. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\f</span>
    </td>
    <td class="docTableCell" vAlign="top">Form feed. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\n</span>
    </td>
    <td class="docTableCell" vAlign="top">Newline. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\r</span>
    </td>
    <td class="docTableCell" vAlign="top">Return. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\t</span>
    </td>
    <td class="docTableCell" vAlign="top">Horizontal tab. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\v</span>
    </td>
    <td class="docTableCell" vAlign="top">Vertical tab. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">\xNNN</span>
    </td>
    <td class="docTableCell" vAlign="top">Hexadecimal character, where
    <span class="docEmphasis">NNN</span> is 1 to 3 digits. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">%%</span>
    </td>
    <td class="docTableCell" vAlign="top">A single %. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">%b</span>
    </td>
    <td class="docTableCell" vAlign="top">Argument as a string with \ escapes
    interpreted. </td>
  </tr>
</table>

<h5 id="ch11list58" class="docExampleTitle">Example 11.58 </h5>
<pre>1   $ <span class="docEmphStrong">printf --version</span>
    <span class="docEmphasis">printf (GNU sh-utils) 1.16</span>

2   $ <span class="docEmphStrong">type printf</span>
    <span class="docEmphasis">printf is a shell builtin</span>

3   $ <span class="docEmphStrong">printf &quot;The number is %.2f\n&quot; 100</span>
    <span class="docEmphasis">The number is 100.00</span>

4   $ <span class="docEmphStrong">printf &quot;%-20s%-15s%10.2f\n&quot; &quot;Jody&quot; &quot;Savage&quot; 28</span>
    <span class="docEmphasis">Jody                Savage              28.00</span>

5   $ <span class="docEmphStrong">printf &quot;|%-20s|%-15s|%10.2f|\n&quot; &quot;Jody&quot; &quot;Savage&quot; 28</span>
    <span class="docEmphasis">Jody                |Savage         |     28.00|</span>

6   $ <span class="docEmphStrong">printf &quot;%s's average was %.1f%%.\n&quot; &quot;Jody&quot; $(( (80+70+90)/3 ))</span>
    <span class="docEmphasis">Jody's average was 80.0%.</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The GNU version of the <span class="docEmphasis">printf</span>
      command is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If using <span class="docEmphasis">bash2.x,</span>
      <span class="docEmphasis">printf</span> is a built-in command.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The argument <span class="docEmphasis">100</span> is
      printed as a floating point number with only 2 places to the right of the
      decimal point as designated by the specification <span class="docEmphasis">
      %.2f</span> in the format string. Unlike C, there are no commas separating
      the arguments.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The format string specifies that three conversions will
      take place: the first one is <span class="docEmphasis">%-20s</span> (a
      left-justified, 20-character string), next is <span class="docEmphasis">
      %-15s</span> (a left-justified, 15-character string, and last
      <span class="docEmphasis">%10.2f</span> (a right-justified, 10-character
      floating point number, one of whose characters is the period and the last
      two characters are the two numbers to the right of the decimal point).
      Each argument is formatted in the order of the corresponding % signs, so
      that string <span class="docEmphasis">Jody</span> corresponds to first %,
      string <span class="docEmphasis">Savage</span> corresponds to the second
      %, and the number <span class="docEmphasis">28</span> to the last % sign.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">This line is the same as line 4 except vertical bars
      have been added to demonstrate left- and right-justification of the
      strings.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">printf</span> command
      formats the string <span class="docEmphasis">Jody</span> and formats the
      result of the arithmetic expansion. (See &quot;<a class="docLink" href="#ch11lev2sec19">Arithmetic
      Expansion</a>&quot;.) Two percent (%%) signs are needed to print one percent
      sign (%).</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Variable Expansion Modifiers (Parameter Expansion).</b>
Variables can be tested and modified by using special modifiers. The modifier
provides a shortcut conditional test to check if a variable has been set, and
then assigns a value to the variable based on the outcome of the test. See
<a class="docLink" href="#ch11table18">Table 11.18</a> for a list of variable
modifiers.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table18" class="docTableTitle">Table 11.18. Variable Modifiers</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Modifier</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Value</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    ${variable:-word}</span> </td>
    <td class="docTableCell" vAlign="top">If <span class="docEmphasis">variable</span>
    is set and is non-null, substitute its value; otherwise, substitute
    <span class="docEmphasis">word.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    ${variable:=word}</span> </td>
    <td class="docTableCell" vAlign="top">If <span class="docEmphasis">variable</span>
    is set or is non-null, substitute its value; otherwise, set it to
    <span class="docEmphasis">word.</span> The value of
    <span class="docEmphasis">variable</span> is substituted permanently.
    Positional parameters may not be assigned in this way. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">${variable:+word}</span>
    </td>
    <td class="docTableCell" vAlign="top">If variable is set and is non-null,
    substitute <span class="docEmphasis">word;</span> otherwise, substitute
    nothing. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">${variable:?word}</span>
    </td>
    <td class="docTableCell" vAlign="top">If <span class="docEmphasis">variable</span>
    is set and is non-null, substitute its value; otherwise, print
    <span class="docEmphasis">word</span> and exit from the shell. If
    <span class="docEmphasis">word</span> is omitted, the message
    <span class="docEmphasis">parameter null or not set</span> is printed. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">${variable:offset}</span>
    </td>
    <td class="docTableCell" vAlign="top">Gets the substring of the value in
    <span class="docEmphasis">variable</span> starting at
    <span class="docEmphasis">offset,</span> where <span class="docEmphasis">
    offset</span> starts at 0 to the end of the string.<sup class="docFootnote"><a class="docLink" href="#ch11tabfn04">[a]</a></sup>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">${variable:offset:length}</span>
    </td>
    <td class="docTableCell" vAlign="top">Gets the substring of the value in
    <span class="docEmphasis">variable</span> starting at
    <span class="docEmphasis">offset,</span> length characters over. </td>
  </tr>
</table>

<blockquote>
  <p class="docFootnote"><sup><a name="ch11tabfn04">[a]</a></sup> Not available
  on <span class="docEmphasis">bash</span> versions prior to 2.0.</p>
</blockquote>
<p class="docText">Using the colon with any of the modifiers (<span class="docEmphasis">-</span>,
<span class="docEmphasis">=</span>, <span class="docEmphasis">+</span>,
<span class="docEmphasis">?</span>) checks whether the variable is not set or is
null; without the colon, a variable set to null is considered to be set.</p>
<h5 id="ch11list59" class="docExampleTitle">Example 11.59 </h5>
<pre>(Substitute Temporary Default Values)
1  $ <span class="docEmphStrong">fruit=peach</span>
2  $ <span class="docEmphStrong">echo ${fruit:-plum}</span>
   <span class="docEmphasis">peach</span>

3  $ <span class="docEmphStrong">echo ${newfruit:-apple}</span>
   <span class="docEmphasis">apple</span>
4  $ <span class="docEmphStrong">echo $newfruit</span>

5  $ <span class="docEmphStrong">echo $EDITOR</span>       <span class="docEmphasis"># More realistic example</span>

6  $ <span class="docEmphStrong">echo ${EDITOR:-/bin/vi}</span>
   <span class="docEmphasis">/bin/vi</span>
7  $ <span class="docEmphStrong">echo $EDITOR</span>

8  $ <span class="docEmphStrong">name=</span>
   $ <span class="docEmphStrong">echo ${name-Joe}</span>
9  $ <span class="docEmphStrong">echo ${name:-Joe}</span>
   <span class="docEmphasis">Joe</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">fruit</span> is
      assigned the value <span class="docEmphasis">peach.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The special modifier will check to see if the variable
      <span class="docEmphasis">fruit</span> has been set. If it has, the value
      is printed; if not, <span class="docEmphasis">plum</span> is substituted
      for <span class="docEmphasis">fruit</span> and its value is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">newfruit</span>
      has not been set. The value <span class="docEmphasis">apple</span> will be
      temporarily substituted for <span class="docEmphasis">newfruit.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The setting was only temporary. The variable
      <span class="docEmphasis">newfruit</span> is not set.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The environment variable <span class="docEmphasis">
      EDITOR</span> has not been set.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">:-</span> modifier
      substitutes <span class="docEmphasis">EDITOR</span> with
      <span class="docEmphasis">/bin/vi.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">EDITOR</span> was never
      set. Nothing prints.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">name</span> is
      set to null. By not prefixing the modifier with a colon, the variable is
      considered to be set, even if to null, and the new value
      <span class="docEmphasis">Joe</span> is not assigned to
      <span class="docEmphasis">name.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The colon causes the modifier to check that a variable
      is either <span class="docEmphasis">not</span> set or is set to null. In
      either case, the value <span class="docEmphasis">Joe</span> will be
      substituted for <span class="docEmphasis">name.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list60" class="docExampleTitle">Example 11.60 </h5>
<pre>(Substitute Permanent Default Values)

1  $ <span class="docEmphStrong">name=</span>

2  $ <span class="docEmphStrong">echo  ${name:=Peter}</span>
   <span class="docEmphasis">Peter</span>

3  $ <span class="docEmphStrong">echo $name</span>
   <span class="docEmphasis">Peter</span>

4  $ <span class="docEmphStrong">echo ${EDITOR:=/bin/vi}</span>
   <span class="docEmphasis">/bin/vi</span>

5  $ <span class="docEmphStrong">echo $EDITOR</span>
   <span class="docEmphasis">/bin/vi</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">name</span> is
      assigned the null value.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The special modifier <span class="docEmphasis">:=</span>
      will check to see if the variable name has been set. If it has been set,
      it will not be changed; if it is either null or not set, it will be
      assigned the value to the right of the equal sign.
      <span class="docEmphasis">Peter</span> is assigned to
      <span class="docEmphasis">name</span> since the variable is set to null.
      The setting is permanent.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">name</span>
      still contains the value <span class="docEmphasis">Peter.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of the variable <span class="docEmphasis">
      EDITOR</span> is set to <span class="docEmphasis">/bin/vi.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of the variable <span class="docEmphasis">
      EDITOR</span> is displayed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list61" class="docExampleTitle">Example 11.61 </h5>
<pre>(Substitute Temporary Alternate Value)

1  $ <span class="docEmphStrong">foo=grapes</span>

2  $ <span class="docEmphStrong">echo ${foo:+pears}</span>
   <span class="docEmphasis">pears</span>

3  $ <span class="docEmphStrong">echo $foo</span>
   <span class="docEmphasis">grapes</span>
   $
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">foo</span> has
      been assigned the value <span class="docEmphasis">grapes.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The special modifier <span class="docEmphasis">:+</span>
      will check to see if the variable has been set. If it has been set,
      <span class="docEmphasis">pears</span> will temporarily be substituted for
      <span class="docEmphasis">foo;</span> if not, null is returned.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">foo</span> now
      has its original value.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list62" class="docExampleTitle">Example 11.62 </h5>
<pre>(Creating Error Messages Based On Default Values)

1  $ <span class="docEmphStrong">echo ${namex:?&quot;namex is undefined&quot;}</span>
   <span class="docEmphasis">namex: namex is undefined</span>

2  $ <span class="docEmphStrong">echo ${y?}</span>
   <span class="docEmphasis">y: parameter null or not set</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">:?</span> modifier will
      check to see if the variable has been set. If not, the string to the right
      of the <span class="docEmphasis">?</span> is printed to standard error,
      after the name of the variable. If in a script, the script exits.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">If a message is not provided after the
      <span class="docEmphasis">?,</span> the shell sends a default message to
      standard error.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list63" class="docExampleTitle">Example 11.63 </h5>
<pre>(Creating Substring<sup class="docFootnote"><a class="docLink" href="#ch11fn17">[a]</a></sup>)

1  $ <span class="docEmphStrong">var=notebook</span>

2  $ <span class="docEmphStrong">echo ${var:0:4}</span>
   <span class="docEmphasis">note</span>

3  $ <span class="docEmphStrong">echo ${var:4:4}</span>
   <span class="docEmphasis">book</span>

4  $ <span class="docEmphStrong">echo ${var:0:2}</span>
   <span class="docEmphasis">no</span>
</pre>
<blockquote>
  <p class="docFootnote"><sup><a name="ch11fn17">[a]</a></sup> Not available in
  versions of <span class="docEmphasis">bash</span> prior to 2.x.</p>
</blockquote>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable is assigned the value,
      <span class="docEmphasis">notebook.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The substring of <span class="docEmphasis">var</span>
      starts at offset 0, the <span class="docEmphasis">n</span> in
      <span class="docEmphasis">notebook,</span> and has a length of 4
      characters, ending at the <span class="docEmphasis">e.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The substring of <span class="docEmphasis">var</span>
      starts at offset 4, the <span class="docEmphasis">b</span> in
      <span class="docEmphasis">notebook,</span> and has a length of 4
      characters, ending at the <span class="docEmphasis">k.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The substring of <span class="docEmphasis">var</span>
      starts at offset 0, the <span class="docEmphasis">n</span> in
      <span class="docEmphasis">notebook,</span> and has a length of 2
      characters, ending at the <span class="docEmphasis">o.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Variable Expansion of Substrings.</b> Pattern-matching
arguments are used to strip off certain portions of a string from either the
front or end of the string. The most common use for these operators is stripping
off pathname elements from the head or tail of the path. See
<a class="docLink" href="#ch11table19">Table 11.19</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table19" class="docTableTitle">Table 11.19. Variable Expansion Substrings<sup class="docFootnote"><a class="docLink" href="#ch11tabfn05">[a]</a></sup>
  </h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Expression</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Function</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">${variable%pattern}</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches the <span class="docEmphasis">
    smallest trailing portion</span> of the value of <span class="docEmphasis">
    variable</span> to <span class="docEmphasis">pattern</span> and removes it.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">${variable%%pattern}</span>
    </td>
    <td class="docTableCell" vAlign="top">Matches the <span class="docEmphasis">
    largest trailing portion</span> of the value of <span class="docEmphasis">
    variable</span> to <span class="docEmphasis">pattern</span> and removes it.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    ${variable#pattern}</span> </td>
    <td class="docTableCell" vAlign="top">Matches the <span class="docEmphasis">
    smallest leading portion</span> of the value of <span class="docEmphasis">
    variable</span> to <span class="docEmphasis">pattern</span> and removes it.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    ${variable##pattern}</span> </td>
    <td class="docTableCell" vAlign="top">Matches the <span class="docEmphasis">
    largest leading portion</span> of the value of <span class="docEmphasis">
    variable</span> to <span class="docEmphasis">pattern</span> and removes it.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">${#variable}</span>
    </td>
    <td class="docTableCell" vAlign="top">Substitutes the number of characters
    in the variable. If * or @, the length is the number of positional
    parameters. </td>
  </tr>
</table>

<blockquote>
  <p class="docFootnote"><sup><a name="ch11tabfn05">[a]</a></sup> Not available
  on versions of <span class="docEmphasis">bash</span> prior to 2.x.</p>
</blockquote>
<h5 id="ch11list64" class="docExampleTitle">Example 11.64 </h5>
<pre>1   $ <span class="docEmphStrong">pathname=&quot;/usr/bin/local/bin&quot;</span>
2   $ <span class="docEmphStrong">echo ${pathname%/bin*}</span>
    <span class="docEmphasis">/usr/bin/local</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">pathname</span>
      is assigned <span class="docEmphasis">/usr/bin/local/bin.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">%</span> removes the
      <span class="docEmphasis">smallest trailing portion</span> of
      <span class="docEmphasis">pathname</span> containing the pattern
      <span class="docEmphasis">/bin,</span> followed by zero or more
      characters; that is, it strips off <span class="docEmphasis">/bin.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list65" class="docExampleTitle">Example 11.65 </h5>
<pre>1   $ <span class="docEmphStrong">pathname=&quot;usr/bin/local/bin&quot;</span>
2   $ <span class="docEmphStrong">echo</span> <span class="docEmphStrong">${pathname%%/bin*}</span>
    <span class="docEmphasis">/usr</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">pathname</span>
      is assigned <span class="docEmphasis">/usr/bin/local/bin.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">%%</span> removes the
      <span class="docEmphasis">largest trailing portion</span> of
      <span class="docEmphasis">pathname</span> containing the pattern
      <span class="docEmphasis">/bin,</span> followed by zero or more
      characters; that is, it strips off <span class="docEmphasis">
      /bin/local/bin</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list66" class="docExampleTitle">Example 11.66 </h5>
<pre>1   $ <span class="docEmphStrong">pathname=/home/lilliput/jake/.bashrc</span>
2   $ <span class="docEmphStrong">echo ${pathname#/home}</span>
    <span class="docEmphasis">/lilliput/jake/.bashrc</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">pathname</span>
      is assigned <span class="docEmphasis">/home/liliput/jake/.bashrc.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">#</span> removes the
      <span class="docEmphasis">smallest leading portion</span> of
      <span class="docEmphasis">pathname</span> containing the pattern
      <span class="docEmphasis">/home;</span> that is, <span class="docEmphasis">
      /home</span> is stripped from the beginning of the path variable.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list67" class="docExampleTitle">Example 11.67 </h5>
<pre>1   $ <span class="docEmphStrong">pathname=/home/liliput/jake/.bashrc</span>
2   $ <span class="docEmphStrong">echo ${pathname##*/</span>}
    <span class="docEmphasis">.bashrc</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The local variable <span class="docEmphasis">pathname</span>
      is assigned <span class="docEmphasis">/home/liliput/jake/.bashrc.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The ## removes the <span class="docEmphasis">largest
      leading portion</span> of <span class="docEmphasis">pathname</span>
      containing zero or more characters up to and including the last slash;
      that is, it strips off <span class="docEmphasis">/home/lilliput/jake</span>
      from the path variable.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list68" class="docExampleTitle">Example 11.68 </h5>
<pre>1   $ <span class="docEmphStrong">name=&quot;Ebenezer Scrooge&quot;</span>
2   $ <span class="docEmphStrong">echo  ${#name}</span>
    <span class="docEmphasis">16</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">name</span> is
      assigned the string <span class="docEmphasis">Ebenezer Scrooge.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">${#variable}</span>
      syntax displays the number of characters in the string assigned to the
      variable <span class="docEmphasis">name.</span> There are 16 characters in
      <span class="docEmphasis">Ebenezer Scrooge.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Positional Parameters.</b> Normally, the special built-in
variables, often called positional parameters, are used in shell scripts when
passing arguments from the command line, or used in functions to hold the value
of arguments passed to the function. The variables are called positional
parameters because they are referenced by numbers 1, 2, 3, and so on,
representing their respective positions in the parameter list. See
<a class="docLink" href="#ch11table20">Table 11.20</a>.</p>
<p class="docText">The name of the shell script is stored in the
<span class="docEmphasis">$0</span> variable. The positional parameters can be
set, reset, and unset with the <span class="docEmphasis">set</span> command.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table20" class="docTableTitle">Table 11.20. Positional Parameters</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Expression</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Function</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$0</span>
    </td>
    <td class="docTableCell" vAlign="top">References the name of the current
    shell script. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$1–$9</span>
    </td>
    <td class="docTableCell" vAlign="top">Positional parameters
    <span class="docEmphasis">1</span>–<span class="docEmphasis">9.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">${10}</span>
    </td>
    <td class="docTableCell" vAlign="top">Positional parameter
    <span class="docEmphasis">10.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$#</span>
    </td>
    <td class="docTableCell" vAlign="top">Evaluates to the number of positional
    parameters. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$*</span>
    </td>
    <td class="docTableCell" vAlign="top">Evaluates to all the positional
    parameters. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$@</span>
    </td>
    <td class="docTableCell" vAlign="top">Same as <span class="docEmphasis">$*,</span>
    except when double quoted. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&quot;$*&quot;</span>
    </td>
    <td class="docTableCell" vAlign="top">Evaluates to <span class="docEmphasis">
    &quot;$1 $2 $3&quot;,</span> etc. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&quot;$@&quot;</span>
    </td>
    <td class="docTableCell" vAlign="top">Evaluates to <span class="docEmphasis">
    &quot;$1&quot;</span> <span class="docEmphasis">&quot;$2&quot;</span> <span class="docEmphasis">
    &quot;$3&quot;,</span> etc. </td>
  </tr>
</table>

<h5 id="ch11list69" class="docExampleTitle">Example 11.69 </h5>
<pre>1   $ <span class="docEmphStrong">set punky tommy bert jody</span>
    $ <span class="docEmphStrong">echo $*</span>             <span class="docEmphasis"># Prints all the positional parameters</span>
    <span class="docEmphasis">punky tommy bert jody</span>

2   $ <span class="docEmphStrong">echo $1</span>             <span class="docEmphasis"># Prints the first position</span>
    <span class="docEmphasis">punky</span>

<span class="docEmphasis">3</span>   $ <span class="docEmphStrong">echo $2 $3</span>          <span class="docEmphasis"># Prints the second and third position</span>
    <span class="docEmphasis">tommy bert</span>

4   $ <span class="docEmphStrong">echo $#</span>             <span class="docEmphasis"># Prints the total number of positional</span>
    <span class="docEmphasis">4                     # parameters</span>

5   $ <span class="docEmphStrong">set a b c d e f g h i j k l m</span>
    $ <span class="docEmphStrong">print $10</span>           <span class="docEmphasis"># Prints the first positional parameter</span>
    <span class="docEmphasis">a0                    # followed by a 0.</span>

    $ <span class="docEmphStrong">echo ${10}</span> <span class="docEmphStrong">${11}</span>    <span class="docEmphasis"># Prints the 10th and 11th positions</span>
    <span class="docEmphasis">j k</span>

6   $ <span class="docEmphStrong">echo $#</span>
    <span class="docEmphasis">13</span>

7   $ <span class="docEmphStrong">echo $*</span>
    <span class="docEmphasis">a b c d e f g h i j k l m</span>

8   $ <span class="docEmphStrong">set file1 file2 file3</span>
    $ <span class="docEmphStrong">echo \$$#</span>
    <span class="docEmphasis">$3</span>

9   $ <span class="docEmphStrong">eval echo \$$#</span>
    <span class="docEmphasis">file3</span>

10  $ <span class="docEmphStrong">set --</span>            <span class="docEmphasis"># Unsets all positional parameters</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">set</span> command
      assigns values to positional parameters. The <span class="docEmphasis">$*</span>
      special variable contains all of the parameters set.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of the first positional parameter,
      <span class="docEmphasis">punky,</span> is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The value of the second and third parameters,
      <span class="docEmphasis">tommy</span> and <span class="docEmphasis">bert,</span>
      are displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">$#</span> special
      variable contains the number of positional parameters currently set.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">set</span> command resets
      all of the positional parameters. The original parameter list is cleared.
      To print any positional parameters beyond 9, use the curly braces to keep
      the two digits together. Otherwise, the value of the first positional
      parameter is printed, followed by the number appended to it.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The number of positional parameters is now
      <span class="docEmphasis">13.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The values of all the positional parameters are
      printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The dollar sign is escaped; <span class="docEmphasis">
      $#</span> is the number of arguments. The <span class="docEmphasis">echo</span>
      command displays <span class="docEmphasis">$3,</span> a literal dollar
      sign followed by the number of positional parameters.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">eval</span> command
      parses the command line a second time before executing the command. The
      first time parsed by the shell, the print would display
      <span class="docEmphasis">$3;</span> the second time, after
      <span class="docEmphasis">eval,</span> the <span class="docEmphasis">print</span>
      displays the value of <span class="docEmphasis">$3,</span>
      <span class="docEmphasis">file3.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">set</span> command with
      the - - option clears or unsets all positional parameters.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Other Special Variables.</b> The shell has special
variables consisting of a single character.The dollar sign preceding the
character allows you to access the value stored in the variable. See
<a class="docLink" href="#ch11table21">Table 11.21</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table21" class="docTableTitle">Table 11.21. Special Variables</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Variable</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$</span>
    </td>
    <td class="docTableCell" vAlign="top">The PID of the shell. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-</span>
    </td>
    <td class="docTableCell" vAlign="top">The <span class="docEmphasis">sh</span>
    options currently set. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">?</span>
    </td>
    <td class="docTableCell" vAlign="top">The exit value of last executed
    command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">!</span>
    </td>
    <td class="docTableCell" vAlign="top">The PID of the last job put in the
    background. </td>
  </tr>
</table>

<h5 id="ch11list70" class="docExampleTitle">Example 11.70 </h5>
<pre>1   $ <span class="docEmphStrong">echo The pid of this shell is $$</span>
    <span class="docEmphasis">The pid of this shell is 4725</span>

2   $ <span class="docEmphStrong">echo The options for this shell are $-</span>
    <span class="docEmphasis">The options for this shell are imh</span>

3   $ <span class="docEmphStrong">grep dodo /etc/passwd</span>
    $ <span class="docEmphStrong">echo $?</span>
    <span class="docEmphasis">1</span>

4   $ <span class="docEmphStrong">sleep 25&amp;</span>
    <span class="docEmphasis">4736</span>
    $ <span class="docEmphStrong">echo $!</span>
    <span class="docEmphasis">4736</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">$</span> variable holds
      the value of the PID for this process.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">-</span> variable lists
      all options for this interactive <span class="docEmphasis">bash</span>
      shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">grep</span> command
      searches for the string <span class="docEmphasis">dodo</span> in the
      <span class="docEmphasis">/etc/passwd</span> file. The
      <span class="docEmphasis">?</span> variable holds the exit status of the
      last command executed. Since the value returned from
      <span class="docEmphasis">grep</span> is <span class="docEmphasis">1,</span>
      <span class="docEmphasis">grep</span> is assumed to have failed in its
      search. An exit status of zero indicates a successful exit.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">!</span> variable holds
      the PID number of the last command placed in the background. The
      <span class="docEmphasis">&amp;</span> appended to the
      <span class="docEmphasis">sleep</span> command sends the command to the
      background.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec17">11.3.3 Quoting</h4>
<p class="docText">Quoting is used to protect special metacharacters from
interpretation and prevent parameter expansion. There are three methods of
quoting: the backslash, single quotes, and double quotes. The characters listed
in <a class="docLink" href="#ch11table22">Table 11.22</a> are special to the
shell and must be quoted.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table22" class="docTableTitle">Table 11.22. Special Metacharacters Requiring Quotes</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Metacharacter</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">;</span>
    </td>
    <td class="docTableCell" vAlign="top">Command separator. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&amp;</span>
    </td>
    <td class="docTableCell" vAlign="top">Background processing. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">( )</span>
    </td>
    <td class="docTableCell" vAlign="top">Command grouping; creates a subshell.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">{ }</span>
    </td>
    <td class="docTableCell" vAlign="top">Command grouping; does not create a
    subshell. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">|</span>
    </td>
    <td class="docTableCell" vAlign="top">Pipe. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&lt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Input redirection. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Output redirection. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">newline</span>
    </td>
    <td class="docTableCell" vAlign="top">Command termination. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">space/tab</span>
    </td>
    <td class="docTableCell" vAlign="top">Word delimiter. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">$</span>
    </td>
    <td class="docTableCell" vAlign="top">Variable substitution character. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">* [ ] ?</span>
    </td>
    <td class="docTableCell" vAlign="top">Shell metacharacters for filename
    expansion. </td>
  </tr>
</table>

<p class="docText">Single and double quotes must be matched. Single quotes
protect special metacharacters, such as $, *, ?, |, &gt;, and &lt;, from
interpretation. Double quotes also protect special metacharacters from being
interpreted, but allow variable and command substitution characters (the dollar
sign and backquotes) to be processed. Single quotes will protect double quotes
and double quotes will protect single quotes.</p>
<p class="docText">Unlike the Bourne shell, <span class="docEmphasis">bash</span>
tries to let you know if you have mismatched quotes. If running interactively, a
secondary prompt appears when quotes are not matched; if in a shell script, the
file is scanned and if the quote is not matched, the shell will attempt to match
it with the next available quote. If the shell cannot match it with the next
available quote, the program aborts and the message <span class="docEmphasis">
bash:unexpected EOF while looking for</span> <tt>'</tt><span class="docEmphasis">&quot;<tt>'</tt></span>
appears on the terminal. Quoting can be a real hassle for even the best of shell
programmers! See <a class="docLink" href="Appendix C.htm">
Appendix C</a> for shell quoting rules.</p>
<p class="docText"><b>The Backslash.</b> The backslash is used to quote (or
escape) a single character from interpretation. The backslash is not interpreted
if placed in single quotes. The backslash will protect the dollar sign (<span class="docEmphasis">$</span>),
backquotes (<tt>'</tt> <tt>')</tt>, and the backslash from interpretation if
enclosed in double quotes.</p>
<h5 id="ch11list71" class="docExampleTitle">Example 11.71 </h5>
<pre>1   $ <span class="docEmphStrong">echo Where are you going\?</span>
    <span class="docEmphasis">Where are you going?</span>

2   $ <span class="docEmphStrong">echo Start on this line and \</span>
    <span class="docEmphStrong">&gt;  go to the next line.</span>
    <span class="docEmphasis">Start on this line and go to the next line.</span>

3   $ <span class="docEmphStrong">echo \\</span>
    \

4   $ <span class="docEmphStrong">echo '\\'</span>
    \\

5   $ <span class="docEmphStrong">echo '\$5.00'</span>
    <span class="docEmphasis">\$5.00</span>

6   $ <span class="docEmphStrong">echo  &quot;\$5.00&quot;</span>
    <span class="docEmphasis">$5.00</span>

7   $ <span class="docEmphStrong">echo 'Don\'t you need $5.00?'</span>
    &gt;
    &gt;'

    <span class="docEmphasis">Don\t you need .00?</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The backslash prevents the shell from performing
      filename substitution on the question mark.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The backslash escapes the newline, allowing the next
      line to become part of this line.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Because the backslash itself is a special character, it
      prevents the backslash following it from interpretation.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The backslash is not interpreted when enclosed in
      single quotes.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">All characters in single quotes are treated literally.
      The backslash does not serve any purpose here.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When enclosed in double quotes, the backslash prevents
      the dollar sign from being interpreted for variable substitution.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The backslash is not interpreted when inside single
      quotes; therefore, the shell sees three single quotes (the one at the end
      of the string is not matched). A secondary prompt appears, waiting for a
      closing single quote. When the shell finally gets the closing quote, it
      strips out all of the quotes and passes the string on to the
      <span class="docEmphasis">echo</span> command. Because the first two
      quotes were matched, the rest of the string <span class="docEmphasis">t
      you need $5.00?</span> was not enclosed within any quotes. The shell tried
      to evaluate $5; it was empty and <span class="docEmphasis">.00</span>
      printed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Single Quotes.</b> Single quotes must be matched. They
protect all metacharacters from interpretation. To print a single quote, it must
be enclosed in double quotes or escaped with a backslash.</p>
<h5 id="ch11list72" class="docExampleTitle">Example 11.72 </h5>
<pre>1   $ <span class="docEmphStrong">echo 'hi there</span>
    &gt; <span class="docEmphStrong">how are you?</span>
    &gt; <span class="docEmphStrong">When will this end?</span>
    &gt; <span class="docEmphStrong">When the quote is matched</span>
    &gt; <span class="docEmphStrong">oh'</span>
    <span class="docEmphasis">hi there</span>
    <span class="docEmphasis">how are you?</span>
    <span class="docEmphasis">When will this end?</span>
    <span class="docEmphasis">When the quote is matched</span>
    <span class="docEmphasis">oh</span>

2   $ <span class="docEmphStrong">echo Don\'t you need '$5.00?'</span>
    <span class="docEmphasis">Don't you need $5.00?</span>

3   $ <span class="docEmphStrong">echo 'Mother yelled, &quot;Time to eat!&quot;'</span>
    <span class="docEmphasis">Mother yelled, &quot;Time to eat!&quot;</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The single quote is not matched on the line. The Bourne
      shell produces a secondary prompt. It is waiting for the quote to be
      matched.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The single quotes protect all metacharacters from
      interpretation. The apostrophe in <span class="docEmphasis">Don't</span>
      is escaped with a backslash (the backslash protects a single character,
      rather than a string). Otherwise, it would match the single quote before
      the $. Then the single quote at the end of the string would not have a
      mate. The <span class="docEmphasis">$</span> and the
      <span class="docEmphasis">?</span> are enclosed in a pair of single
      quotes, protecting them from shell interpretation; i.e., treating them as
      literals.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The single quotes protect the double quotes in this
      string.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Double Quotes.</b> Double quotes must be matched, will
allow variable and command substitution, and protect any other special
metacharacters from being interpreted by the shell.</p>
<h5 id="ch11list73" class="docExampleTitle">Example 11.73 </h5>
<pre>1   $ <span class="docEmphStrong">name=Jody</span>

2   $ <span class="docEmphStrong">echo &quot;Hi $name, I'm glad to meet you!&quot;</span>
    <span class="docEmphasis">Hi Jody, I'm glad to meet you!</span>

3   $ <span class="docEmphStrong">echo &quot;Hey $name, the time is $(date)&quot;</span>
    <span class="docEmphasis">Hey Jody, the time is Wed Jul 14 14:04:11 PST 2001</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">name</span> is
      assigned the string <span class="docEmphasis">Jody.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The double quotes surrounding the string will protect
      all special metacharacters from interpretation, with the exception of
      <span class="docEmphasis">$</span> in <span class="docEmphasis">$name.</span>
      Variable substitution is performed within double quotes.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Variable substitution and command substitution are both
      performed when enclosed within double quotes. The variable
      <span class="docEmphasis">name</span> is expanded, and the command in
      parentheses, <span class="docEmphasis">date,</span> is executed. (See &quot;<a class="docLink" href="#ch11lev2sec18">Command
      Substitution</a>&quot; below.)</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec18">11.3.4 Command Substitution</h4>
<p class="docText">Command substitution is used when assigning the output of a
command to a variable or when substituting the output of a command within a
string. All shells use backquotes to perform command substitution.<span id="ENB11-13"><a class="docLink" href="#EN11-13"><sup>[13]</sup></a></span>
<span class="docEmphasis">Bash</span> allows two forms: the older form, where
the command(s) is placed within backquotes, and the new Korn-style form, where
the command(s) is placed within a set of parentheses preceded by a dollar sign.</p>
<p class="docText"><span class="docEmphasis">Bash</span> performs the expansion
by executing the command and returning the standard output of the command, with
any trailing newlines deleted. When the old-style backquote form of substitution
is used, the backslash retains its literal meaning except when followed by
<span class="docEmphasis">$,</span> <span class="docEmphasis"><tt>'</tt>,</span>
or <span class="docEmphasis">\.</span> When using the <span class="docEmphasis">
$(command)</span> form, all characters between the parentheses make up the
command; none are treated specially.</p>
<p class="docText">Command substitutions may be nested. To nest when using the
old form, the inner backquotes must be escaped with backslashes.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>'UNIX command'    <span class="docEmphasis"># Old method with backquotes</span>

$(UNIX command)   <span class="docEmphasis"># New method</span>
</pre>
    </td>
  </tr>
</table>

<h5 id="ch11list74" class="docExampleTitle">Example 11.74 </h5>
<pre>(The Old Way)
1   $ <span class="docEmphStrong">echo &quot;The hour is 'date +%H'&quot;</span>
    <span class="docEmphasis">The hour is 09</span>

2   <span class="docEmphStrong">$ name='awk -F: '{print $1}' database'</span>
    <span class="docEmphStrong">$ echo $name</span>
    <span class="docEmphasis">Ebenezer Scrooge</span>

3   $ <span class="docEmphStrong">ls 'ls /etc'</span>
    <span class="docEmphasis">shutdown</span>

4   <span class="docEmphStrong">$ set 'date'</span>
5   <span class="docEmphStrong">$ echo $*</span>
    <span class="docEmphasis">Wed Jul 14 09:35:21 PDT 2001</span>
6   <span class="docEmphStrong">$ echo $2 $6</span>
    <span class="docEmphasis">Jul 2001</span>

7   <span class="docEmphStrong">$ echo 'basename \'pwd\''</span>
    <span class="docEmphasis">ellie</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">date</span>
      command is substituted into the string.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">awk</span>
      command is assigned to the variable <span class="docEmphasis">name</span>
      and displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">ls</span>
      command, enclosed in backquotes, is a list of files from the
      <span class="docEmphasis">/etc</span> directory. The filenames will be
      arguments to the first <span class="docEmphasis">ls</span> command. All
      files with the same name in <span class="docEmphasis">/etc</span> in the
      current directory are listed. (The files that are not matches in this
      directory will cause an error message, such as ls:
      <span class="docEmphasis">termcap: No such</span>
      <span class="docEmphasis">file or directory.</span>)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">set</span> command
      assigns the output of the <span class="docEmphasis">date</span> command to
      positional parameters. Whitespace separates the list of words into its
      respective parameters.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">$*</span> variable holds
      all of the parameters. The output of the <span class="docEmphasis">date</span>
      command was stored in the <span class="docEmphasis">$*</span> variable.
      Each parameter is separated by whitespace.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The second and sixth parameters are printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">To set the variable <span class="docEmphasis">dirname</span>
      to the name (only) of the present working directory, command substitution
      is nested. The <span class="docEmphasis">pwd</span> command is executed
      first, passing the full pathname of the present working directory as an
      argument to the UNIX command <span class="docEmphasis">basename.</span>
      The <span class="docEmphasis">basename</span> command strips off all but
      the last element of a pathname. When nesting commands within backquotes,
      the backquotes for the inner command must be escaped with a backslash.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText">The <span class="docEmphasis">bash</span> alternate for using
backquotes in command substitution is presented below in
<a class="docLink" href="#ch11list75">Example 11.75</a>.</p>
<h5 id="ch11list75" class="docExampleTitle">Example 11.75 </h5>
<pre>(The New Way)
1  $ <span class="docEmphStrong">d=$(date)</span>
   $ <span class="docEmphStrong">echo $d</span>
    <span class="docEmphasis">Wed Jul 14 09:35:21 PDT 2001</span>

2  $ <span class="docEmphStrong">lines = $(cat filex)</span>

3  $ <span class="docEmphStrong">echo The time is $(date +%H)</span>
   <span class="docEmphasis">The time is 09</span>

4  $ <span class="docEmphStrong">machine=$(uname -n)</span>
   $ <span class="docEmphStrong">echo $machine</span>
   <span class="docEmphasis">jody</span>

5  $ <span class="docEmphStrong">pwd</span>
   <span class="docEmphasis">/usr/local/bin</span>
   $ <span class="docEmphStrong">dirname=&quot;$(basename $(pwd)) &quot;</span>   <span class="docEmphasis"># Nesting commands</span>
   $ <span class="docEmphStrong">echo $dirname</span>
   <span class="docEmphasis">bin</span>

6  $ <span class="docEmphStrong">echo $(cal)</span>                           <span class="docEmphasis"># Newlines are lost</span>
   <span class="docEmphasis">July 2001 S M Tu W Th F S 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15</span>
   <span class="docEmphasis">16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31</span>

7  <span class="docEmphStrong">$ echo &quot;$(cal)&quot;</span>
        <span class="docEmphasis">July 2001</span>
    <span class="docEmphasis">S  M  Tu  W  Th F  S</span>
                 <span class="docEmphasis">1  2  3</span>
    <span class="docEmphasis">4  5  6  7   8  9 10</span>
   <span class="docEmphasis">11 12 13 14  15 16 17</span>
   <span class="docEmphasis">18 19 20 21  22 23 24</span>
   <span class="docEmphasis">25 26 27 28  29 30 31</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">date</span> command is
      enclosed within parentheses. The output of the command is substituted into
      the expression, then assigned to the variable <span class="docEmphasis">d,</span>
      and displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output from the <span class="docEmphasis">cat</span>
      command is assigned to the variable <span class="docEmphasis">lines.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Again the <span class="docEmphasis">date</span> command
      is enclosed in parentheses. The output of <span class="docEmphasis">date
      +%H,</span> the current hour, is substituted for the expression and echoed
      to the screen.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The variable <span class="docEmphasis">machine</span>
      is assigned the output of <span class="docEmphasis">uname -n,</span> the
      name of the host machine. The value of the <span class="docEmphasis">
      machine</span> variable is echoed to the screen.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">pwd</span>
      command (present working directory) is <span class="docEmphasis">/usr/local/bin.</span>The
      variable <span class="docEmphasis">dirname</span> is assigned the output
      resulting from command substitution where the command substitutions are
      nested. <span class="docEmphasis">$(pwd)</span> is the first command
      substitution to be be performed. The output of the
      <span class="docEmphasis">pwd</span> command is substituted in the
      expression, then the <span class="docEmphasis">basename</span> program
      will use the results of that substitution, <span class="docEmphasis">/usr/local/bin,</span>
      as its argument, resulting in <span class="docEmphasis">basename /usr/local/bin.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">cal</span>
      (the current month) command is echoed. The trailing newlines are deleted
      when command substitution is performed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When you put the whole command substitution expression
      in double quotes, the trailing newlines are preserved, and calendar looks
      like it should.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec19">11.3.5 Arithmetic Expansion</h4>
<p class="docText">The shell performs arithmetic expansion by evaluating an
arithmetic expression and substituting the result. The expression is treated as
if it were in double quotes and the expressions may be nested. For a complete
discussion of arithmetic operations, and arithmetic evaluations, see &quot;The let
Command&quot; on page 732.</p>
<p class="docText">There are two formats for evaluating arithmetic expressions:</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>$[ expression ]
$(( expression ))
</pre>
    </td>
  </tr>
</table>

<h5 id="ch11list76" class="docExampleTitle">Example 11.76 </h5>
<pre><span class="docEmphStrong">echo $[ 5 + 4 - 2 ]</span>
<span class="docEmphasis">7</span>
<span class="docEmphStrong">echo $[ 5 + 3 * 2]</span>
<span class="docEmphasis">11</span>
<span class="docEmphStrong">echo $[(5 + 3) * 2]</span>
<span class="docEmphasis">16</span>
<span class="docEmphStrong">echo $(( 5 + 4 ))</span>
<span class="docEmphasis">9</span>
<span class="docEmphStrong">echo $(( 5 / 0 ))</span>
<span class="docEmphasis">bash: 5/0: division by 0 ( error token is &quot;0&quot;)</span>
</pre>
<h4 class="docSection2Title" id="ch11lev2sec20">11.3.6 Order of Expansion</h4>
<p class="docText">When you are performing the expansion of variables, commands,
arithmetic expressions, and pathnames, the shell is programmed to follow a
specific order when scanning the command line. Assuming that the variables are
not quoted, the processing is performed in the following order:</p>
<span style="FONT-WEIGHT: bold">
<ol class="docList" type="1">
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Brace expansion</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Tilde expansion</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Parameter expansion</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Variable substitution</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Command substitution</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Arithmetic expansion</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Word splitting</span></li>
  <li><span style="FONT-WEIGHT: normal">
  <p class="docList">Pathname expansion</span></li>
</ol>
</span>
<h4 class="docSection2Title" id="ch11lev2sec21">11.3.7 Arrays (Versions 2.x)</h4>
<p class="docText">Versions of <span class="docEmphasis">bash</span> 2.x,
provide for creation of one-dimensional arrays. Arrays allow you to collect a
list of words into one variable name, such as a list of numbers, a list of
names, or a list of files. Arrays are created with the built-in function
<span class="docEmphasis">declare -a,</span> or can be created on the fly by
giving a subscript to a variable name, such as <span class="docEmphasis">x[0]=5.</span>
The index value is an integer starting at 0. There is no maximum size limit on
the array, and indices do not have to be ordered numbers, i.e.,
<span class="docEmphasis">x[0],</span> <span class="docEmphasis">x[1],</span>
<span class="docEmphasis">x[2]….</span> To extract an element of an array, the
syntax is <span class="docEmphasis">${arrayname[index]}.</span> If
<span class="docEmphasis">declare</span> is given the <span class="docEmphasis">
-a</span> and <span class="docEmphasis">-r</span> options, a read-only array is
created.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>declare -a variable_name
variable = ( item1 item2 item3 ... )
</pre>
    </td>
  </tr>
</table>

<h5 id="ch11list77" class="docExampleTitle">Example 11.77 </h5>
<pre><span class="docEmphStrong">declare -a nums=(45 33 100 65)</span>
<span class="docEmphStrong">declare -ar names</span>   (<span class="docEmphasis">array is readonly</span>)
<span class="docEmphStrong">names=( Tom  Dick  Harry)</span>
<span class="docEmphStrong">states=( ME  [3]=CA  CT )</span>
<span class="docEmphStrong">x[0]=55</span>
<span class="docEmphStrong">n[4]=100</span>
</pre>
<p class="docText">When assigning values to an array, they are automatically
started at index 0 and incremented by 1 for each additional element added. You
do not have to provide indices in an assignment, and if you do, they do not have
to be in order. To unset an array, use the <span class="docEmphasis">unset</span>
command followed by the array name, and to unset one element of the array, use
<span class="docEmphasis">unset</span> and the arrayname[subscript] syntax.</p>
<p class="docText">The <span class="docEmphasis">declare,</span>
<span class="docEmphasis">local,</span> and <span class="docEmphasis">read-only</span>
built-ins also can take the <span class="docEmphasis">-a</span> option to
declare an array. The <span class="docEmphasis">read</span> command with the
<span class="docEmphasis">-a</span> option is used to read in a list of words
from standard input into array elements.</p>
<h5 id="ch11list78" class="docExampleTitle">Example 11.78 </h5>
<pre>1   $ <span class="docEmphStrong">declare -a friends</span>

2   $ <span class="docEmphStrong">friends=(Sheryl Peter Louise)</span>

3   $ <span class="docEmphStrong">echo ${friends[0]}</span>
    <span class="docEmphasis">Sheryl</span>

4   $ <span class="docEmphStrong">echo ${friends[1]}</span>
    <span class="docEmphasis">Peter</span>

5   $ <span class="docEmphStrong">echo ${friends[2]}</span>
    <span class="docEmphasis">Louise</span>

6   $ <span class="docEmphStrong">echo &quot;</span>All the friends are <span class="docEmphStrong">${friends[*]}</span>&quot;
    <span class="docEmphasis">All the friends are Sheryl Peter Louise</span>

7   $ <span class="docEmphStrong">echo</span> &quot;The number of elements in the array is <span class="docEmphStrong">${#friends[*]}</span>&quot;
    <span class="docEmphasis">The number of elements in the array is 3</span>

8   $ <span class="docEmphStrong">unset friends</span>  <span class="docEmphasis">or</span> unset ${friends[*]}
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">declare</span> built-in
      command is used to explicitly declare an array, but it is not necessary.
      Any variable that uses a subscript, such as <span class="docEmphasis">
      variable[0],</span> when being assigned a value, will automatically be
      treated as an array.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The array <span class="docEmphasis">friends</span> is
      assigned a list of values: <span class="docEmphasis">Sheryl,</span>
      <span class="docEmphasis">Peter,</span> and <span class="docEmphasis">
      Louise.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first element of the <span class="docEmphasis">
      friends</span> array is accessed by enclosing the array name and its
      subscript in curly braces, with an index of 0 used as the value of the
      subscript. <span class="docEmphasis">Sheryl</span> is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The second element of the <span class="docEmphasis">
      friends</span> array is accessed by using the index value of 1.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The third element of the <span class="docEmphasis">
      friends</span> array is accessed by using the index value of 2.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When you place the asterisk within the subscript, all
      of the elements of the array can be accessed. This line displays all the
      elements in the <span class="docEmphasis">friends</span> array.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The syntax <span class="docEmphasis">${#friends[*]}</span>
      produces the size of the array; i.e., the number of elements in the array.
      On the other hand, <span class="docEmphasis">${#friends[0]}</span>
      produces the number of characters in the value of the first element of the
      array. There are six characters in <span class="docEmphasis">Sheryl.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">unset</span> built-in
      command deletes the whole array. Just one element of the array can be
      removed by typing: <span class="docEmphasis">unset friends[1];</span> this
      would remove <span class="docEmphasis">Sheryl.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list79" class="docExampleTitle">Example 11.79 </h5>
<pre>1   $ <span class="docEmphStrong">x[3]=100</span>
    $ <span class="docEmphStrong">echo ${x[*]}</span>
    <span class="docEmphasis">100</span>

2   $ <span class="docEmphStrong">echo ${x[0]}</span>

3   $ <span class="docEmphStrong">echo ${x[3]}</span>
    <span class="docEmphasis">100</span>

4   $ <span class="docEmphStrong">states=(ME  [3]=CA  [2]=CT)</span>
    $ <span class="docEmphStrong">echo ${states[*]}</span>
    <span class="docEmphasis">ME CA CT</span>

5   $ <span class="docEmphStrong">echo ${states[0]}</span>
    <span class="docEmphasis">ME</span>

6   $ <span class="docEmphStrong">echo ${states[1]}</span>

7   $ <span class="docEmphStrong">echo ${states[2]}</span>
    <span class="docEmphasis">CT</span>

8   $ <span class="docEmphStrong">echo ${states[3]}</span>
    <span class="docEmphasis">CA</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The third element of the array,
      <span class="docEmphasis">x,</span> is being assigned 100. It doesn't
      matter if the index number is 3, but because the first two elements do not
      exist yet, the size of the array is only 1. <span class="docEmphasis">
      ${x[*]}</span> displays the one element of the array,
      <span class="docEmphasis">x.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">x[1]</span> has no value, and
      neither do <span class="docEmphasis">x[1]</span> and
      <span class="docEmphasis">x[2].</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">x[3]</span> has a value of
      <span class="docEmphasis">100.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">states</span> array is
      being assigned <span class="docEmphasis">ME</span> at index
      <span class="docEmphasis">0,</span> <span class="docEmphasis">CA</span> at
      index <span class="docEmphasis">3,</span> and <span class="docEmphasis">CT</span>
      at index <span class="docEmphasis">2.</span> In this example, you can see
      that <span class="docEmphasis">bash</span> doesn't care at what index you
      store values, and that the index numbers do not have to be contiguous.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The first element of the <span class="docEmphasis">
      states</span> array is printed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">There is nothing stored in <span class="docEmphasis">
      states[1].</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The third element of the <span class="docEmphasis">
      states</span> array, <span class="docEmphasis">states[2],</span> was
      assigned <span class="docEmphasis">CT.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The fourth element of the <span class="docEmphasis">
      states</span> array, <span class="docEmphasis">states[3],</span> was
      assigned <span class="docEmphasis">CA.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec22">11.3.8 An Introduction to Functions</h4>
<p class="docText"><span class="docEmphasis">Bash</span> functions are used to
execute a group of commands with a name within the context of the current shell
(a child process is not forked). They are like scripts, only more efficient.
Once defined, functions become part of the shell's memory so that when the
function is called, the shell does not have to read it in from the disk as it
does with a file. Often functions are used to improve the modularity of a
script. Once defined, functions can be used again and again. Although functions
can be defined at the prompt when running interactively, they are often defined
in the user's initialization file, <span class="docEmphasis">.bash_profile.</span>
They must be defined before they are invoked.</p>
<p class="docText"><b>Defining Functions.</b> There are two ways to declare a
<span class="docEmphasis">bash</span> function. One way, the old Bourne shell
way, is to give the function name followed by a set of empty parentheses,
followed by the function definition. The new way (Korn shell way) is to use the
<span class="docEmphasis">function</span> keyword followed by the function name
and then the function definition. If using the new way, the parentheses are
optional. The function definition is enclosed in curly braces. It consists of
commands separated by semicolons. The last command is terminated with a
semicolon. Spaces around the curly braces are required. Any arguments passed to
the function are treated as positional parameters within the function. The
positional parameters in a function are local to the function. The
<span class="docEmphasis">local</span> built-in function allows local variables
to be created within the function definition. Functions may also be recursive,
i.e., call themselves an unlimited number of times.</p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">FORMAT</h2>
    <pre>function_name () { commands ; commands; }
function function_name { commands ; commands; }
function function_name () { commands ; commands; }
</pre>
    </td>
  </tr>
</table>

<h5 id="ch11list80" class="docExampleTitle">Example 11.80 </h5>
<pre>1   $ <span class="docEmphStrong">function greet { echo &quot;Hello $LOGNAME, today is $(date)&quot;; }</span>
2   $ <span class="docEmphStrong">greet</span>
    <span class="docEmphasis">Hello ellie, today is Wed Jul 14 14:56:31 PDT  2001</span>

3   $ <span class="docEmphStrong">greet () { echo &quot;Hello $LOGNAME, today is $(date)&quot;; }</span>
4   $ <span class="docEmphStrong">greet</span>
    <span class="docEmphasis">Hello ellie, today is Wed Jul 14 15:16:22 PDT  2001</span>

5   $ <span class="docEmphStrong">declare -f</span>
    <span class="docEmphasis">declare -f greet()</span>
    {
       echo &quot;Hello $LOGNAME, today is $(date)&quot;
    }


6   $ <span class="docEmphStrong">declare -F</span><sup class="docFootnote"><a class="docLink" href="#ch11fn19">[a]</a></sup>
    <span class="docEmphasis">declare -f greet</span>

7   $ <span class="docEmphStrong">export -f greet</span>

8   $ <span class="docEmphStrong">bash</span>                 <span class="docEmphasis">Start subshell</span>
9   $ <span class="docEmphStrong">greet</span>
    <span class="docEmphasis">Hello ellie, today is Wed Jul 14 17:59:24 PDT  2001</span>
</pre>
<blockquote>
  <p class="docFootnote"><sup><a name="ch11fn19">[a]</a></sup> Only on
  <span class="docEmphasis">bash</span> version 2.x.</p>
</blockquote>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The keyword <span class="docEmphasis">function</span>
      is followed by the name of the function, <span class="docEmphasis">greet.</span>
      The function definition is surrounded by curly braces. There must be a
      space after the opening curly brace. Statements on the same line are
      terminated with a semicolon.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When the <span class="docEmphasis">greet</span>
      function is invoked, the command(s) enclosed within the curly braces are
      executed in the context of the current shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">greet</span> function is
      defined again using the Bourne shell syntax, the name of the function,
      followed by an empty set of parentheses, and the function definition.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">greet</span> function is
      invoked again.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">declare</span> command
      with the <span class="docEmphasis">-f</span> switch lists all functions
      defined in this shell and their definitions.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">declare</span> command
      with the <span class="docEmphasis">-F</span> switch lists only function
      names.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">export</span> command
      with the <span class="docEmphasis">-f</span> switch makes the function
      global, i.e., available to subshells.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A new <span class="docEmphasis">bash</span> shell is
      started.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The function is defined for this child shell because it
      was exported.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list81" class="docExampleTitle">Example 11.81 </h5>
<pre>1   $ <span class="docEmphStrong">function fun {</span>
         echo &quot;The current working directory is $PWD.&quot;
         echo &quot;Here is a list of your files: &quot;
         ls
         echo &quot;Today is $(date +%A).&quot;;
   <span class="docEmphStrong">}</span>
2   $ <span class="docEmphStrong">fun</span>
    <span class="docEmphasis">The current working directory is /home.</span>
    <span class="docEmphasis">Here is a list of your files:</span>
    <span class="docEmphasis">abc      abc123   file1.bak   none       nothing   tmp</span>
    <span class="docEmphasis">abc1     abc2     file2       nonsense   nowhere   touch</span>
    <span class="docEmphasis">abc122   file1    file2.bak   noone      one</span>
    <span class="docEmphasis">Today is Wednesday.</span>

3    $ <span class="docEmphStrong">function welcome { echo &quot;Hi $1 and $2&quot;; }</span>
4    $ <span class="docEmphStrong">welcome tom joe</span>
     <span class="docEmphasis">Hi tom and joe</span>

5   $ <span class="docEmphStrong">set jane anna lizzy</span>
6   $ <span class="docEmphStrong">echo $*</span>
    <span class="docEmphasis">jane anna lizzy</span>

7   $ <span class="docEmphStrong">welcome johan joe</span>
    <span class="docEmphasis">hi johan and joe</span>

8   $ <span class="docEmphStrong">echo  $1 $2</span>
    <span class="docEmphasis">johan joe</span>

9   $ <span class="docEmphStrong">unset -f welcome</span>     # <span class="docEmphasis">unsets the function</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The function <span class="docEmphasis">fun</span> is
      named and defined. The keyword <span class="docEmphasis">function</span>
      is followed by the function's name and a list of commands enclosed in
      curly braces. Commands are listed on separate line; if they are listed on
      the same line, they must be separated by semicolons. A space is required
      after the first curly brace or you will get a syntax error. A function
      must be defined before it can be used.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The function behaves just like a script when invoked.
      Each of the commands in the function definition are executed in turn.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">There are two positional parameters used in the
      function <span class="docEmphasis">welcome.</span> When arguments are
      given to the function, the positional parameters are assigned those
      values.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The arguments to the function<span class="docEmphasis">,
      tom</span> and <span class="docEmphasis">joe,</span> are assigned to
      <span class="docEmphasis">$1</span> and <span class="docEmphasis">$2,</span>
      respectively. The positional parameters in a function are private to the
      function and will not interfere with any used outside the function.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The positional parameters are set at the command line.
      These variables have nothing to do with the ones set in the function.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">$*</span> displays the values
      of the currently set positional parameters.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The function <span class="docEmphasis">welcome</span>
      is called. <span class="docEmphasis">Johan</span> and
      <span class="docEmphasis">joe</span> are the values assigned to the
      positional parameters.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The positional variables assigned at the command line
      are unaffected by those set in the function.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">unset</span> built-in
      command with the <span class="docEmphasis">-f</span> switch unsets the
      function. It is no longer defined.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><b>Listing and Unsetting Functions.</b> To list functions and
their definitions, use the <span class="docEmphasis">declare</span> command. In
<span class="docEmphasis">bash</span> versions 2.x and above,
<span class="docEmphasis">declare -F</span> lists just function names. The
function and its definition will appear in the output, along with the exported
and local variables. Functions and their definitions are unset with the
<span class="docEmphasis">unset -f</span> command.</p>
<h4 class="docSection2Title" id="ch11lev2sec23">11.3.9 Standard I/O and Redirection</h4>
<p class="docText">When the shell starts up, it inherits three files:
<span class="docEmphasis">stdin, stdout,</span> and <span class="docEmphasis">
stderr.</span> Standard input normally comes from the keyboard. Standard output
and standard error normally go to the screen. There are times when you want to
read input from a file or send output or errors to a file. This can be
accomplished by using I/O redirection. See
<a class="docLink" href="#ch11table23">Table 11.23</a> for a list of redirection
operators.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table23" class="docTableTitle">Table 11.23. Redirection</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Redirection Operator</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">What
    It Does</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&lt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirects input. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirects output. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;&gt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Appends output. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">2&gt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirects error. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&amp;&gt;</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirects output and error. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;&amp;</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirects output and error (preferred
    way). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">2&gt;&amp;1</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirects error to where output is
    going. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">1&gt;&amp;2</span>
    </td>
    <td class="docTableCell" vAlign="top">Redirects output to where error is
    going. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&gt;|</span>
    </td>
    <td class="docTableCell" vAlign="top">Overrides <span class="docEmphasis">
    noclobber</span> when redirecting output. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">&lt;&gt; filename</span>
    </td>
    <td class="docTableCell" vAlign="top">Uses file as both standard input and
    output if a device file (from <span class="docEmphasis">/dev</span>). </td>
  </tr>
</table>

<h5 id="ch11list82" class="docExampleTitle">Example 11.82 </h5>
<pre>1   $ <span class="docEmphStrong">tr '[A-Z]'  '[a-z]' &lt; myfile</span>   <span class="docEmphasis"># Redirect  input</span>

2   $ <span class="docEmphStrong">ls &gt; lsfile</span>                    <span class="docEmphasis"># Redirect output</span>
    $ cat lsfile
    <span class="docEmphasis">dir1</span>
    <span class="docEmphasis">dir2</span>
    <span class="docEmphasis">file1</span>
    <span class="docEmphasis">file2</span>
    <span class="docEmphasis">file3</span>

3   $ <span class="docEmphStrong">date &gt;&gt; lsfile</span>                 <span class="docEmphasis"># Redirect and append otuput</span>
    $ cat lsfile
    <span class="docEmphasis">dir1</span>
    <span class="docEmphasis">dir2</span>
    <span class="docEmphasis">file1</span>
    <span class="docEmphasis">file2</span>
    <span class="docEmphasis">file3</span>
    <span class="docEmphasis">Sun Sept 17 12:57:22 PDT 2001</span>


4   $ <span class="docEmphStrong">cc prog.c 2&gt; errfile</span>           <span class="docEmphasis"># Redirect error</span>

5   $ <span class="docEmphStrong">find . -name \*.c -print &gt; foundit 2&gt; /dev/null</span>
    <span class="docEmphasis"># Redirect output to foundit and errors to /dev/null,</span>
    <span class="docEmphasis"># respectively.</span>

6   $ <span class="docEmphStrong">find . -name \*.c -print &gt;&amp; foundit</span>
    <span class="docEmphasis"># Redirect both output and errors to foundit.</span>

7   $ <span class="docEmphStrong">find . -name \*.c -print &gt; foundit 2&gt;&amp;1</span>
    <span class="docEmphasis"># Redirect output to foundit and send errors to where output</span>
    <span class="docEmphasis"># is going; i.e. foundit</span>

8   $ <span class="docEmphStrong">echo &quot;File needs an argument&quot; 1&gt;&amp;2</span>
    <span class="docEmphasis"># Send standard output to error</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Instead of getting input from the keyboard, standard
      input is redirected from the file <span class="docEmphasis">myfile</span>
      to the UNIX <span class="docEmphasis">tr</span> command. All uppercase
      letters are converted to lowercase.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Instead of sending output to the screen, the
      <span class="docEmphasis">ls</span> command redirects its output to the
      file <span class="docEmphasis">lsfile.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">date</span>
      command is redirected and appended to <span class="docEmphasis">lsfile.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The C program source file <span class="docEmphasis">
      prog.c</span> is compiled. If the compile fails, the standard error is
      redirected to the file <span class="docEmphasis">errfile.</span> Now you
      can take your error file to the local guru for an explanation (of sorts)!</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">find</span> command
      starts searching in the current working directory for filenames ending in
      <span class="docEmphasis">.c,</span> and prints the filenames to a file
      named <span class="docEmphasis">foundit.</span> Errors from the
      <span class="docEmphasis">find</span> command are sent to
      <span class="docEmphasis">/dev/null.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">find</span> command
      starts searching in the current working directory for filenames ending in
      <span class="docEmphasis">.c,</span> and prints the filenames to a file
      named <span class="docEmphasis">foundit.</span> The errors are also sent
      to <span class="docEmphasis">foundit.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Same as 6.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">echo</span> command sends
      its message to standard error. Its standard output is merged with standard
      error.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<p class="docText"><span class="docEmphStrong">The <span class="docEmphasis">
exec</span> Command and Redirection.</span> The <span class="docEmphasis">exec</span>
command can be used to replace the current program with a new one without
starting a new process. Standard output or input can be changed with the
<span class="docEmphasis">exec</span> command without creating a subshell. (See
<a class="docLink" href="#ch11table24">Table 11.24</a>.) If a file is opened
with <span class="docEmphasis">exec,</span> subsequent <span class="docEmphasis">
read</span> commands will move the file pointer down the file a line at a time
until the end of the file. The file must be closed to start reading from the
beginning again. However, if using UNIX utilities such as
<span class="docEmphasis">cat</span> and <span class="docEmphasis">sort,</span>
the operating system closes the file after each command has completed.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table24" class="docTableTitle">Table 11.24. The <span class="docEmphasis">exec</span>
  Command</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">exec
    Command</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">What
    It Does</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exec ls</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ls</span>
    executes in place of the shell. When <span class="docEmphasis">ls</span> is
    finished, the shell in which it was started does not return. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exec &lt; filea</span>
    </td>
    <td class="docTableCell" vAlign="top">Opens <span class="docEmphasis">filea</span>
    for reading standard input. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exec &gt; filex</span>
    </td>
    <td class="docTableCell" vAlign="top">Opens <span class="docEmphasis">filex</span>
    for writing standard output. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exec 3&lt;
    datfile</span> </td>
    <td class="docTableCell" vAlign="top">Opens <span class="docEmphasis">
    datfile</span> as file descriptor <span class="docEmphasis">3</span> for
    reading input. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">sort &lt;&amp;3</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">Datfile</span>
    is sorted. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exec 4&gt;newfile</span>
    </td>
    <td class="docTableCell" vAlign="top">Opens <span class="docEmphasis">
    newfile</span> as file descriptor (fd) <span class="docEmphasis">4</span>
    for writing. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ls &gt;&amp;4</span>
    </td>
    <td class="docTableCell" vAlign="top">Output of <span class="docEmphasis">ls</span>
    is redirected to <span class="docEmphasis">newfile.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exec 5&lt;&amp;4</span>
    </td>
    <td class="docTableCell" vAlign="top">Makes fd <span class="docEmphasis">5</span>
    a copy of fd <span class="docEmphasis">4.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exec 3&lt;&amp;-</span>
    </td>
    <td class="docTableCell" vAlign="top">Closes fd <span class="docEmphasis">3.</span>
    </td>
  </tr>
</table>

<h5 id="ch11list83" class="docExampleTitle">Example 11.83 </h5>
<pre>1   $ <span class="docEmphStrong">exec date</span>
    <span class="docEmphasis">Thu Oct 14 10:07:34  PDT 2001</span>
     <span class="docEmphasis">&lt;Login prompt appears if you are in your login shell &gt;</span>

2   $ <span class="docEmphStrong">exec &gt; temp</span>
    $ <span class="docEmphStrong">ls</span>
    $ <span class="docEmphStrong">pwd</span>
    $ <span class="docEmphStrong">echo Hello</span>
3   $ <span class="docEmphStrong">exec &gt; /dev/tty</span>
4   $ <span class="docEmphStrong">echo Hello</span>
    <span class="docEmphasis">Hello</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">exec</span> command
      executes the <span class="docEmphasis">date</span> command in the current
      shell (does not fork a child shell). Because the <span class="docEmphasis">
      date</span> command is executed in place of the current shell, when the
      <span class="docEmphasis">date</span> command exits, the shell terminates.
      If a <span class="docEmphasis">bash</span> shell had been started from the
      TC shell, the <span class="docEmphasis">bash</span> shell would exit and
      the TC shell prompt would appear. If you are in your login shell when you
      try this, you will be logged out. If you are working interactively in a
      shell window, the window exits.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">exec</span> command opens
      standard output for the current shell to the <span class="docEmphasis">
      temp</span> file. Output from <span class="docEmphasis">ls, pwd,</span>
      and <span class="docEmphasis">echo</span> will no longer go to the screen,
      but to <span class="docEmphasis">temp.</span> (See
      <a class="docLink" href="#ch11fig03">Figure 11.3</a>.)</p>
      <center>
      <h5 id="ch11fig03" class="docFigureTitle">Figure 11.3. The <span class="docEmphasis">exec</span>
      command and file descriptors.</h5>
      <p class="docText">
      <img alt="graphics/11fig03.gif" src="11fig03.gif" border="0" width="500" height="182"></p>
      </center></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">exec</span> command
      reopens standard output to the terminal. Now, output will go to the screen
      as shown in line 4.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Standard output has been directed back to the terminal
      (<span class="docEmphasis">/dev/tty</span>).</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list84" class="docExampleTitle">Example 11.84 </h5>
<pre>1   &gt; <span class="docEmphStrong">bash</span>
2   $ <span class="docEmphStrong">cat doit</span>
    <span class="docEmphasis">pwd</span>
    <span class="docEmphasis">echo hello</span>
    <span class="docEmphasis">date</span>
3   $ <span class="docEmphStrong">exec &lt; doit</span>
    <span class="docEmphasis">/home/homebound/ellie/shell</span>
    <span class="docEmphasis">hello</span>
    <span class="docEmphasis">Thu Oct 14 10:07:34  PDT 2001</span>
4   <span class="docEmphasis">&gt;</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">From a TC shell prompt, <span class="docEmphasis">bash</span>
      is started up. (This is done so that when the <span class="docEmphasis">
      exec</span> command exits, the user will not be logged out.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The contents of a file called <span class="docEmphasis">
      doit</span> are displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">exec</span> command opens
      standard input to the file called <span class="docEmphasis">doit.</span>
      Input is read from the file instead of from the keyboard. The commands
      from the file <span class="docEmphasis">doit</span> are executed in place
      of the current shell. When the last command exits, so does the shell.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">bash</span> shell exited
      when the <span class="docEmphasis">exec</span> command completed. The TC
      shell prompt appeared. It was the parent shell. If you had been in your
      login shell when the <span class="docEmphasis">exec</span> finished, you
      would be logged out; if in a window, the window would have disappeared.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list85" class="docExampleTitle">Example 11.85 </h5>
<pre>1   $ <span class="docEmphStrong">exec 3&gt; filex</span>
2   $ <span class="docEmphStrong">who &gt;&amp; 3</span>
3   $ <span class="docEmphStrong">date &gt;&amp; 3</span>
4   $ <span class="docEmphStrong">exec 3&gt;&amp;-</span>
5   $ <span class="docEmphStrong">exec 3&lt;filex</span>
6   $ <span class="docEmphStrong">cat &lt;&amp;3</span>
    <span class="docEmphasis">ellie  tty    Jul 21 09:50</span>
    <span class="docEmphasis">ellie  ttyp1  Jul 21 11:16  (:0.0)</span>
    <span class="docEmphasis">ellie  ttyp0  Jul 21 16:49  (:0.0)</span>
    <span class="docEmphasis">Wed Jul 21 17:15:18 PDT 2001</span>
7   $ <span class="docEmphStrong">exec 3&lt;&amp;-</span>
8   $ <span class="docEmphStrong">date &gt;&amp; 3</span>
    <span class="docEmphasis">date: write error: Bad file descriptor</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">File descriptor <span class="docEmphasis">3</span> (fd
      <span class="docEmphasis">3</span>) is assigned to
      <span class="docEmphasis">filex</span> and opened for redirection of
      output. See <a class="docLink" href="#ch11fig04">Figure 11.4</a>(a).</p>
      <center>
      <h5 id="ch11fig04" class="docFigureTitle">Figure 11.4. exec and file descriptors.</h5>
      <p class="docText">
      <img alt="graphics/11fig04.gif" src="11fig04.gif" border="0" width="500" height="368"></p>
      </center></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">who</span>
      command is sent to fd <span class="docEmphasis">3,</span>
      <span class="docEmphasis">filex.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">date</span>
      command is sent to fd <span class="docEmphasis">3;</span>
      <span class="docEmphasis">filex</span> is already opened, so the output is
      appended to <span class="docEmphasis">filex.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Fd <span class="docEmphasis">3</span> is closed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">exec</span> command opens
      fd <span class="docEmphasis">3</span> for reading input. Input will be
      redirected from <span class="docEmphasis">filex.</span> See
      <a class="docLink" href="#ch11fig04">Figure 11.4</a>(b).</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">cat</span> program reads
      from fd <span class="docEmphasis">3,</span> assigned to
      <span class="docEmphasis">filex.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">exec</span> command
      closes fd <span class="docEmphasis">3.</span> (Actually, the operating
      system will close the file once end of file is reached.)</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">When attempting to send the output of the
      <span class="docEmphasis">date</span> command to fd
      <span class="docEmphasis">3,</span> <span class="docEmphasis">bash</span>
      reports an error condition, because <span class="docEmphasis">fd 3</span>
      was previously closed.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec24">11.3.10 Pipes</h4>
<p class="docText">A <span class="docEmphasis">pipe</span> takes the output from
the command on the left-hand side of the pipe symbol and sends it to the input
of the command on the right-hand side of the pipe symbol. A pipeline can consist
of more than one pipe.</p>
<p class="docText">The purpose of the commands in
<a class="docLink" href="#ch11list86">Example 11.86</a> is to count the number
of people logged on (<span class="docEmphasis">who</span>), save the output of
the command in a file (<span class="docEmphasis">tmp</span>), use the
<span class="docEmphasis">wc -l</span> to count the number of lines in the
<span class="docEmphasis">tmp</span> file (<span class="docEmphasis">wc -l</span>),
and then remove the <span class="docEmphasis">tmp</span> file (i.e., find the
number of people logged on).</p>
<h5 id="ch11list86" class="docExampleTitle">Example 11.86 </h5>
<pre>1  $ <span class="docEmphStrong">who &gt; tmp</span>
2  $ <span class="docEmphStrong">wc -l tmp</span>
   <span class="docEmphasis">4 tmp</span>
3  $ <span class="docEmphStrong">rm tmp</span>

<span class="docEmphasis"># Using a pipe saves disk space and time.</span>

4  $ <span class="docEmphStrong">who | wc -l</span>
   <span class="docEmphasis">4</span>

5  $ <span class="docEmphStrong">du .. | sort -n | sed -n '$p'</span>
   <span class="docEmphasis">1980</span>

6  $ <span class="docEmphStrong">( du / | sort -n | sed -n '$p' ) 2&gt; /dev/null</span>
   <span class="docEmphasis">1057747  /</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">who</span>
      command is redirected to the <span class="docEmphasis">tmp</span> file.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">wc -l</span> command
      displays the number of lines in <span class="docEmphasis">tmp.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">tmp</span> file is
      removed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">With the pipe facility, you can perform all three of
      the preceding steps in one step. The output of the
      <span class="docEmphasis">who</span> command is sent to an anonymous
      kernel buffer; the <span class="docEmphasis">wc \_l</span> command reads
      from the buffer and sends its output to the screen. See
      <a class="docLink" href="#ch11fig05">Figure 11.5</a>.</p>
      <center>
      <h5 id="ch11fig05" class="docFigureTitle">Figure 11.5. The pipe.</h5>
      <p class="docText">
      <img alt="graphics/11fig05.gif" src="11fig05.gif" border="0" width="500" height="182"></p>
      </center></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output of the <span class="docEmphasis">du</span>
      command, the number of disk blocks used per directory, starting in the
      parent directory (..), is piped to the <span class="docEmphasis">sort</span>
      command and sorted numerically. It is then piped to the
      <span class="docEmphasis">sed</span> command, which prints the last line
      of the output it receives. See <a class="docLink" href="#ch11fig06">Figure
      11.6</a>.</p>
      <center>
      <h5 id="ch11fig06" class="docFigureTitle">Figure 11.6. Multiple pipes (filter).</h5>
      <p class="docText">
      <img alt="graphics/11fig06.gif" src="11fig06.gif" border="0" width="500" height="135"></p>
      </center></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">du</span> command
      (starting in the root directory) will send error messages to
      <span class="docEmphasis">stderr</span> (the screen) if it is unable to
      get into a directory because the permissions have been turned off. When
      you put the whole command line in a set of parentheses, all the output is
      sent to the screen, and all the errors are directed to the UNIX bit
      bucket, <span class="docEmphasis">/dev/null.</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec25">11.3.11 The <span class="docEmphasis">here document</span>
and Redirecting Input</h4>
<p class="docText">The <span class="docEmphasis">here</span>
<span class="docEmphasis">document</span> is a special form of quoting. It
accepts inline text for a program expecting input, such as
<span class="docEmphasis">mail, sort,</span> or <span class="docEmphasis">cat,</span>
until a user-defined terminator is reached. It is often used in shell scripts
for creating menus. The command receiving the input is appended with a
<span class="docEmphasis">&lt;&lt;</span> symbol, followed by a user-defined word or
symbol, and a newline. The next lines of text will be the lines of input to be
sent to the command. The input is terminated when the user-defined word or
symbol is then placed on a line by itself in the leftmost column (it cannot have
spaces surrounding it). The word is used in place of Control-D to stop the
program from reading input.</p>
<p class="docText">If the terminator is preceded by the
<span class="docEmphasis">&lt;&lt;-</span> operator, leading tabs, and only tabs, may
precede the final terminator. The user-defined terminating word or symbol must
match exactly from &quot;here&quot; to &quot;here.&quot; The following examples illustrate the use
of the <span class="docEmphasis">here</span> <span class="docEmphasis">document</span>
at the command line to demonstrate the syntax. It is much more practical to use
them in scripts.</p>
<h5 id="ch11list87" class="docExampleTitle">Example 11.87 </h5>
<p class="docText">
<img alt="graphics/11prfig02.gif" src="11prfig02.gif" border="0" width="500" height="155"></p>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The UNIX <span class="docEmphasis">cat</span> program
      will accept input until the word <span class="docEmphasis">FINISH</span>
      appears on a line by itself.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">A secondary prompt appears. The following text is input
      for the <span class="docEmphasis">cat</span> command. Variable
      substitution is performed within the <span class="docEmphasis">here
      document.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Command substitution, <span class="docEmphasis">$(date
      +%T),</span> is performed within the <span class="docEmphasis">here</span>
      <span class="docEmphasis">document.</span> Could have also used the older
      form of command substitution: <tt>'</tt><span class="docEmphasis">date +T</span><tt>'</tt>.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The user-defined terminator <span class="docEmphasis">
      FINISH</span> marks the end of input for the <span class="docEmphasis">cat</span>
      program. It cannot have any spaces before or after it and is on a line by
      itself.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The output from the <span class="docEmphasis">cat</span>
      program is displayed.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The shell prompt reappears.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h5 id="ch11list88" class="docExampleTitle">Example 11.88 </h5>
<pre>1   $ <span class="docEmphStrong">cat &lt;&lt;- DONE</span>
    &gt;  Hello there
    &gt;     What's up?
    &gt;Bye now The time is 'date'.
2   &gt;   <span class="docEmphStrong">DONE</span>
      <span class="docEmphasis">Hello there</span>
           <span class="docEmphasis">What</span>'<span class="docEmphasis">s up?</span>
    <span class="docEmphasis">Bye now The time is Sun Feb 819:48:23 PST 2001.</span>
    $
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">cat</span> program
      accepts input until <span class="docEmphasis">DONE</span> appears on a
      line by itself. The <span class="docEmphasis">&lt;&lt;-</span> operator allows
      the input and final terminator to be preceded by one or more tabs. Typing
      this example at the command line may cause problems with the Tab key; the
      example will work fine, if run from a script.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The final matching terminator,
      <span class="docEmphasis">DONE,</span> is preceded by a tab. The output of
      the <span class="docEmphasis">cat</span> program is displayed on the
      screen.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec26">11.3.12 Shell Invocation Options</h4>
<p class="docText">When the shell is started using the <span class="docEmphasis">
bash</span> command, it can take options to modify its behavior. There are two
types of options: single-character options and multicharacter options. The
single-character options consist of a single leading dash followed by a single
character. The multicharacter options consist of two leading dashes and any
number of characters. Multicharacter options must appear before single-character
options. An interactive login shell normally starts up with
<span class="docEmphasis">-i</span> (starts an interactive shell) ,
<span class="docEmphasis">-s</span> (reads from standard input), and
<span class="docEmphasis">-m</span> (enables job control). See
<a class="docLink" href="#ch11table25">Table 11.25</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table25" class="docTableTitle">Table 11.25. <span class="docEmphasis">Bash</span>
  2.x Shell Invocation Options</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Option</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-c string</span>
    </td>
    <td class="docTableCell" vAlign="top">Commands are read from
    <span class="docEmphasis">string.</span> Any arguments after
    <span class="docEmphasis">string</span> are assigned to positional
    parameters, starting at $0. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-D</span>
    </td>
    <td class="docTableCell" vAlign="top">A list of double quoted strings,
    preceded by a <span class="docEmphasis">$,</span> are printed to standard
    output. These strings are subject to language translation when the current
    locale is not C or POSIX.The <span class="docEmphasis">-n</span> option is
    implied; no commands will be executed. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-i</span>
    </td>
    <td class="docTableCell" vAlign="top">Shell is in the interactive mode.
    <span class="docEmphasis">TERM,</span> <span class="docEmphasis">QUIT,</span>
    and <span class="docEmphasis">INTERRUPT</span> are ignored. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-s</span>
    </td>
    <td class="docTableCell" vAlign="top">Commands are read from standard input
    and allows the setting of positional parameters. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-r</span>
    </td>
    <td class="docTableCell" vAlign="top">Starts a restricted shell. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -</span>
    </td>
    <td class="docTableCell" vAlign="top">Signals the end of options and
    disables further option processing. Any arguments after
    <span class="docEmphasis">- -</span> or <span class="docEmphasis">-</span>
    are treated as filenames and arguments. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-
    -dump-strings</span> </td>
    <td class="docTableCell" vAlign="top">Same as <span class="docEmphasis">-D.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -help</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays a usage message for a
    built-in command and exits. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -login</span>
    </td>
    <td class="docTableCell" vAlign="top">Causes <span class="docEmphasis">bash</span>
    to be invoked as a <span class="docEmphasis">login</span> shell. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -noediting</span>
    </td>
    <td class="docTableCell" vAlign="top">When <span class="docEmphasis">bash</span>
    is running interactively, does not use the Readline library. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -noprofile</span>
    </td>
    <td class="docTableCell" vAlign="top">When starting up,
    <span class="docEmphasis">bash</span> does not read the initialization
    files: <span class="docEmphasis">/etc/profile,</span>
    <span class="docEmphasis">~/.bash_profile,</span> <span class="docEmphasis">
    ~/.bash_login,</span> or <span class="docEmphasis">~/.profile.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -norc</span>
    </td>
    <td class="docTableCell" vAlign="top">For interactive shells,
    <span class="docEmphasis">bash</span> will not read the
    <span class="docEmphasis">~/.bashrc</span> file. Turned on by default, if
    running shell as <span class="docEmphasis">sh.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -posix</span>
    </td>
    <td class="docTableCell" vAlign="top">Changes the behavior of
    <span class="docEmphasis">bash</span> to match the POSIX 1003.2 standard, if
    otherwise it wouldn't. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -quiet</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays no information at shell
    startup, the default. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -rcfile
    file</span> </td>
    <td class="docTableCell" vAlign="top">If <span class="docEmphasis">bash</span>
    is interactive, uses this intialization file instead of
    <span class="docEmphasis">~/.bashrc.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-
    -restricted</span> </td>
    <td class="docTableCell" vAlign="top">Starts a restricted shell. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -verbose</span>
    </td>
    <td class="docTableCell" vAlign="top">Turns on verbose; same as
    <span class="docEmphasis">-v.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">- -version</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays version information about
    this <span class="docEmphasis">bash</span> shell and exits. </td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec27">11.3.13 The <span class="docEmphasis">set</span>
Command and Options</h4>
<p class="docText">The <span class="docEmphasis">set</span> command can be used
to turn shell options on and off, as well as for handling command line
arguments. To turn an option on, the dash (–) is prepended to the option; to
turn an option off, the plus sign (+) is prepended to the option. See
<a class="docLink" href="#ch11table26">Table 11.26</a> for a list of
<span class="docEmphasis">set</span> options.</p>
<h5 id="ch11list89" class="docExampleTitle">Example 11.89 </h5>
<pre>1   $ <span class="docEmphStrong">set -f</span>

2   $ <span class="docEmphStrong">echo *</span>
    <span class="docEmphasis">*</span>

3   $ <span class="docEmphStrong">echo ??</span>
    <span class="docEmphasis">??</span>

4   $ <span class="docEmphStrong">set +f</span>
</pre>

<table cellSpacing="0" width="90%" border="1" align="center">
  <tr>
    <td>
    <h2 class="docSidebarTitle">EXPLANATION</h2>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="1">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">f</span> option is turned
      on, disabling filename expansion.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The asterisk is not expanded.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The question marks are not expanded.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">The <span class="docEmphasis">f</span> is turned off;
      filename expansion is enabled.</span></li>
    </ol>
    </span></td>
  </tr>
</table>
<p>&nbsp;</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table26" class="docTableTitle">Table 11.26. The Built-In <span class="docEmphasis">
  set</span> Command Options</h5>
  </caption>
  <colgroup span="3" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">Name
    of Option</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Shortcut Switch</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">What
    It Does</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">allexport</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-a</span>
    </td>
    <td class="docTableCell" vAlign="top">Automatically marks new or modified
    variables for export from the time the option is set, until unset. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">braceexpand</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-B</span>
    </td>
    <td class="docTableCell" vAlign="top">Enables brace expansion, and is a
    default setting. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">emacs</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">For command line editing, uses the
    <span class="docEmphasis">emacs</span> built-in editor, and is a default
    setting. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">errexit</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-e</span>
    </td>
    <td class="docTableCell" vAlign="top">If a command returns a nonzero exit
    status (fails), exits. Not set when reading initialization files. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">histexpand</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-H</span>
    </td>
    <td class="docTableCell" vAlign="top">Enables <span class="docEmphasis">!</span>
    and <span class="docEmphasis">!!</span> when performing history
    substitution, and is a default setting. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">history</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">Enables command line history; on by
    default. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ignoreeof</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">Disables EOF (Control-D) from exiting
    a shell; must type <span class="docEmphasis">exit.</span> Same as setting
    shell variable, <span class="docEmphasis">IGNOREEOF=10.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">keyword</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-k</span>
    </td>
    <td class="docTableCell" vAlign="top">Places keyword arguments in the
    environment for a command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    interactive_comments</span> </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">For interactive shells, a leading # is
    used to comment out any text remaining on the line. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">monitor</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-m</span>
    </td>
    <td class="docTableCell" vAlign="top">Allows job control. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">noclobber</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-C</span>
    </td>
    <td class="docTableCell" vAlign="top">Protects files from being overwritten
    when redirection is used. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">noexec</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-n</span>
    </td>
    <td class="docTableCell" vAlign="top">Reads commands, but does not execute
    them. Used to check the syntax of scripts. Not on when running
    interactively. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">noglob</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-d</span>
    </td>
    <td class="docTableCell" vAlign="top">Disables pathname expansion; i.e.,
    turns off wildcards. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">notify</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-b</span>
    </td>
    <td class="docTableCell" vAlign="top">Notifies user when background job
    finishes. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">nounset</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-u</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays an error when expanding a
    variable that has not been set. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">onecmd</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-t</span>
    </td>
    <td class="docTableCell" vAlign="top">Exits after reading and executing one
    command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">physical</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-P</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, does not follow symbolic links
    when typing <span class="docEmphasis">cd</span> or <span class="docEmphasis">
    pwd.</span> The physical directory is used instead. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">posix</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">Shell behavior is changed if the
    default operation doesn't match the POSIX standard. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">privileged</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-p</span>
    </td>
    <td class="docTableCell" vAlign="top">When set, the shell does not read the
    <span class="docEmphasis">.profile</span> or <span class="docEmphasis">ENV</span>
    file and shell functions are not inherited from the environment;
    automatically set for <span class="docEmphasis">setuid</span> scripts. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">verbose</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-v</span>
    </td>
    <td class="docTableCell" vAlign="top">Turns on the <span class="docEmphasis">
    verbose</span> mode for debugging. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">vi</span>
    </td>
    <td class="docTableCell" vAlign="top">&nbsp;</td>
    <td class="docTableCell" vAlign="top">For command line editing, uses the
    <span class="docEmphasis">vi</span> built-in editor. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">xtrace</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">-x</span>
    </td>
    <td class="docTableCell" vAlign="top">Turns on the echo mode for debugging.
    </td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec28">11.3.14 The shopt Command and Options</h4>
<p class="docText">The <span class="docEmphasis">shopt</span> (<span class="docEmphasis">bash</span>
2.x) command can also be used to turn shell options on and off.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table27" class="docTableTitle">Table 11.27. The <span class="docEmphasis">shopt</span>
  Command Options</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Option</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Meaning</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">cdable_vars</span>
    </td>
    <td class="docTableCell" vAlign="top">If an argument to the
    <span class="docEmphasis">cd</span> built-in command is not a directory, it
    is assumed to be the name of a variable whose value is the directory to
    change to. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">cdspell</span>
    </td>
    <td class="docTableCell" vAlign="top">Corrects minor errors in the spelling
    of a directory name in a <span class="docEmphasis">cd</span> command. The
    errors checked for are transposed characters, a missing character, and a
    character too many. If a correction is found, the corrected path is printed,
    and the command proceeds. Only used by interactive shells. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">checkhash</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">Bash</span>
    checks that a command found in the hash table exists before trying to
    execute it. If a hashed command no longer exists, a normal path search is
    performed. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">checkwinsize</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">Bash</span>
    checks the window size after each command and, if necessary, updates the
    values of <span class="docEmphasis">LINES</span> and
    <span class="docEmphasis">COLUMNS.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">cmdhist</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">Bash</span>
    attempts to save all lines of a multiple-line command in the same history
    entry. This allows easy re-editing of multiline commands. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">dotglob</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">Bash</span>
    includes filenames beginning with a dot (.) in the results of filename
    expansion. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">execfail</span>
    </td>
    <td class="docTableCell" vAlign="top">A noninteractive shell will not exit
    if it cannot execute the file specified as an argument to the
    <span class="docEmphasis">exec</span> built-in command. An interactive shell
    does not exit if <span class="docEmphasis">exec</span> fails. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    expand_aliases</span> </td>
    <td class="docTableCell" vAlign="top">Aliases are expanded. Enabled by
    default. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">extglob</span>
    </td>
    <td class="docTableCell" vAlign="top">The extended pattern matching features
    (regular expression metacharacters derived from Korn shell for filename
    expansion) are enabled. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">histappend</span>
    </td>
    <td class="docTableCell" vAlign="top">The history list is appended to the
    file named by the value of the HISTFILE variable when the shell exits,
    rather than overwriting the file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">histreedit</span>
    </td>
    <td class="docTableCell" vAlign="top">If <span class="docEmphasis">readline</span>
    is being used, a user is given the opportunity to re-edit a failed history
    substitution. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">histverify</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, and <span class="docEmphasis">
    readline</span> is being used, the results of history substitution are not
    immediately passed to the shell parser. Instead, the resulting line is
    loaded into the <span class="docEmphasis">readline</span> editing buffer,
    allowing further modification. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">hostcomplete</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, and <span class="docEmphasis">
    readline</span> is being used, <span class="docEmphasis">bash</span> will
    attempt to perform hostname completion when a word containing @ is being
    completed. Enabled by default. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">huponexit</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, <span class="docEmphasis">bash</span>
    will send <span class="docEmphasis">SIGHUP</span> (hangup signal) to all
    jobs when an interactive login shell exits. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    interactive_comments</span> </td>
    <td class="docTableCell" vAlign="top">Allows a word beginning with # to
    cause that word and all remaining characters on that line to be ignored in
    an interactive shell. Enabled by default. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">lithist</span>
    </td>
    <td class="docTableCell" vAlign="top">If enabled, and the
    <span class="docEmphasis">cmdhist</span> option is enabled, multiline
    commands are saved to the history with embedded newlines rather than using
    semicolon separators where possible. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">mailwarn</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, and a file that
    <span class="docEmphasis">bash</span> is checking for mail has been accessed
    since the last time it was checked, the message <span class="docEmphasis">
    The mail in mailfile has been read</span> is displayed. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">nocaseglob</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, <span class="docEmphasis">bash</span>
    matches filenames in a case-insensitive fashion when performing filename
    expansion. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">nullglob</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, <span class="docEmphasis">bash</span>
    allows filename patterns that match no files to expand to a null string,
    rather than themselves. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">promptvars</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, prompt strings undergo
    variable and parameter expansion after being expanded. Enabled by default.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    restricted_shell</span> </td>
    <td class="docTableCell" vAlign="top">The shell sets this option if it is
    started in restricted mode. The value may not be changed. This is not reset
    when the startup files are executed, allowing the startup files to discover
    whether or not a shell is restricted. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">
    shift_verbose</span> </td>
    <td class="docTableCell" vAlign="top">If this is set, the
    <span class="docEmphasis">shift</span> built-in prints an error message when
    the shift count exceeds the number of positional parameters. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">sourcepath</span>
    </td>
    <td class="docTableCell" vAlign="top">If set, the <span class="docEmphasis">
    source</span> built-in uses the value of <span class="docEmphasis">PATH</span>
    to find the directory containing the file supplied as an argument. Enabled
    by default. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">source</span>
    </td>
    <td class="docTableCell" vAlign="top">A synonym for dot (.). </td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec29">11.3.15 Shell Built-In Commands</h4>
<p class="docText">The shell has a number of commands that are built-in to its
source code. Because the commands are built-in, the shell doesn't have to locate
them on disk, making execution much faster. The <span class="docEmphasis">help</span>
feature provided with <span class="docEmphasis">bash</span> gives you online
help for any built-in command. The built-in commands are listed in
<a class="docLink" href="#ch11table28">Table 11.28</a>.</p>

<table cellSpacing="0" cellPadding="1" width="100%" border="1">
  <caption>
  <h5 id="ch11table28" class="docTableTitle">Table 11.28. Built-In Commands</h5>
  </caption>
  <colgroup span="2" align="left">
  </colgroup>
  <tr>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">
    Command</span> </th>
    <th class="docTableHeader" vAlign="top"><span class="docEmphBoldItalic">What
    It Does</span> </th>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">:</span>
    </td>
    <td class="docTableCell" vAlign="top">Do-nothing command; returns exit
    status zero. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">. file</span>
    </td>
    <td class="docTableCell" vAlign="top">The <span class="docEmphasis">dot</span>
    command reads and executes command from file. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">break [n]</span>
    </td>
    <td class="docTableCell" vAlign="top">See &quot;<a class="docLink" href="_chapter 12.htm#ch12lev2sec20">Loop
    Control</a>&quot;. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">.</span>
    </td>
    <td class="docTableCell" vAlign="top">Executes program in context of current
    process; same as <span class="docEmphasis">source.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">alias</span>
    </td>
    <td class="docTableCell" vAlign="top">Lists and creates &quot;nicknames&quot; for
    existing commands. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">bg</span>
    </td>
    <td class="docTableCell" vAlign="top">Puts a job in the background. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">bind</span>
    </td>
    <td class="docTableCell" vAlign="top">Display current key and function
    bindings, or binds keys to a <span class="docEmphasis">readline</span>
    function or macro. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">break</span>
    </td>
    <td class="docTableCell" vAlign="top">Breaks out of the innermost loop. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">builtin [sh-builtin
    [args]]</span> </td>
    <td class="docTableCell" vAlign="top">Runs a shell built-in, passing it args
    and returning 0 exit status. Useful if a function and built-in have the same
    name. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">cd [arg]</span>
    </td>
    <td class="docTableCell" vAlign="top">Changes the directory to home if no
    <span class="docEmphasis">arg</span> or to value of
    <span class="docEmphasis">arg.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">command
    command [arg]</span> </td>
    <td class="docTableCell" vAlign="top">Runs a command even if a function has
    the same name; i.e., bypasses function lookup. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">continue [n]</span>
    </td>
    <td class="docTableCell" vAlign="top">See &quot;<a class="docLink" href="_chapter 12.htm#ch12lev2sec20">Loop
    Control</a>&quot;. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">declare [var]</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays all variables or declares
    variables with optional attributes. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">dirs</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays a list of currently
    remembered directories resulting from <span class="docEmphasis">pushd.</span>
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">disown</span>
    </td>
    <td class="docTableCell" vAlign="top">Removes an active job from the job
    table. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">echo [args]</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays args terminated with a
    newline. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">enable</span>
    </td>
    <td class="docTableCell" vAlign="top">Enables and disables shell built-in
    commands. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">eval [args]</span>
    </td>
    <td class="docTableCell" vAlign="top">Reads args as input to the shell and
    executes the resulting command(s). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exec command</span>
    </td>
    <td class="docTableCell" vAlign="top">Runs command in place of this shell.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">exit [n]</span>
    </td>
    <td class="docTableCell" vAlign="top">Exits the shell with status
    <span class="docEmphasis">n.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">export [var]</span>
    </td>
    <td class="docTableCell" vAlign="top">Makes <span class="docEmphasis">var</span>
    known to subshells. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">fc</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">History</span>'s
    fix command for editing history commands. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">fg</span>
    </td>
    <td class="docTableCell" vAlign="top">Puts background job into foreground.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">getopts</span>
    </td>
    <td class="docTableCell" vAlign="top">Parses and processes command line
    options. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">hash</span>
    </td>
    <td class="docTableCell" vAlign="top">Controls the internal hash table for
    quicker searches for commands. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">help
    [command]</span> </td>
    <td class="docTableCell" vAlign="top">Displays helpful info about built-in
    commands and, if command is specified, detailed help about that built-in
    command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">history</span>
    </td>
    <td class="docTableCell" vAlign="top">Displays the <span class="docEmphasis">
    history</span> list with line numbers. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">jobs</span>
    </td>
    <td class="docTableCell" vAlign="top">Lists jobs put in the background. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">kill
    [-signal process ]</span> </td>
    <td class="docTableCell" vAlign="top">Sends the signal to the PID number or
    job number of the process. Type at the prompt: <span class="docEmphasis">
    kill -l.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">getopts</span>
    </td>
    <td class="docTableCell" vAlign="top">Used in shell scripts to parse command
    line and check for legal options. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">let</span>
    </td>
    <td class="docTableCell" vAlign="top">Used for evaluating arithmetic
    expressions and assigning results of arithmetic calculations to variables.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">local</span>
    </td>
    <td class="docTableCell" vAlign="top">Used in functions to restrict the
    scope of variables to the function. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">logout</span>
    </td>
    <td class="docTableCell" vAlign="top">Exits the login shell. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">popd</span>
    </td>
    <td class="docTableCell" vAlign="top">Removes entries from the directory
    stack. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">pushd</span>
    </td>
    <td class="docTableCell" vAlign="top">Adds entries to the directory stack.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">pwd</span>
    </td>
    <td class="docTableCell" vAlign="top">Prints present working directory. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">read [var]</span>
    </td>
    <td class="docTableCell" vAlign="top">Reads line from standard input into
    variable <span class="docEmphasis">var.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">readonly [var]</span>
    </td>
    <td class="docTableCell" vAlign="top">Makes variable
    <span class="docEmphasis">var</span> read-only. Cannot be reset. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">return [n]</span>
    </td>
    <td class="docTableCell" vAlign="top">Returns from a function where
    <span class="docEmphasis">n</span> is the exit value given to the return.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">set</span>
    </td>
    <td class="docTableCell" vAlign="top">Sets options and positional
    parameters. See &quot;<a class="docLink" href="_chapter 12.htm#ch12lev2sec7">The
    set Command and Positional Parameters</a>&quot;. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">shift [n]</span>
    </td>
    <td class="docTableCell" vAlign="top">Shifts positional parameters to the
    left <span class="docEmphasis">n</span> times. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">stop pid</span>
    </td>
    <td class="docTableCell" vAlign="top">Halts execution of the process number
    PID. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">suspend</span>
    </td>
    <td class="docTableCell" vAlign="top">Stops execution of the current shell
    (but not if a login shell). </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">test</span>
    </td>
    <td class="docTableCell" vAlign="top">Checks file types and evaluates
    conditional expressions. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">times</span>
    </td>
    <td class="docTableCell" vAlign="top">Prints accumulated user and system
    <span class="docEmphasis">times</span> for processes run from this shell.
    </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">trap [arg]
    [n]</span> </td>
    <td class="docTableCell" vAlign="top">When shell receives signal
    <span class="docEmphasis">n</span> ( 0, 1, 2, or 15 ), executes
    <span class="docEmphasis">arg.</span> </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">type
    [command]</span> </td>
    <td class="docTableCell" vAlign="top">Prints the type of command; e.g.,
    <span class="docEmphasis">pwd</span> is a built-in shell command. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">typeset</span>
    </td>
    <td class="docTableCell" vAlign="top">Same as <span class="docEmphasis">
    declare.</span> Sets variables and gives them attributes. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">ulimit</span>
    </td>
    <td class="docTableCell" vAlign="top">Diplays and sets process resource
    limits. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">umask [octal
    digits]</span> </td>
    <td class="docTableCell" vAlign="top">Sets user file creation mode mask for
    owner, group, and others. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">unalias</span>
    </td>
    <td class="docTableCell" vAlign="top">Unsets aliases. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">unset [name]</span>
    </td>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">Unset</span>
    value of variable or function. </td>
  </tr>
  <tr>
    <td class="docTableCell" vAlign="top"><span class="docEmphasis">wait [pid#n]</span>
    </td>
    <td class="docTableCell" vAlign="top">Waits for background process with PID
    number <span class="docEmphasis">n</span> and reports termination status.
    </td>
  </tr>
</table>
<h3 class="docSection1Title" id="ch11lev1sec4">BASH SHELL LAB EXERCISES</h3>
<h4 class="docSection2Title" id="ch11lev2sec30">Lab 43: Getting Started</h4>

<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">What process puts the login prompt on your screen?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">What process assigns values to <span class="docEmphasis">
    HOME,</span> <span class="docEmphasis">LOGNAME,</span> and
    <span class="docEmphasis">PATH?</span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">How do you know what shell you are using?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>4:</b></td>
    <td>
    <p class="docText">What command will allow you to change your login shell?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>5:</b></td>
    <td>
    <p class="docText">Where is your login shell assigned? (What file?)</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>6:</b></td>
    <td>
    <p class="docText">Explain the difference between the
    <span class="docEmphasis">/etc/profile</span> and ~/<span class="docEmphasis">.bash_profile</span>
    file.</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>7:</b></td>
    <td>
    <p class="docText">Which one is executed first?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>8:</b></td>
    <td>
    <p class="docText">Edit your <span class="docEmphasis">.bash_profile</span>
    file as follows:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Welcome the user.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Add your home directory to the path if it is not there.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Set erase to the Backspace key using
      <span class="docEmphasis">stty.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Type <span class="docEmphasis">source.bash_profile.</span>
      What is the function of the <span class="docEmphasis">source</span>
      command?</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>9:</b></td>
    <td>
    <p class="docText">What is the <span class="docEmphasis">BASH_ENV</span>
    file? When is it executed?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>10:</b></td>
    <td>
    <p class="docText">What is the default primary prompt?</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Change the prompt to include the time of day and your
      home directory.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">What is the default secondary prompt? What is its
      function?</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>11:</b></td>
    <td>
    <p class="docText">Explain the function of each of the following settings:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">set <span class="docEmphasis">-o ignoreeof</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">set <span class="docEmphasis">-o noclobber</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">set <span class="docEmphasis">-o emacs</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">set<span class="docEmphasis">-o vi</span></span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>12:</b></td>
    <td>
    <p class="docText">In what file are the settings in the previous example
    stored? Why are they stored there?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>13:</b></td>
    <td>
    <p class="docText">What does <span class="docEmphasis">shopt -p</span> do?
    Why use <span class="docEmphasis">shopt</span> instead of
    <span class="docEmphasis">set?</span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>14:</b></td>
    <td>
    <p class="docText">What is a built-in command? How can you tell if a command
    is a built-in or an executable? What is the purpose of the
    <span class="docEmphasis">builtin</span> command? The
    <span class="docEmphasis">enable</span> command?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>15:</b></td>
    <td>
    <p class="docText">What would cause the shell to return an exit status of
    <span class="docEmphasis">127?</span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec31">Lab 44: Job Control</h4>

<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">What is the difference between a program and a process?
    What is a job?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">What is the PID of your shell?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">How do you stop a job?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>4:</b></td>
    <td>
    <p class="docText">What command brings a background job into the foreground?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>5:</b></td>
    <td>
    <p class="docText">How do you list all running jobs? All stopped jobs?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>6:</b></td>
    <td>
    <p class="docText">What is the purpose of the <span class="docEmphasis">kill</span>
    command?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>7:</b></td>
    <td>
    <p class="docText">What does <span class="docEmphasis">jobs -l</span>
    display? What does <span class="docEmphasis">kill -l</span> display?</td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec32">Lab 45: Command Completion, History, and Aliases</h4>

<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">What is filename completion?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">What is the name of the file that stores a history of
    commands entered at the command line?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">What does the <span class="docEmphasis">HISTSIZE</span>
    variable control? What does <span class="docEmphasis">HISTFILESIZE</span>
    control?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>4:</b></td>
    <td>
    <p class="docText">What does bang, bang mean?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>5:</b></td>
    <td>
    <p class="docText">How would you reexecute the last command that started
    with a <span class="docEmphasis">v?</span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>6:</b></td>
    <td>
    <p class="docText">How would you reexecute the 125th command? How would you
    print the history list in reverse?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>7:</b></td>
    <td>
    <p class="docText">How do you set interactive editing to use the
    <span class="docEmphasis">vi</span> editor? In what initialization file
    would you put this setting?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>8:</b></td>
    <td>
    <p class="docText">What is the <span class="docEmphasis">fc</span> command?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>9:</b></td>
    <td>
    <p class="docText">What is the purpose of the Readline library? From what
    initialization file does it read instructions?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>10:</b></td>
    <td>
    <p class="docText">What is key binding? How do you find out what keys are
    bound?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>11:</b></td>
    <td>
    <p class="docText">What is the universal argument?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>12:</b></td>
    <td>
    <p class="docText">Create an alias for the following commands:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">clear</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">fc -s</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">ls - -color=tty</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList"><span class="docEmphasis">kill -l</span></span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec33">Lab 46: Shell Metacharacters</h4>

<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">Make a directory called wildcards. Cd to that directory
    and type at the prompt:</p>
    <pre><span class="docEmphasis">touch ab abc a1 a2 a3 all a12 ba ba.1 ba.2 filex filey AbC ABC ABc2 abc</span>
</pre>
    </td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">Write and test the command that will do the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files starting with <span class="docEmphasis">
      a.</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files ending in at least one digit.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files starting with <span class="docEmphasis">
      a</span> or <span class="docEmphasis">A</span>.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files ending in a period, followed by a digit.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files containing just two alphabetic
      characters.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List three character files where all letters are
      uppercase.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List files ending in <span class="docEmphasis">10</span>,
      <span class="docEmphasis">11</span>, or <span class="docEmphasis">12</span>.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List files ending in <span class="docEmphasis">x</span>
      or <span class="docEmphasis">y</span>.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files ending in a digit, an uppercase letter,
      or a lowercase letter.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">List all files not starting with a
      <span class="docEmphasis">b</span> or <span class="docEmphasis">B</span>.</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Remove two character files starting with
      <span class="docEmphasis">a</span> or <span class="docEmphasis">A</span>.</span></li>
    </ol>
    </span></td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec34">Lab 47: Redirection</h4>

<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">What are the names of the three file streams associated
    with your terminal?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">What is a file descriptor?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">What command would you use to do the following:</p>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Redirect the output of the <span class="docEmphasis">ls</span>
      command to a file called <span class="docEmphasis">lsfile?</span></span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Redirect and append the output of the
      <span class="docEmphasis">date</span> command to <span class="docEmphasis">
      lsfile</span>?</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Redirect the output of the <span class="docEmphasis">
      who</span> command to <span class="docEmphasis">lsfile</span>? What
      happened?</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>4:</b></td>
    <td>
    <p class="docText">What happens when you type <span class="docEmphasis">cp</span>
    all by itself?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>5:</b></td>
    <td>
    <p class="docText">How do you save the error message from the above example
    to a file?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>6:</b></td>
    <td>
    <p class="docText">Use the <span class="docEmphasis">find</span> command to
    find all files, starting from the parent directory, of type
    <span class="docEmphasis">directory.</span> Save the standard output in a
    file called <span class="docEmphasis">found</span> and any errors in a file
    called <span class="docEmphasis">found.errs.</span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>7:</b></td>
    <td>
    <p class="docText">Take the output of three commands and redirect the output
    to a file called <span class="docEmphasis">gottem_all?</span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>8:</b></td>
    <td>
    <p class="docText">Use a pipe(s) with the <span class="docEmphasis">ps</span>
    and <span class="docEmphasis">wc</span> commands to find out how many
    processes you are currently running.</td>
  </tr>
</table>

<h4 class="docSection2Title" id="ch11lev2sec35">Lab 48: Variables</h4>

<table cellSpacing="16" cellpadding="5" border="0">
  <tr vAlign="top">
    <td class="docText" align="right"><b>1:</b></td>
    <td>
    <p class="docText">What is a positional parameter? Type at the command line:</p>
    <pre><span class="docEmphasis">set dogs cats birds fish</span>
</pre>
    <span style="FONT-WEIGHT: bold">
    <ol class="docList" type="a">
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">How do you list all of the positional parameters?</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">Which positional parameter is assigned
      <span class="docEmphasis">birds</span>?</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">How do you print the number of positional parameters?</span></li>
      <li><span style="FONT-WEIGHT: normal">
      <p class="docList">How do you remove all the positional parameters from
      the shell's memory?</span></li>
    </ol>
    </span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>2:</b></td>
    <td>
    <p class="docText">What is an environment variable? What is the command used
    to list them? Create an environment variable called
    <span class="docEmphasis">CITY</span> and assign it the value of your home
    town. How do you export it?</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>3:</b></td>
    <td>
    <p class="docText">What is a local variable? Set a local variable to your
    name. Print its value. Unset it.</td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>4:</b></td>
    <td>
    <p class="docText">What is the function of <span class="docEmphasis">declare
    -i?</span></td>
  </tr>
  <tr vAlign="top">
    <td class="docText" align="right"><b>5:</b></td>
    <td>
    <p class="docText">What does the <span class="docEmphasis">$$</span>
    variable display? What does the <span class="docEmphasis">$!</span> display?</td>
  </tr>
</table>
<blockquote><p class="docFootnote" id="EN11-1"><a class="docLink" href="#ENB11-1">[1]</a>&nbsp;&nbsp;Although bash is
  traditionally the default shell for Linux platforms, it now comes bundled with
  Solaris 8.</p><p class="docFootnote" id="EN11-2"><a class="docLink" href="#ENB11-2">[2]</a>&nbsp;&nbsp;To get the latest
  version of <span class="docEmphasis">bash,</span> visit
  <a class="docLink" href="http://www.delorie.com/gnu/" target="_blank">
  http://www.delorie.com/gnu/</a>.</p><p class="docFootnote" id="EN11-3"><a class="docLink" href="#ENB11-3">[3]</a>&nbsp;&nbsp;There are a
  number of different initialization files used by <span class="docEmphasis">
  bash;</span> they are discussed on the next pages.</p><p class="docFootnote" id="EN11-4"><a class="docLink" href="#ENB11-4">[4]</a>&nbsp;&nbsp;If the shell is
  invoked with the <span class="docEmphasis">-noprofile</span> option, none of
  the initialization files are read.</p><p class="docFootnote" id="EN11-5"><a class="docLink" href="#ENB11-5">[5]</a>&nbsp;&nbsp;If the set
  <span class="docEmphasis">-o</span> (editor) has not been set, but the
  <span class="docEmphasis">EDITOR</span> variable has been set to either
  <span class="docEmphasis">emacs</span> or <span class="docEmphasis">vi,</span>
  then bash will use that definition.</p><p class="docFootnote" id="EN11-6"><a class="docLink" href="#ENB11-6">[6]</a>&nbsp;&nbsp;  <span class="docEmphasis">vi</span> is case-sensitive; an uppercase
  <span class="docEmphasis">J</span> and a lowercase <span class="docEmphasis">j</span>
  are different commands.</p><p class="docFootnote" id="EN11-7"><a class="docLink" href="#ENB11-7">[7]</a>&nbsp;&nbsp;Whether the user
  saves and quits the editor, or simply quits the editor, the commands will all
  be executed, unless they are commented or deleted.</p><p class="docFootnote" id="EN11-8"><a class="docLink" href="#ENB11-8">[8]</a>&nbsp;&nbsp;The tilde
  character will not be expanded if enclosed in either double or single quotes.</p><p class="docFootnote" id="EN11-9"><a class="docLink" href="#ENB11-9">[9]</a>&nbsp;&nbsp;Bash Reference
  Manual:
  <a class="docLink" href="http://www.delorie.com/gnu/docs/bash/bashref_56.html" target="_blank">
  http://www.delorie.com/gnu/docs/bash/bashref_56.html</a>.</p><p class="docFootnote" id="EN11-10"><a class="docLink" href="#ENB11-10">[10]</a>&nbsp;&nbsp;A variable set
  to a value or to null will be displayed by using the set command, but an unset
  variable will not.</p><p class="docFootnote" id="EN11-11"><a class="docLink" href="#ENB11-11">[11]</a>&nbsp;&nbsp;Like DNA,
  inheritance goes one direction only, from parent to child.</p><p class="docFootnote" id="EN11-12"><a class="docLink" href="#ENB11-12">[12]</a>&nbsp;&nbsp;On
  <span class="docEmphasis">bash</span> versions 2.x, <span class="docEmphasis">
  printf</span> is a built-in command.</p><p class="docFootnote" id="EN11-13"><a class="docLink" href="#ENB11-13">[13]</a>&nbsp;&nbsp;The
  <span class="docEmphasis">bash</span> shell allows backquotes for command
  substitution for upward-compatibility, but provides an alternate method as
  well.</p></blockquote>
<table width="100%" border="1" bgcolor="#EBEBFF"><tr><td width="5%" align="left" valign="middle"><a href="_chapter 10.htm"><img src="Larrow.gif" width="17" height="19" border="0"></a></td><td align="center" valign="middle"><a class="docLink" href="Front matter.htm">CONTENTS</a></td><td width="5%" align="right" valign="middle"><a href="_chapter 12.htm"><img src="Rarrow.gif" width="17" height="19" border="0"></a></td></tr></table></body>

</html>