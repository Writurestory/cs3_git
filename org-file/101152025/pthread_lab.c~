1:  #include <pthread.h>
 2:  #include <stdio.h>
 3:  #include <stdlib.h>
 4:  
 5:  #define NUMBER_OF_THREADS 10
 6:  
 7:  void *print_hello_world(void *tid)
 8:  {
 9:    /* prints the thread's identifier, then exits.*/
10:    printf ("Thread %ld: Hello World!\n", (long)tid);
11:    pthread_exit(NULL);
12:  }
13:  
14:  int main(int argc, char *argv[])
15:  {
16:    pthread_t threads[NUMBER_OF_THREADS];
17:    int status;
18:    long i;
19:    for (i=0; i<NUMBER_OF_THREADS; i++)
20:      {
21:        status = pthread_create(&threads[i], NULL, print_hello_world, (void *)i);
22:        printf ("Main: creating thread %ld\n",i);
23:        /* printf("thread id: %d\n",threads[i]); */
24:  
25:        if(status != 0){
26:          printf ("Oops. pthread_create returned error code %d\n",status);
27:          exit(-1);
28:        }
29:        if(pthread_join(threads[i], NULL)){
30:          printf("error joining thread.");
31:          abort() ;
32:        }
33:   }
34:    exit(0);
35:  }
